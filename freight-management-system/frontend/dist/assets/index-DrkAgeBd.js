function jk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ol=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A2={exports:{}},If={},E2={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),Nk=Symbol.for("react.portal"),Sk=Symbol.for("react.fragment"),Pk=Symbol.for("react.strict_mode"),Ak=Symbol.for("react.profiler"),Ek=Symbol.for("react.provider"),Ok=Symbol.for("react.context"),Ck=Symbol.for("react.forward_ref"),Tk=Symbol.for("react.suspense"),kk=Symbol.for("react.memo"),Mk=Symbol.for("react.lazy"),Db=Symbol.iterator;function Lk(e){return e===null||typeof e!="object"?null:(e=Db&&e[Db]||e["@@iterator"],typeof e=="function"?e:null)}var O2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C2=Object.assign,T2={};function co(e,t,n){this.props=e,this.context=t,this.refs=T2,this.updater=n||O2}co.prototype.isReactComponent={};co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k2(){}k2.prototype=co.prototype;function bx(e,t,n){this.props=e,this.context=t,this.refs=T2,this.updater=n||O2}var wx=bx.prototype=new k2;wx.constructor=bx;C2(wx,co.prototype);wx.isPureReactComponent=!0;var Bb=Array.isArray,M2=Object.prototype.hasOwnProperty,_x={current:null},L2={key:!0,ref:!0,__self:!0,__source:!0};function I2(e,t,n){var r,i={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)M2.call(t,r)&&!L2.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Mc,type:e,key:s,ref:l,props:i,_owner:_x.current}}function Ik(e,t){return{$$typeof:Mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc}function Rk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fb=/\/+/g;function Op(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rk(""+e.key):t.toString(36)}function Xu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Mc:case Nk:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Op(l,0):r,Bb(i)?(n="",e!=null&&(n=e.replace(Fb,"$&/")+"/"),Xu(i,t,n,"",function(f){return f})):i!=null&&(jx(i)&&(i=Ik(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Fb,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",Bb(e))for(var c=0;c<e.length;c++){s=e[c];var d=r+Op(s,c);l+=Xu(s,t,n,d,i)}else if(d=Lk(e),typeof d=="function")for(e=d.call(e),c=0;!(s=e.next()).done;)s=s.value,d=r+Op(s,c++),l+=Xu(s,t,n,d,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function mu(e,t,n){if(e==null)return e;var r=[],i=0;return Xu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function $k(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},Qu={transition:null},Dk={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Qu,ReactCurrentOwner:_x};function R2(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:mu,forEach:function(e,t,n){mu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mu(e,function(){t++}),t},toArray:function(e){return mu(e,function(t){return t})||[]},only:function(e){if(!jx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=co;Re.Fragment=Sk;Re.Profiler=Ak;Re.PureComponent=bx;Re.StrictMode=Pk;Re.Suspense=Tk;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dk;Re.act=R2;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=C2({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=_x.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)M2.call(t,d)&&!L2.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:Mc,type:e.type,key:i,ref:s,props:r,_owner:l}};Re.createContext=function(e){return e={$$typeof:Ok,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ek,_context:e},e.Consumer=e};Re.createElement=I2;Re.createFactory=function(e){var t=I2.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:Ck,render:e}};Re.isValidElement=jx;Re.lazy=function(e){return{$$typeof:Mk,_payload:{_status:-1,_result:e},_init:$k}};Re.memo=function(e,t){return{$$typeof:kk,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Qu.transition;Qu.transition={};try{e()}finally{Qu.transition=t}};Re.unstable_act=R2;Re.useCallback=function(e,t){return tn.current.useCallback(e,t)};Re.useContext=function(e){return tn.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};Re.useEffect=function(e,t){return tn.current.useEffect(e,t)};Re.useId=function(){return tn.current.useId()};Re.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return tn.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};Re.useRef=function(e){return tn.current.useRef(e)};Re.useState=function(e){return tn.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return tn.current.useTransition()};Re.version="18.3.1";E2.exports=Re;var A=E2.exports;const G=Ke(A),Bk=jk({__proto__:null,default:G},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fk=A,zk=Symbol.for("react.element"),Uk=Symbol.for("react.fragment"),qk=Object.prototype.hasOwnProperty,Wk=Fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hk={key:!0,ref:!0,__self:!0,__source:!0};function $2(e,t,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)qk.call(t,r)&&!Hk.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zk,type:e,key:s,ref:l,props:i,_owner:Wk.current}}If.Fragment=Uk;If.jsx=$2;If.jsxs=$2;A2.exports=If;var a=A2.exports,Wm={},D2={exports:{}},Sn={},B2={exports:{}},F2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,J){var $=B.length;B.push(J);e:for(;0<$;){var K=$-1>>>1,ee=B[K];if(0<i(ee,J))B[K]=J,B[$]=ee,$=K;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],$=B.pop();if($!==J){B[0]=$;e:for(var K=0,ee=B.length,le=ee>>>1;K<le;){var de=2*(K+1)-1,se=B[de],U=de+1,q=B[U];if(0>i(se,$))U<ee&&0>i(q,se)?(B[K]=q,B[U]=$,K=U):(B[K]=se,B[de]=$,K=de);else if(U<ee&&0>i(q,$))B[K]=q,B[U]=$,K=U;else break e}}return J}function i(B,J){var $=B.sortIndex-J.sortIndex;return $!==0?$:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,h=null,g=3,j=!1,x=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=B)r(f),J.sortIndex=J.expirationTime,t(d,J);else break;J=n(f)}}function P(B){if(v=!1,w(B),!x)if(n(d)!==null)x=!0,X(S);else{var J=n(f);J!==null&&ne(P,J.startTime-B)}}function S(B,J){x=!1,v&&(v=!1,y(T),T=-1),j=!0;var $=g;try{for(w(J),h=n(d);h!==null&&(!(h.expirationTime>J)||B&&!R());){var K=h.callback;if(typeof K=="function"){h.callback=null,g=h.priorityLevel;var ee=K(h.expirationTime<=J);J=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(d)&&r(d),w(J)}else r(d);h=n(d)}if(h!==null)var le=!0;else{var de=n(f);de!==null&&ne(P,de.startTime-J),le=!1}return le}finally{h=null,g=$,j=!1}}var E=!1,C=null,T=-1,I=5,M=-1;function R(){return!(e.unstable_now()-M<I)}function F(){if(C!==null){var B=e.unstable_now();M=B;var J=!0;try{J=C(!0,B)}finally{J?W():(E=!1,C=null)}}else E=!1}var W;if(typeof _=="function")W=function(){_(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=F,W=function(){V.postMessage(null)}}else W=function(){N(F,0)};function X(B){C=B,E||(E=!0,W())}function ne(B,J){T=N(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){x||j||(x=!0,X(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(B){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var $=g;g=J;try{return B()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=g;g=B;try{return J()}finally{g=$}},e.unstable_scheduleCallback=function(B,J,$){var K=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,B={id:p++,callback:J,priorityLevel:B,startTime:$,expirationTime:ee,sortIndex:-1},$>K?(B.sortIndex=$,t(f,B),n(d)===null&&B===n(f)&&(v?(y(T),T=-1):v=!0,ne(P,$-K))):(B.sortIndex=ee,t(d,B),x||j||(x=!0,X(S))),B},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(B){var J=g;return function(){var $=g;g=J;try{return B.apply(this,arguments)}finally{g=$}}}})(F2);B2.exports=F2;var Vk=B2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=A,Nn=Vk;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z2=new Set,Tl={};function Ma(e,t){Es(e,t),Es(e+"Capture",t)}function Es(e,t){for(Tl[e]=t,e=0;e<t.length;e++)z2.add(t[e])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hm=Object.prototype.hasOwnProperty,Kk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zb={},Ub={};function Gk(e){return Hm.call(Ub,e)?!0:Hm.call(zb,e)?!1:Kk.test(e)?Ub[e]=!0:(zb[e]=!0,!1)}function Yk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xk(e,t,n,r){if(t===null||typeof t>"u"||Yk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nx=/[\-:]([a-z])/g;function Sx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nx,Sx);Ht[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nx,Sx);Ht[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nx,Sx);Ht[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Px(e,t,n,r){var i=Ht.hasOwnProperty(t)?Ht[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xk(t,n,i,r)&&(n=null),r||i===null?Gk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ni=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),is=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),U2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),Km=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),W2=Symbol.for("react.offscreen"),qb=Symbol.iterator;function Fo(e){return e===null||typeof e!="object"?null:(e=qb&&e[qb]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,Cp;function ll(e){if(Cp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cp=t&&t[1]||""}return`
`+Cp+e}var Tp=!1;function kp(e,t){if(!e||Tp)return"";Tp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,c=s.length-1;1<=l&&0<=c&&i[l]!==s[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==s[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==s[c]){var d=`
`+i[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=c);break}}}finally{Tp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ll(e):""}function Qk(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=kp(e.type,!1),e;case 11:return e=kp(e.type.render,!1),e;case 1:return e=kp(e.type,!0),e;default:return""}}function Gm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case as:return"Fragment";case is:return"Portal";case Vm:return"Profiler";case Ax:return"StrictMode";case Zm:return"Suspense";case Km:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q2:return(e.displayName||"Context")+".Consumer";case U2:return(e._context.displayName||"Context")+".Provider";case Ex:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ox:return t=e.displayName||null,t!==null?t:Gm(e.type)||"Memo";case di:t=e._payload,e=e._init;try{return Gm(e(t))}catch{}}return null}function Jk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gm(t);case 8:return t===Ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e4(e){var t=H2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xu(e){e._valueTracker||(e._valueTracker=e4(e))}function V2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ym(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z2(e,t){t=t.checked,t!=null&&Px(e,"checked",t,!1)}function Xm(e,t){Z2(e,t);var n=Oi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qm(e,t.type,Oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qm(e,t,n){(t!=="number"||hd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cl=Array.isArray;function bs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(cl(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oi(n)}}function K2(e,t){var n=Oi(t.value),r=Oi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function G2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?G2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vu,Y2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t4=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){t4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function X2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function Q2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var n4=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tg(e,t){if(t){if(n4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function ng(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=null;function Cx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ig=null,ws=null,_s=null;function Kb(e){if(e=Rc(e)){if(typeof ig!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Ff(t),ig(e.stateNode,e.type,t))}}function J2(e){ws?_s?_s.push(e):_s=[e]:ws=e}function eS(){if(ws){var e=ws,t=_s;if(_s=ws=null,Kb(e),t)for(e=0;e<t.length;e++)Kb(t[e])}}function tS(e,t){return e(t)}function nS(){}var Mp=!1;function rS(e,t,n){if(Mp)return e(t,n);Mp=!0;try{return tS(e,t,n)}finally{Mp=!1,(ws!==null||_s!==null)&&(nS(),eS())}}function Ml(e,t){var n=e.stateNode;if(n===null)return null;var r=Ff(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var ag=!1;if(Kr)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){ag=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{ag=!1}function r4(e,t,n,r,i,s,l,c,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var ml=!1,pd=null,md=!1,sg=null,i4={onError:function(e){ml=!0,pd=e}};function a4(e,t,n,r,i,s,l,c,d){ml=!1,pd=null,r4.apply(i4,arguments)}function s4(e,t,n,r,i,s,l,c,d){if(a4.apply(this,arguments),ml){if(ml){var f=pd;ml=!1,pd=null}else throw Error(fe(198));md||(md=!0,sg=f)}}function La(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gb(e){if(La(e)!==e)throw Error(fe(188))}function o4(e){var t=e.alternate;if(!t){if(t=La(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gb(i),e;if(s===r)return Gb(i),t;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=s;break}if(c===r){l=!0,r=i,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=i;break}if(c===r){l=!0,r=s,n=i;break}c=c.sibling}if(!l)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function aS(e){return e=o4(e),e!==null?sS(e):null}function sS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sS(e);if(t!==null)return t;e=e.sibling}return null}var oS=Nn.unstable_scheduleCallback,Yb=Nn.unstable_cancelCallback,l4=Nn.unstable_shouldYield,c4=Nn.unstable_requestPaint,jt=Nn.unstable_now,u4=Nn.unstable_getCurrentPriorityLevel,Tx=Nn.unstable_ImmediatePriority,lS=Nn.unstable_UserBlockingPriority,gd=Nn.unstable_NormalPriority,d4=Nn.unstable_LowPriority,cS=Nn.unstable_IdlePriority,Rf=null,br=null;function f4(e){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Rf,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:m4,h4=Math.log,p4=Math.LN2;function m4(e){return e>>>=0,e===0?32:31-(h4(e)/p4|0)|0}var yu=64,bu=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~i;c!==0?r=ul(c):(s&=l,s!==0&&(r=ul(s)))}else l=n&~i,l!==0?r=ul(l):s!==0&&(r=ul(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tr(t),i=1<<n,r|=e[n],t&=~i;return r}function g4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-tr(s),c=1<<l,d=i[l];d===-1?(!(c&n)||c&r)&&(i[l]=g4(c,t)):d<=t&&(e.expiredLanes|=c),s&=~c}}function og(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uS(){var e=yu;return yu<<=1,!(yu&4194240)&&(yu=64),e}function Lp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=n}function v4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function kx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ze=0;function dS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fS,Mx,hS,pS,mS,lg=!1,wu=[],yi=null,bi=null,wi=null,Ll=new Map,Il=new Map,pi=[],y4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xb(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Uo(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Rc(t),t!==null&&Mx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function b4(e,t,n,r,i){switch(t){case"focusin":return yi=Uo(yi,e,t,n,r,i),!0;case"dragenter":return bi=Uo(bi,e,t,n,r,i),!0;case"mouseover":return wi=Uo(wi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ll.set(s,Uo(Ll.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Uo(Il.get(s)||null,e,t,n,r,i)),!0}return!1}function gS(e){var t=oa(e.target);if(t!==null){var n=La(t);if(n!==null){if(t=n.tag,t===13){if(t=iS(n),t!==null){e.blockedOn=t,mS(e.priority,function(){hS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rg=r,n.target.dispatchEvent(r),rg=null}else return t=Rc(n),t!==null&&Mx(t),e.blockedOn=n,!1;t.shift()}return!0}function Qb(e,t,n){Ju(e)&&n.delete(t)}function w4(){lg=!1,yi!==null&&Ju(yi)&&(yi=null),bi!==null&&Ju(bi)&&(bi=null),wi!==null&&Ju(wi)&&(wi=null),Ll.forEach(Qb),Il.forEach(Qb)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,lg||(lg=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,w4)))}function Rl(e){function t(i){return qo(i,e)}if(0<wu.length){qo(wu[0],e);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yi!==null&&qo(yi,e),bi!==null&&qo(bi,e),wi!==null&&qo(wi,e),Ll.forEach(t),Il.forEach(t),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)gS(n),n.blockedOn===null&&pi.shift()}var js=ni.ReactCurrentBatchConfig,vd=!0;function _4(e,t,n,r){var i=Ze,s=js.transition;js.transition=null;try{Ze=1,Lx(e,t,n,r)}finally{Ze=i,js.transition=s}}function j4(e,t,n,r){var i=Ze,s=js.transition;js.transition=null;try{Ze=4,Lx(e,t,n,r)}finally{Ze=i,js.transition=s}}function Lx(e,t,n,r){if(vd){var i=cg(e,t,n,r);if(i===null)Wp(e,t,r,yd,n),Xb(e,r);else if(b4(i,e,t,n,r))r.stopPropagation();else if(Xb(e,r),t&4&&-1<y4.indexOf(e)){for(;i!==null;){var s=Rc(i);if(s!==null&&fS(s),s=cg(e,t,n,r),s===null&&Wp(e,t,r,yd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Wp(e,t,r,null,n)}}var yd=null;function cg(e,t,n,r){if(yd=null,e=Cx(r),e=oa(e),e!==null)if(t=La(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yd=e,null}function xS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u4()){case Tx:return 1;case lS:return 4;case gd:case d4:return 16;case cS:return 536870912;default:return 16}default:return 16}}var gi=null,Ix=null,ed=null;function vS(){if(ed)return ed;var e,t=Ix,n=t.length,r,i="value"in gi?gi.value:gi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[s-r];r++);return ed=i.slice(e,1<r?1-r:void 0)}function td(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _u(){return!0}function Jb(){return!1}function Pn(e){function t(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_u:Jb,this.isPropagationStopped=Jb,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rx=Pn(uo),Ic=gt({},uo,{view:0,detail:0}),N4=Pn(Ic),Ip,Rp,Wo,$f=gt({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wo&&(Wo&&e.type==="mousemove"?(Ip=e.screenX-Wo.screenX,Rp=e.screenY-Wo.screenY):Rp=Ip=0,Wo=e),Ip)},movementY:function(e){return"movementY"in e?e.movementY:Rp}}),ew=Pn($f),S4=gt({},$f,{dataTransfer:0}),P4=Pn(S4),A4=gt({},Ic,{relatedTarget:0}),$p=Pn(A4),E4=gt({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),O4=Pn(E4),C4=gt({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T4=Pn(C4),k4=gt({},uo,{data:0}),tw=Pn(k4),M4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I4[e])?!!t[e]:!1}function $x(){return R4}var $4=gt({},Ic,{key:function(e){if(e.key){var t=M4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=td(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(e){return e.type==="keypress"?td(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?td(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D4=Pn($4),B4=gt({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nw=Pn(B4),F4=gt({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),z4=Pn(F4),U4=gt({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),q4=Pn(U4),W4=gt({},$f,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H4=Pn(W4),V4=[9,13,27,32],Dx=Kr&&"CompositionEvent"in window,gl=null;Kr&&"documentMode"in document&&(gl=document.documentMode);var Z4=Kr&&"TextEvent"in window&&!gl,yS=Kr&&(!Dx||gl&&8<gl&&11>=gl),rw=" ",iw=!1;function bS(e,t){switch(e){case"keyup":return V4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function K4(e,t){switch(e){case"compositionend":return wS(t);case"keypress":return t.which!==32?null:(iw=!0,rw);case"textInput":return e=t.data,e===rw&&iw?null:e;default:return null}}function G4(e,t){if(ss)return e==="compositionend"||!Dx&&bS(e,t)?(e=vS(),ed=Ix=gi=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yS&&t.locale!=="ko"?null:t.data;default:return null}}var Y4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y4[e.type]:t==="textarea"}function _S(e,t,n,r){J2(r),t=bd(t,"onChange"),0<t.length&&(n=new Rx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xl=null,$l=null;function X4(e){MS(e,0)}function Df(e){var t=cs(e);if(V2(t))return e}function Q4(e,t){if(e==="change")return t}var jS=!1;if(Kr){var Dp;if(Kr){var Bp="oninput"in document;if(!Bp){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),Bp=typeof sw.oninput=="function"}Dp=Bp}else Dp=!1;jS=Dp&&(!document.documentMode||9<document.documentMode)}function ow(){xl&&(xl.detachEvent("onpropertychange",NS),$l=xl=null)}function NS(e){if(e.propertyName==="value"&&Df($l)){var t=[];_S(t,$l,e,Cx(e)),rS(X4,t)}}function J4(e,t,n){e==="focusin"?(ow(),xl=t,$l=n,xl.attachEvent("onpropertychange",NS)):e==="focusout"&&ow()}function eM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Df($l)}function tM(e,t){if(e==="click")return Df(t)}function nM(e,t){if(e==="input"||e==="change")return Df(t)}function rM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:rM;function Dl(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hm.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cw(e,t){var n=lw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lw(n)}}function SS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PS(){for(var e=window,t=hd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hd(e.document)}return t}function Bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iM(e){var t=PS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SS(n.ownerDocument.documentElement,n)){if(r!==null&&Bx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cw(n,s);var l=cw(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aM=Kr&&"documentMode"in document&&11>=document.documentMode,os=null,ug=null,vl=null,dg=!1;function uw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dg||os==null||os!==hd(r)||(r=os,"selectionStart"in r&&Bx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&Dl(vl,r)||(vl=r,r=bd(ug,"onSelect"),0<r.length&&(t=new Rx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=os)))}function ju(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ls={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},Fp={},AS={};Kr&&(AS=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Bf(e){if(Fp[e])return Fp[e];if(!ls[e])return e;var t=ls[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in AS)return Fp[e]=t[n];return e}var ES=Bf("animationend"),OS=Bf("animationiteration"),CS=Bf("animationstart"),TS=Bf("transitionend"),kS=new Map,dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){kS.set(e,t),Ma(t,[e])}for(var zp=0;zp<dw.length;zp++){var Up=dw[zp],sM=Up.toLowerCase(),oM=Up[0].toUpperCase()+Up.slice(1);Li(sM,"on"+oM)}Li(ES,"onAnimationEnd");Li(OS,"onAnimationIteration");Li(CS,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(TS,"onTransitionEnd");Es("onMouseEnter",["mouseout","mouseover"]);Es("onMouseLeave",["mouseout","mouseover"]);Es("onPointerEnter",["pointerout","pointerover"]);Es("onPointerLeave",["pointerout","pointerover"]);Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lM=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function fw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,s4(r,t,void 0,e),e.currentTarget=null}function MS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],d=c.instance,f=c.currentTarget;if(c=c.listener,d!==s&&i.isPropagationStopped())break e;fw(i,c,f),s=d}else for(l=0;l<r.length;l++){if(c=r[l],d=c.instance,f=c.currentTarget,c=c.listener,d!==s&&i.isPropagationStopped())break e;fw(i,c,f),s=d}}}if(md)throw e=sg,md=!1,sg=null,e}function it(e,t){var n=t[gg];n===void 0&&(n=t[gg]=new Set);var r=e+"__bubble";n.has(r)||(LS(t,e,2,!1),n.add(r))}function qp(e,t,n){var r=0;t&&(r|=4),LS(n,e,r,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Bl(e){if(!e[Nu]){e[Nu]=!0,z2.forEach(function(n){n!=="selectionchange"&&(lM.has(n)||qp(n,!1,e),qp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nu]||(t[Nu]=!0,qp("selectionchange",!1,t))}}function LS(e,t,n,r){switch(xS(t)){case 1:var i=_4;break;case 4:i=j4;break;default:i=Lx}n=i.bind(null,t,n,e),i=void 0,!ag||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;l=l.return}for(;c!==null;){if(l=oa(c),l===null)return;if(d=l.tag,d===5||d===6){r=s=l;continue e}c=c.parentNode}}r=r.return}rS(function(){var f=s,p=Cx(n),h=[];e:{var g=kS.get(e);if(g!==void 0){var j=Rx,x=e;switch(e){case"keypress":if(td(n)===0)break e;case"keydown":case"keyup":j=D4;break;case"focusin":x="focus",j=$p;break;case"focusout":x="blur",j=$p;break;case"beforeblur":case"afterblur":j=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=P4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=z4;break;case ES:case OS:case CS:j=O4;break;case TS:j=q4;break;case"scroll":j=N4;break;case"wheel":j=H4;break;case"copy":case"cut":case"paste":j=T4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=nw}var v=(t&4)!==0,N=!v&&e==="scroll",y=v?g!==null?g+"Capture":null:g;v=[];for(var _=f,w;_!==null;){w=_;var P=w.stateNode;if(w.tag===5&&P!==null&&(w=P,y!==null&&(P=Ml(_,y),P!=null&&v.push(Fl(_,P,w)))),N)break;_=_.return}0<v.length&&(g=new j(g,x,null,n,p),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==rg&&(x=n.relatedTarget||n.fromElement)&&(oa(x)||x[Gr]))break e;if((j||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,j?(x=n.relatedTarget||n.toElement,j=f,x=x?oa(x):null,x!==null&&(N=La(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(j=null,x=f),j!==x)){if(v=ew,P="onMouseLeave",y="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(v=nw,P="onPointerLeave",y="onPointerEnter",_="pointer"),N=j==null?g:cs(j),w=x==null?g:cs(x),g=new v(P,_+"leave",j,n,p),g.target=N,g.relatedTarget=w,P=null,oa(p)===f&&(v=new v(y,_+"enter",x,n,p),v.target=w,v.relatedTarget=N,P=v),N=P,j&&x)t:{for(v=j,y=x,_=0,w=v;w;w=Ja(w))_++;for(w=0,P=y;P;P=Ja(P))w++;for(;0<_-w;)v=Ja(v),_--;for(;0<w-_;)y=Ja(y),w--;for(;_--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ja(v),y=Ja(y)}v=null}else v=null;j!==null&&hw(h,g,j,v,!1),x!==null&&N!==null&&hw(h,N,x,v,!0)}}e:{if(g=f?cs(f):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var S=Q4;else if(aw(g))if(jS)S=nM;else{S=eM;var E=J4}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=tM);if(S&&(S=S(e,f))){_S(h,S,n,p);break e}E&&E(e,g,f),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Qm(g,"number",g.value)}switch(E=f?cs(f):window,e){case"focusin":(aw(E)||E.contentEditable==="true")&&(os=E,ug=f,vl=null);break;case"focusout":vl=ug=os=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,uw(h,n,p);break;case"selectionchange":if(aM)break;case"keydown":case"keyup":uw(h,n,p)}var C;if(Dx)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ss?bS(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(yS&&n.locale!=="ko"&&(ss||T!=="onCompositionStart"?T==="onCompositionEnd"&&ss&&(C=vS()):(gi=p,Ix="value"in gi?gi.value:gi.textContent,ss=!0)),E=bd(f,T),0<E.length&&(T=new tw(T,e,null,n,p),h.push({event:T,listeners:E}),C?T.data=C:(C=wS(n),C!==null&&(T.data=C)))),(C=Z4?K4(e,n):G4(e,n))&&(f=bd(f,"onBeforeInput"),0<f.length&&(p=new tw("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:f}),p.data=C))}MS(h,t)})}function Fl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ml(e,n),s!=null&&r.unshift(Fl(e,s,i)),s=Ml(e,t),s!=null&&r.push(Fl(e,s,i))),e=e.return}return r}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hw(e,t,n,r,i){for(var s=t._reactName,l=[];n!==null&&n!==r;){var c=n,d=c.alternate,f=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&f!==null&&(c=f,i?(d=Ml(n,s),d!=null&&l.unshift(Fl(n,d,c))):i||(d=Ml(n,s),d!=null&&l.push(Fl(n,d,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var cM=/\r\n?/g,uM=/\u0000|\uFFFD/g;function pw(e){return(typeof e=="string"?e:""+e).replace(cM,`
`).replace(uM,"")}function Su(e,t,n){if(t=pw(t),pw(e)!==t&&n)throw Error(fe(425))}function wd(){}var fg=null,hg=null;function pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,dM=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,fM=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(e){return mw.resolve(null).then(e).catch(hM)}:mg;function hM(e){setTimeout(function(){throw e})}function Hp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Rl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rl(t)}function _i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),vr="__reactFiber$"+fo,zl="__reactProps$"+fo,Gr="__reactContainer$"+fo,gg="__reactEvents$"+fo,pM="__reactListeners$"+fo,mM="__reactHandles$"+fo;function oa(e){var t=e[vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gr]||n[vr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gw(e);e!==null;){if(n=e[vr])return n;e=gw(e)}return t}e=n,n=e.parentNode}return null}function Rc(e){return e=e[vr]||e[Gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Ff(e){return e[zl]||null}var xg=[],us=-1;function Ii(e){return{current:e}}function ot(e){0>us||(e.current=xg[us],xg[us]=null,us--)}function nt(e,t){us++,xg[us]=e.current,e.current=t}var Ci={},Yt=Ii(Ci),un=Ii(!1),Sa=Ci;function Os(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function dn(e){return e=e.childContextTypes,e!=null}function _d(){ot(un),ot(Yt)}function xw(e,t,n){if(Yt.current!==Ci)throw Error(fe(168));nt(Yt,t),nt(un,n)}function IS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,Jk(e)||"Unknown",i));return gt({},n,r)}function jd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Sa=Yt.current,nt(Yt,e),nt(un,un.current),!0}function vw(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=IS(e,t,Sa),r.__reactInternalMemoizedMergedChildContext=e,ot(un),ot(Yt),nt(Yt,e)):ot(un),nt(un,n)}var Br=null,zf=!1,Vp=!1;function RS(e){Br===null?Br=[e]:Br.push(e)}function gM(e){zf=!0,RS(e)}function Ri(){if(!Vp&&Br!==null){Vp=!0;var e=0,t=Ze;try{var n=Br;for(Ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Br=null,zf=!1}catch(i){throw Br!==null&&(Br=Br.slice(e+1)),oS(Tx,Ri),i}finally{Ze=t,Vp=!1}}return null}var ds=[],fs=0,Nd=null,Sd=0,In=[],Rn=0,Pa=null,Fr=1,zr="";function ea(e,t){ds[fs++]=Sd,ds[fs++]=Nd,Nd=e,Sd=t}function $S(e,t,n){In[Rn++]=Fr,In[Rn++]=zr,In[Rn++]=Pa,Pa=e;var r=Fr;e=zr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(t)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Fr=1<<32-tr(t)+i|n<<i|r,zr=s+e}else Fr=1<<s|n<<i|r,zr=e}function Fx(e){e.return!==null&&(ea(e,1),$S(e,1,0))}function zx(e){for(;e===Nd;)Nd=ds[--fs],ds[fs]=null,Sd=ds[--fs],ds[fs]=null;for(;e===Pa;)Pa=In[--Rn],In[Rn]=null,zr=In[--Rn],In[Rn]=null,Fr=In[--Rn],In[Rn]=null}var jn=null,_n=null,ut=!1,Jn=null;function DS(e,t){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jn=e,_n=_i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jn=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pa!==null?{id:Fr,overflow:zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jn=e,_n=null,!0):!1;default:return!1}}function vg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yg(e){if(ut){var t=_n;if(t){var n=t;if(!yw(e,t)){if(vg(e))throw Error(fe(418));t=_i(n.nextSibling);var r=jn;t&&yw(e,t)?DS(r,n):(e.flags=e.flags&-4097|2,ut=!1,jn=e)}}else{if(vg(e))throw Error(fe(418));e.flags=e.flags&-4097|2,ut=!1,jn=e}}}function bw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jn=e}function Pu(e){if(e!==jn)return!1;if(!ut)return bw(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pg(e.type,e.memoizedProps)),t&&(t=_n)){if(vg(e))throw BS(),Error(fe(418));for(;t;)DS(e,t),t=_i(t.nextSibling)}if(bw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=_i(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=jn?_i(e.stateNode.nextSibling):null;return!0}function BS(){for(var e=_n;e;)e=_i(e.nextSibling)}function Cs(){_n=jn=null,ut=!1}function Ux(e){Jn===null?Jn=[e]:Jn.push(e)}var xM=ni.ReactCurrentBatchConfig;function Ho(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var c=i.refs;l===null?delete c[s]:c[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function Au(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ww(e){var t=e._init;return t(e._payload)}function FS(e){function t(y,_){if(e){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function n(y,_){if(!e)return null;for(;_!==null;)t(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Pi(y,_),y.index=0,y.sibling=null,y}function s(y,_,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=2,_):w):(y.flags|=2,_)):(y.flags|=1048576,_)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,_,w,P){return _===null||_.tag!==6?(_=Jp(w,y.mode,P),_.return=y,_):(_=i(_,w),_.return=y,_)}function d(y,_,w,P){var S=w.type;return S===as?p(y,_,w.props.children,P,w.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===di&&ww(S)===_.type)?(P=i(_,w.props),P.ref=Ho(y,_,w),P.return=y,P):(P=ld(w.type,w.key,w.props,null,y.mode,P),P.ref=Ho(y,_,w),P.return=y,P)}function f(y,_,w,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=em(w,y.mode,P),_.return=y,_):(_=i(_,w.children||[]),_.return=y,_)}function p(y,_,w,P,S){return _===null||_.tag!==7?(_=ma(w,y.mode,P,S),_.return=y,_):(_=i(_,w),_.return=y,_)}function h(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Jp(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gu:return w=ld(_.type,_.key,_.props,null,y.mode,w),w.ref=Ho(y,null,_),w.return=y,w;case is:return _=em(_,y.mode,w),_.return=y,_;case di:var P=_._init;return h(y,P(_._payload),w)}if(cl(_)||Fo(_))return _=ma(_,y.mode,w,null),_.return=y,_;Au(y,_)}return null}function g(y,_,w,P){var S=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:c(y,_,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:return w.key===S?d(y,_,w,P):null;case is:return w.key===S?f(y,_,w,P):null;case di:return S=w._init,g(y,_,S(w._payload),P)}if(cl(w)||Fo(w))return S!==null?null:p(y,_,w,P,null);Au(y,w)}return null}function j(y,_,w,P,S){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(w)||null,c(_,y,""+P,S);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case gu:return y=y.get(P.key===null?w:P.key)||null,d(_,y,P,S);case is:return y=y.get(P.key===null?w:P.key)||null,f(_,y,P,S);case di:var E=P._init;return j(y,_,w,E(P._payload),S)}if(cl(P)||Fo(P))return y=y.get(w)||null,p(_,y,P,S,null);Au(_,P)}return null}function x(y,_,w,P){for(var S=null,E=null,C=_,T=_=0,I=null;C!==null&&T<w.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var M=g(y,C,w[T],P);if(M===null){C===null&&(C=I);break}e&&C&&M.alternate===null&&t(y,C),_=s(M,_,T),E===null?S=M:E.sibling=M,E=M,C=I}if(T===w.length)return n(y,C),ut&&ea(y,T),S;if(C===null){for(;T<w.length;T++)C=h(y,w[T],P),C!==null&&(_=s(C,_,T),E===null?S=C:E.sibling=C,E=C);return ut&&ea(y,T),S}for(C=r(y,C);T<w.length;T++)I=j(C,y,T,w[T],P),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),_=s(I,_,T),E===null?S=I:E.sibling=I,E=I);return e&&C.forEach(function(R){return t(y,R)}),ut&&ea(y,T),S}function v(y,_,w,P){var S=Fo(w);if(typeof S!="function")throw Error(fe(150));if(w=S.call(w),w==null)throw Error(fe(151));for(var E=S=null,C=_,T=_=0,I=null,M=w.next();C!==null&&!M.done;T++,M=w.next()){C.index>T?(I=C,C=null):I=C.sibling;var R=g(y,C,M.value,P);if(R===null){C===null&&(C=I);break}e&&C&&R.alternate===null&&t(y,C),_=s(R,_,T),E===null?S=R:E.sibling=R,E=R,C=I}if(M.done)return n(y,C),ut&&ea(y,T),S;if(C===null){for(;!M.done;T++,M=w.next())M=h(y,M.value,P),M!==null&&(_=s(M,_,T),E===null?S=M:E.sibling=M,E=M);return ut&&ea(y,T),S}for(C=r(y,C);!M.done;T++,M=w.next())M=j(C,y,T,M.value,P),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?T:M.key),_=s(M,_,T),E===null?S=M:E.sibling=M,E=M);return e&&C.forEach(function(F){return t(y,F)}),ut&&ea(y,T),S}function N(y,_,w,P){if(typeof w=="object"&&w!==null&&w.type===as&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:e:{for(var S=w.key,E=_;E!==null;){if(E.key===S){if(S=w.type,S===as){if(E.tag===7){n(y,E.sibling),_=i(E,w.props.children),_.return=y,y=_;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===di&&ww(S)===E.type){n(y,E.sibling),_=i(E,w.props),_.ref=Ho(y,E,w),_.return=y,y=_;break e}n(y,E);break}else t(y,E);E=E.sibling}w.type===as?(_=ma(w.props.children,y.mode,P,w.key),_.return=y,y=_):(P=ld(w.type,w.key,w.props,null,y.mode,P),P.ref=Ho(y,_,w),P.return=y,y=P)}return l(y);case is:e:{for(E=w.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(y,_.sibling),_=i(_,w.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else t(y,_);_=_.sibling}_=em(w,y.mode,P),_.return=y,y=_}return l(y);case di:return E=w._init,N(y,_,E(w._payload),P)}if(cl(w))return x(y,_,w,P);if(Fo(w))return v(y,_,w,P);Au(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,w),_.return=y,y=_):(n(y,_),_=Jp(w,y.mode,P),_.return=y,y=_),l(y)):n(y,_)}return N}var Ts=FS(!0),zS=FS(!1),Pd=Ii(null),Ad=null,hs=null,qx=null;function Wx(){qx=hs=Ad=null}function Hx(e){var t=Pd.current;ot(Pd),e._currentValue=t}function bg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ad=e,qx=hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(qx!==e)if(e={context:e,memoizedValue:t,next:null},hs===null){if(Ad===null)throw Error(fe(308));hs=e,Ad.dependencies={lanes:0,firstContext:e}}else hs=hs.next=e;return t}var la=null;function Vx(e){la===null?la=[e]:la.push(e)}function US(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Vx(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yr(e,r)}function Yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fi=!1;function Zx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yr(e,n)}return i=r.interleaved,i===null?(t.next=t,Vx(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yr(e,n)}function nd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kx(e,n)}}function _w(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ed(e,t,n,r){var i=e.updateQueue;fi=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,f=d.next;d.next=null,l===null?s=f:l.next=f,l=d;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=d))}if(s!==null){var h=i.baseState;l=0,p=f=d=null,c=s;do{var g=c.lane,j=c.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:j,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=e,v=c;switch(g=t,j=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(j,h,g);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(j,h,g):x,g==null)break e;h=gt({},h,g);break e;case 2:fi=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else j={eventTime:j,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(f=p=j,d=h):p=p.next=j,l|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(p===null&&(d=h),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ea|=l,e.lanes=l,e.memoizedState=h}}function jw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var $c={},wr=Ii($c),Ul=Ii($c),ql=Ii($c);function ca(e){if(e===$c)throw Error(fe(174));return e}function Kx(e,t){switch(nt(ql,t),nt(Ul,e),nt(wr,$c),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eg(t,e)}ot(wr),nt(wr,t)}function ks(){ot(wr),ot(Ul),ot(ql)}function WS(e){ca(ql.current);var t=ca(wr.current),n=eg(t,e.type);t!==n&&(nt(Ul,e),nt(wr,n))}function Gx(e){Ul.current===e&&(ot(wr),ot(Ul))}var pt=Ii(0);function Od(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zp=[];function Yx(){for(var e=0;e<Zp.length;e++)Zp[e]._workInProgressVersionPrimary=null;Zp.length=0}var rd=ni.ReactCurrentDispatcher,Kp=ni.ReactCurrentBatchConfig,Aa=0,mt=null,Tt=null,$t=null,Cd=!1,yl=!1,Wl=0,vM=0;function Vt(){throw Error(fe(321))}function Xx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Qx(e,t,n,r,i,s){if(Aa=s,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rd.current=e===null||e.memoizedState===null?_M:jM,e=n(r,i),yl){s=0;do{if(yl=!1,Wl=0,25<=s)throw Error(fe(301));s+=1,$t=Tt=null,t.updateQueue=null,rd.current=NM,e=n(r,i)}while(yl)}if(rd.current=Td,t=Tt!==null&&Tt.next!==null,Aa=0,$t=Tt=mt=null,Cd=!1,t)throw Error(fe(300));return e}function Jx(){var e=Wl!==0;return Wl=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?mt.memoizedState=$t=e:$t=$t.next=e,$t}function qn(){if(Tt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=$t===null?mt.memoizedState:$t.next;if(t!==null)$t=t,Tt=e;else{if(e===null)throw Error(fe(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},$t===null?mt.memoizedState=$t=e:$t=$t.next=e}return $t}function Hl(e,t){return typeof t=="function"?t(e):t}function Gp(e){var t=qn(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=Tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=l=null,d=null,f=s;do{var p=f.lane;if((Aa&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var h={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(c=d=h,l=r):d=d.next=h,mt.lanes|=p,Ea|=p}f=f.next}while(f!==null&&f!==s);d===null?l=r:d.next=c,ar(r,t.memoizedState)||(on=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,mt.lanes|=s,Ea|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yp(e){var t=qn(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);ar(s,t.memoizedState)||(on=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function HS(){}function VS(e,t){var n=mt,r=qn(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,on=!0),r=r.queue,ev(GS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Vl(9,KS.bind(null,n,r,i,t),void 0,null),Dt===null)throw Error(fe(349));Aa&30||ZS(n,t,i)}return i}function ZS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KS(e,t,n,r){t.value=n,t.getSnapshot=r,YS(t)&&XS(e)}function GS(e,t,n){return n(function(){YS(t)&&XS(e)})}function YS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch{return!0}}function XS(e){var t=Yr(e,1);t!==null&&nr(t,e,1,-1)}function Nw(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:e},t.queue=e,e=e.dispatch=wM.bind(null,mt,e),[t.memoizedState,e]}function Vl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function QS(){return qn().memoizedState}function id(e,t,n,r){var i=gr();mt.flags|=e,i.memoizedState=Vl(1|t,n,void 0,r===void 0?null:r)}function Uf(e,t,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var l=Tt.memoizedState;if(s=l.destroy,r!==null&&Xx(r,l.deps)){i.memoizedState=Vl(t,n,s,r);return}}mt.flags|=e,i.memoizedState=Vl(1|t,n,s,r)}function Sw(e,t){return id(8390656,8,e,t)}function ev(e,t){return Uf(2048,8,e,t)}function JS(e,t){return Uf(4,2,e,t)}function eP(e,t){return Uf(4,4,e,t)}function tP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nP(e,t,n){return n=n!=null?n.concat([e]):null,Uf(4,4,tP.bind(null,t,e),n)}function tv(){}function rP(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iP(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aP(e,t,n){return Aa&21?(ar(n,t)||(n=uS(),mt.lanes|=n,Ea|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function yM(e,t){var n=Ze;Ze=n!==0&&4>n?n:4,e(!0);var r=Kp.transition;Kp.transition={};try{e(!1),t()}finally{Ze=n,Kp.transition=r}}function sP(){return qn().memoizedState}function bM(e,t,n){var r=Si(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oP(e))lP(t,n);else if(n=US(e,t,n,r),n!==null){var i=en();nr(n,e,r,i),cP(n,t,r)}}function wM(e,t,n){var r=Si(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oP(e))lP(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(i.hasEagerState=!0,i.eagerState=c,ar(c,l)){var d=t.interleaved;d===null?(i.next=i,Vx(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=US(e,t,i,r),n!==null&&(i=en(),nr(n,e,r,i),cP(n,t,r))}}function oP(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function lP(e,t){yl=Cd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kx(e,n)}}var Td={readContext:Un,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},_M={readContext:Un,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:Sw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,id(4194308,4,tP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return id(4194308,4,e,t)},useInsertionEffect:function(e,t){return id(4,2,e,t)},useMemo:function(e,t){var n=gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bM.bind(null,mt,e),[r.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:Nw,useDebugValue:tv,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=Nw(!1),t=e[0];return e=yM.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mt,i=gr();if(ut){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),Dt===null)throw Error(fe(349));Aa&30||ZS(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Sw(GS.bind(null,r,s,e),[e]),r.flags|=2048,Vl(9,KS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=gr(),t=Dt.identifierPrefix;if(ut){var n=zr,r=Fr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vM++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jM={readContext:Un,useCallback:rP,useContext:Un,useEffect:ev,useImperativeHandle:nP,useInsertionEffect:JS,useLayoutEffect:eP,useMemo:iP,useReducer:Gp,useRef:QS,useState:function(){return Gp(Hl)},useDebugValue:tv,useDeferredValue:function(e){var t=qn();return aP(t,Tt.memoizedState,e)},useTransition:function(){var e=Gp(Hl)[0],t=qn().memoizedState;return[e,t]},useMutableSource:HS,useSyncExternalStore:VS,useId:sP,unstable_isNewReconciler:!1},NM={readContext:Un,useCallback:rP,useContext:Un,useEffect:ev,useImperativeHandle:nP,useInsertionEffect:JS,useLayoutEffect:eP,useMemo:iP,useReducer:Yp,useRef:QS,useState:function(){return Yp(Hl)},useDebugValue:tv,useDeferredValue:function(e){var t=qn();return Tt===null?t.memoizedState=e:aP(t,Tt.memoizedState,e)},useTransition:function(){var e=Yp(Hl)[0],t=qn().memoizedState;return[e,t]},useMutableSource:HS,useSyncExternalStore:VS,useId:sP,unstable_isNewReconciler:!1};function Xn(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qf={isMounted:function(e){return(e=e._reactInternals)?La(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=en(),i=Si(e),s=Wr(r,i);s.payload=t,n!=null&&(s.callback=n),t=ji(e,s,i),t!==null&&(nr(t,e,i,r),nd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=en(),i=Si(e),s=Wr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ji(e,s,i),t!==null&&(nr(t,e,i,r),nd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),r=Si(e),i=Wr(n,r);i.tag=2,t!=null&&(i.callback=t),t=ji(e,i,r),t!==null&&(nr(t,e,r,n),nd(t,e,r))}};function Pw(e,t,n,r,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,s):!0}function uP(e,t,n){var r=!1,i=Ci,s=t.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=dn(t)?Sa:Yt.current,r=t.contextTypes,s=(r=r!=null)?Os(e,i):Ci),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Aw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qf.enqueueReplaceState(t,t.state,null)}function _g(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Zx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=dn(t)?Sa:Yt.current,i.context=Os(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(wg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qf.enqueueReplaceState(i,i.state,null),Ed(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var n="",r=t;do n+=Qk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Xp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var SM=typeof WeakMap=="function"?WeakMap:Map;function dP(e,t,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Md||(Md=!0,Mg=r),jg(e,t)},n}function fP(e,t,n){n=Wr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jg(e,t),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Ew(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new SM;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=BM.bind(null,e,t,n),t.then(e,e))}function Ow(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wr(-1,1),t.tag=2,ji(n,t,1))),n.lanes|=1),e)}var PM=ni.ReactCurrentOwner,on=!1;function Qt(e,t,n,r){t.child=e===null?zS(t,null,n,r):Ts(t,e.child,n,r)}function Tw(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=Qx(e,t,n,r,s,i),n=Jx(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xr(e,t,i)):(ut&&n&&Fx(t),t.flags|=1,Qt(e,t,r,i),t.child)}function kw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!cv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hP(e,t,s,r,i)):(e=ld(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(l,r)&&e.ref===t.ref)return Xr(e,t,i)}return t.flags|=1,e=Pi(s,r),e.ref=t.ref,e.return=t,t.child=e}function hP(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Dl(s,r)&&e.ref===t.ref)if(on=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,Xr(e,t,i)}return Ng(e,t,n,r,i)}function pP(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ms,yn),yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(ms,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(ms,yn),yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,nt(ms,yn),yn|=r;return Qt(e,t,i,n),t.child}function mP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ng(e,t,n,r,i){var s=dn(n)?Sa:Yt.current;return s=Os(t,s),Ns(t,i),n=Qx(e,t,n,r,s,i),r=Jx(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xr(e,t,i)):(ut&&r&&Fx(t),t.flags|=1,Qt(e,t,n,i),t.child)}function Mw(e,t,n,r,i){if(dn(n)){var s=!0;jd(t)}else s=!1;if(Ns(t,i),t.stateNode===null)ad(e,t),uP(t,n,r),_g(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Un(f):(f=dn(n)?Sa:Yt.current,f=Os(t,f));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||d!==f)&&Aw(t,l,r,f),fi=!1;var g=t.memoizedState;l.state=g,Ed(t,r,l,i),d=t.memoizedState,c!==r||g!==d||un.current||fi?(typeof p=="function"&&(wg(t,n,p,r),d=t.memoizedState),(c=fi||Pw(t,n,c,r,g,d,f))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=f,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,qS(e,t),c=t.memoizedProps,f=t.type===t.elementType?c:Xn(t.type,c),l.props=f,h=t.pendingProps,g=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Un(d):(d=dn(n)?Sa:Yt.current,d=Os(t,d));var j=n.getDerivedStateFromProps;(p=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==h||g!==d)&&Aw(t,l,r,d),fi=!1,g=t.memoizedState,l.state=g,Ed(t,r,l,i);var x=t.memoizedState;c!==h||g!==x||un.current||fi?(typeof j=="function"&&(wg(t,n,j,r),x=t.memoizedState),(f=fi||Pw(t,n,f,r,g,x,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=d,r=f):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Sg(e,t,n,r,s,i)}function Sg(e,t,n,r,i,s){mP(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&vw(t,n,!1),Xr(e,t,s);r=t.stateNode,PM.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,c,s)):Qt(e,t,c,s),t.memoizedState=r.state,i&&vw(t,n,!0),t.child}function gP(e){var t=e.stateNode;t.pendingContext?xw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xw(e,t.context,!1),Kx(e,t.containerInfo)}function Lw(e,t,n,r,i){return Cs(),Ux(i),t.flags|=256,Qt(e,t,n,r),t.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Ag(e){return{baseLanes:e,cachePool:null,transitions:null}}function xP(e,t,n){var r=t.pendingProps,i=pt.current,s=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),nt(pt,i&1),e===null)return yg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Vf(l,r,0,null),e=ma(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ag(n),t.memoizedState=Pg,e):nv(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return AM(e,t,l,r,c,i,n);if(s){s=r.fallback,l=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Pi(i,d),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Pi(c,s):(s=ma(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Ag(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Pg,r}return s=e.child,e=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nv(e,t){return t=Vf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eu(e,t,n,r){return r!==null&&Ux(r),Ts(t,e.child,null,n),e=nv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AM(e,t,n,r,i,s,l){if(n)return t.flags&256?(t.flags&=-257,r=Xp(Error(fe(422))),Eu(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Vf({mode:"visible",children:r.children},i,0,null),s=ma(s,i,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ts(t,e.child,null,l),t.child.memoizedState=Ag(l),t.memoizedState=Pg,s);if(!(t.mode&1))return Eu(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(fe(419)),r=Xp(s,r,void 0),Eu(e,t,l,r)}if(c=(l&e.childLanes)!==0,on||c){if(r=Dt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yr(e,i),nr(r,e,i,-1))}return lv(),r=Xp(Error(fe(421))),Eu(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=FM.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,_n=_i(i.nextSibling),jn=t,ut=!0,Jn=null,e!==null&&(In[Rn++]=Fr,In[Rn++]=zr,In[Rn++]=Pa,Fr=e.id,zr=e.overflow,Pa=t),t=nv(t,r.children),t.flags|=4096,t)}function Iw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bg(e.return,t,n)}function Qp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vP(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(e,t,r.children,n),r=pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iw(e,n,t);else if(e.tag===19)Iw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nt(pt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Od(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Od(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qp(t,!0,n,null,s);break;case"together":Qp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ad(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=Pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function EM(e,t,n){switch(t.tag){case 3:gP(t),Cs();break;case 5:WS(t);break;case 1:dn(t.type)&&jd(t);break;case 4:Kx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;nt(Pd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(nt(pt,pt.current&1),t.flags|=128,null):n&t.child.childLanes?xP(e,t,n):(nt(pt,pt.current&1),e=Xr(e,t,n),e!==null?e.sibling:null);nt(pt,pt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vP(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(pt,pt.current),r)break;return null;case 22:case 23:return t.lanes=0,pP(e,t,n)}return Xr(e,t,n)}var yP,Eg,bP,wP;yP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eg=function(){};bP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ca(wr.current);var s=null;switch(n){case"input":i=Ym(e,i),r=Ym(e,r),s=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":i=Jm(e,i),r=Jm(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wd)}tg(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Tl.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var d=r[f];if(c=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&d!==c&&(d!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(s=s||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&it("scroll",e),s||c===d||(s=[])):(s=s||[]).push(f,d))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};wP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vo(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function OM(e,t,n){var r=t.pendingProps;switch(zx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return dn(t.type)&&_d(),Zt(t),null;case 3:return r=t.stateNode,ks(),ot(un),ot(Yt),Yx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jn!==null&&(Rg(Jn),Jn=null))),Eg(e,t),Zt(t),null;case 5:Gx(t);var i=ca(ql.current);if(n=t.type,e!==null&&t.stateNode!=null)bP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return Zt(t),null}if(e=ca(wr.current),Pu(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[vr]=t,r[zl]=s,e=(t.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<dl.length;i++)it(dl[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":Wb(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":Vb(r,s),it("invalid",r)}tg(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];l==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Su(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Su(r.textContent,c,e),i=["children",""+c]):Tl.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&it("scroll",r)}switch(n){case"input":xu(r),Hb(r,s,!0);break;case"textarea":xu(r),Zb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=G2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[vr]=t,e[zl]=r,yP(e,t,!1,!1),t.stateNode=e;e:{switch(l=ng(n,r),n){case"dialog":it("cancel",e),it("close",e),i=r;break;case"iframe":case"object":case"embed":it("load",e),i=r;break;case"video":case"audio":for(i=0;i<dl.length;i++)it(dl[i],e);i=r;break;case"source":it("error",e),i=r;break;case"img":case"image":case"link":it("error",e),it("load",e),i=r;break;case"details":it("toggle",e),i=r;break;case"input":Wb(e,r),i=Ym(e,r),it("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),it("invalid",e);break;case"textarea":Vb(e,r),i=Jm(e,r),it("invalid",e);break;default:i=r}tg(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];s==="style"?Q2(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Y2(e,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&kl(e,d):typeof d=="number"&&kl(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tl.hasOwnProperty(s)?d!=null&&s==="onScroll"&&it("scroll",e):d!=null&&Px(e,s,d,l))}switch(n){case"input":xu(e),Hb(e,r,!1);break;case"textarea":xu(e),Zb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?bs(e,!!r.multiple,s,!1):r.defaultValue!=null&&bs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)wP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=ca(ql.current),ca(wr.current),Pu(t)){if(r=t.stateNode,n=t.memoizedProps,r[vr]=t,(s=r.nodeValue!==n)&&(e=jn,e!==null))switch(e.tag){case 3:Su(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=t,t.stateNode=r}return Zt(t),null;case 13:if(ot(pt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&_n!==null&&t.mode&1&&!(t.flags&128))BS(),Cs(),t.flags|=98560,s=!1;else if(s=Pu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[vr]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),s=!1}else Jn!==null&&(Rg(Jn),Jn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?kt===0&&(kt=3):lv())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return ks(),Eg(e,t),e===null&&Bl(t.stateNode.containerInfo),Zt(t),null;case 10:return Hx(t.type._context),Zt(t),null;case 17:return dn(t.type)&&_d(),Zt(t),null;case 19:if(ot(pt),s=t.memoizedState,s===null)return Zt(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Vo(s,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Od(e),l!==null){for(t.flags|=128,Vo(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(pt,pt.current&1|2),t.child}e=e.sibling}s.tail!==null&&jt()>Ls&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Od(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ut)return Zt(t),null}else 2*jt()-s.renderingStartTime>Ls&&n!==1073741824&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=jt(),t.sibling=null,n=pt.current,nt(pt,r?n&1|2:n&1),t):(Zt(t),null);case 22:case 23:return ov(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function CM(e,t){switch(zx(t),t.tag){case 1:return dn(t.type)&&_d(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ks(),ot(un),ot(Yt),Yx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gx(t),null;case 13:if(ot(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(pt),null;case 4:return ks(),null;case 10:return Hx(t.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var Ou=!1,Kt=!1,TM=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ps(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function Og(e,t,n){try{n()}catch(r){yt(e,t,r)}}var Rw=!1;function kM(e,t){if(fg=vd,e=PS(),Bx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,f=0,p=0,h=e,g=null;t:for(;;){for(var j;h!==n||i!==0&&h.nodeType!==3||(c=l+i),h!==s||r!==0&&h.nodeType!==3||(d=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(j=h.firstChild)!==null;)g=h,h=j;for(;;){if(h===e)break t;if(g===n&&++f===i&&(c=l),g===s&&++p===r&&(d=l),(j=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=j}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(hg={focusedElem:e,selectionRange:n},vd=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,N=x.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Xn(t.type,v),N);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(P){yt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return x=Rw,Rw=!1,x}function bl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Og(t,n,s)}i=i.next}while(i!==r)}}function Wf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _P(e){var t=e.alternate;t!==null&&(e.alternate=null,_P(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[zl],delete t[gg],delete t[pM],delete t[mM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jP(e){return e.tag===5||e.tag===3||e.tag===4}function $w(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wd));else if(r!==4&&(e=e.child,e!==null))for(Tg(e,t,n),e=e.sibling;e!==null;)Tg(e,t,n),e=e.sibling}function kg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kg(e,t,n),e=e.sibling;e!==null;)kg(e,t,n),e=e.sibling}var Ut=null,Qn=!1;function ui(e,t,n){for(n=n.child;n!==null;)NP(e,t,n),n=n.sibling}function NP(e,t,n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Rf,n)}catch{}switch(n.tag){case 5:Kt||ps(n,t);case 6:var r=Ut,i=Qn;Ut=null,ui(e,t,n),Ut=r,Qn=i,Ut!==null&&(Qn?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(Qn?(e=Ut,n=n.stateNode,e.nodeType===8?Hp(e.parentNode,n):e.nodeType===1&&Hp(e,n),Rl(e)):Hp(Ut,n.stateNode));break;case 4:r=Ut,i=Qn,Ut=n.stateNode.containerInfo,Qn=!0,ui(e,t,n),Ut=r,Qn=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Og(n,t,l),i=i.next}while(i!==r)}ui(e,t,n);break;case 1:if(!Kt&&(ps(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){yt(n,t,c)}ui(e,t,n);break;case 21:ui(e,t,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,ui(e,t,n),Kt=r):ui(e,t,n);break;default:ui(e,t,n)}}function Dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new TM),t.forEach(function(r){var i=zM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ut=c.stateNode,Qn=!1;break e;case 3:Ut=c.stateNode.containerInfo,Qn=!0;break e;case 4:Ut=c.stateNode.containerInfo,Qn=!0;break e}c=c.return}if(Ut===null)throw Error(fe(160));NP(s,l,i),Ut=null,Qn=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){yt(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SP(t,e),t=t.sibling}function SP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),pr(e),r&4){try{bl(3,e,e.return),Wf(3,e)}catch(v){yt(e,e.return,v)}try{bl(5,e,e.return)}catch(v){yt(e,e.return,v)}}break;case 1:Gn(t,e),pr(e),r&512&&n!==null&&ps(n,n.return);break;case 5:if(Gn(t,e),pr(e),r&512&&n!==null&&ps(n,n.return),e.flags&32){var i=e.stateNode;try{kl(i,"")}catch(v){yt(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Z2(i,s),ng(c,l);var f=ng(c,s);for(l=0;l<d.length;l+=2){var p=d[l],h=d[l+1];p==="style"?Q2(i,h):p==="dangerouslySetInnerHTML"?Y2(i,h):p==="children"?kl(i,h):Px(i,p,h,f)}switch(c){case"input":Xm(i,s);break;case"textarea":K2(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var j=s.value;j!=null?bs(i,!!s.multiple,j,!1):g!==!!s.multiple&&(s.defaultValue!=null?bs(i,!!s.multiple,s.defaultValue,!0):bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[zl]=s}catch(v){yt(e,e.return,v)}}break;case 6:if(Gn(t,e),pr(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){yt(e,e.return,v)}}break;case 3:if(Gn(t,e),pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(v){yt(e,e.return,v)}break;case 4:Gn(t,e),pr(e);break;case 13:Gn(t,e),pr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(av=jt())),r&4&&Dw(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(f=Kt)||p,Gn(t,e),Kt=f):Gn(t,e),pr(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(xe=e,p=e.child;p!==null;){for(h=xe=p;xe!==null;){switch(g=xe,j=g.child,g.tag){case 0:case 11:case 14:case 15:bl(4,g,g.return);break;case 1:ps(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){yt(r,n,v)}}break;case 5:ps(g,g.return);break;case 22:if(g.memoizedState!==null){Fw(h);continue}}j!==null?(j.return=g,xe=j):Fw(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=h.stateNode,d=h.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=X2("display",l))}catch(v){yt(e,e.return,v)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(v){yt(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(t,e),pr(e),r&4&&Dw(e);break;case 21:break;default:Gn(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jP(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kl(i,""),r.flags&=-33);var s=$w(e);kg(e,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,c=$w(e);Tg(e,c,l);break;default:throw Error(fe(161))}}catch(d){yt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MM(e,t,n){xe=e,PP(e)}function PP(e,t,n){for(var r=(e.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Ou;if(!l){var c=i.alternate,d=c!==null&&c.memoizedState!==null||Kt;c=Ou;var f=Kt;if(Ou=l,(Kt=d)&&!f)for(xe=i;xe!==null;)l=xe,d=l.child,l.tag===22&&l.memoizedState!==null?zw(i):d!==null?(d.return=l,xe=d):zw(i);for(;s!==null;)xe=s,PP(s),s=s.sibling;xe=i,Ou=c,Kt=f}Bw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):Bw(e)}}function Bw(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||Wf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jw(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jw(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Rl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Kt||t.flags&512&&Cg(t)}catch(g){yt(t,t.return,g)}}if(t===e){xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,xe=n;break}xe=t.return}}function Fw(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xe=n;break}xe=t.return}}function zw(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wf(4,t)}catch(d){yt(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){yt(t,i,d)}}var s=t.return;try{Cg(t)}catch(d){yt(t,s,d)}break;case 5:var l=t.return;try{Cg(t)}catch(d){yt(t,l,d)}}}catch(d){yt(t,t.return,d)}if(t===e){xe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,xe=c;break}xe=t.return}}var LM=Math.ceil,kd=ni.ReactCurrentDispatcher,rv=ni.ReactCurrentOwner,zn=ni.ReactCurrentBatchConfig,ze=0,Dt=null,At=null,Wt=0,yn=0,ms=Ii(0),kt=0,Zl=null,Ea=0,Hf=0,iv=0,wl=null,sn=null,av=0,Ls=1/0,$r=null,Md=!1,Mg=null,Ni=null,Cu=!1,xi=null,Ld=0,_l=0,Lg=null,sd=-1,od=0;function en(){return ze&6?jt():sd!==-1?sd:sd=jt()}function Si(e){return e.mode&1?ze&2&&Wt!==0?Wt&-Wt:xM.transition!==null?(od===0&&(od=uS()),od):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:xS(e.type)),e):1}function nr(e,t,n,r){if(50<_l)throw _l=0,Lg=null,Error(fe(185));Lc(e,n,r),(!(ze&2)||e!==Dt)&&(e===Dt&&(!(ze&2)&&(Hf|=n),kt===4&&mi(e,Wt)),fn(e,r),n===1&&ze===0&&!(t.mode&1)&&(Ls=jt()+500,zf&&Ri()))}function fn(e,t){var n=e.callbackNode;x4(e,t);var r=xd(e,e===Dt?Wt:0);if(r===0)n!==null&&Yb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yb(n),t===1)e.tag===0?gM(Uw.bind(null,e)):RS(Uw.bind(null,e)),fM(function(){!(ze&6)&&Ri()}),n=null;else{switch(dS(r)){case 1:n=Tx;break;case 4:n=lS;break;case 16:n=gd;break;case 536870912:n=cS;break;default:n=gd}n=LP(n,AP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function AP(e,t){if(sd=-1,od=0,ze&6)throw Error(fe(327));var n=e.callbackNode;if(Ss()&&e.callbackNode!==n)return null;var r=xd(e,e===Dt?Wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Id(e,r);else{t=r;var i=ze;ze|=2;var s=OP();(Dt!==e||Wt!==t)&&($r=null,Ls=jt()+500,pa(e,t));do try{$M();break}catch(c){EP(e,c)}while(!0);Wx(),kd.current=s,ze=i,At!==null?t=0:(Dt=null,Wt=0,t=kt)}if(t!==0){if(t===2&&(i=og(e),i!==0&&(r=i,t=Ig(e,i))),t===1)throw n=Zl,pa(e,0),mi(e,r),fn(e,jt()),n;if(t===6)mi(e,r);else{if(i=e.current.alternate,!(r&30)&&!IM(i)&&(t=Id(e,r),t===2&&(s=og(e),s!==0&&(r=s,t=Ig(e,s))),t===1))throw n=Zl,pa(e,0),mi(e,r),fn(e,jt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:ta(e,sn,$r);break;case 3:if(mi(e,r),(r&130023424)===r&&(t=av+500-jt(),10<t)){if(xd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){en(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mg(ta.bind(null,e,sn,$r),t);break}ta(e,sn,$r);break;case 4:if(mi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-tr(r);s=1<<l,l=t[l],l>i&&(i=l),r&=~s}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LM(r/1960))-r,10<r){e.timeoutHandle=mg(ta.bind(null,e,sn,$r),r);break}ta(e,sn,$r);break;case 5:ta(e,sn,$r);break;default:throw Error(fe(329))}}}return fn(e,jt()),e.callbackNode===n?AP.bind(null,e):null}function Ig(e,t){var n=wl;return e.current.memoizedState.isDehydrated&&(pa(e,t).flags|=256),e=Id(e,t),e!==2&&(t=sn,sn=n,t!==null&&Rg(t)),e}function Rg(e){sn===null?sn=e:sn.push.apply(sn,e)}function IM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t){for(t&=~iv,t&=~Hf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),r=1<<n;e[n]=-1,t&=~r}}function Uw(e){if(ze&6)throw Error(fe(327));Ss();var t=xd(e,0);if(!(t&1))return fn(e,jt()),null;var n=Id(e,t);if(e.tag!==0&&n===2){var r=og(e);r!==0&&(t=r,n=Ig(e,r))}if(n===1)throw n=Zl,pa(e,0),mi(e,t),fn(e,jt()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ta(e,sn,$r),fn(e,jt()),null}function sv(e,t){var n=ze;ze|=1;try{return e(t)}finally{ze=n,ze===0&&(Ls=jt()+500,zf&&Ri())}}function Oa(e){xi!==null&&xi.tag===0&&!(ze&6)&&Ss();var t=ze;ze|=1;var n=zn.transition,r=Ze;try{if(zn.transition=null,Ze=1,e)return e()}finally{Ze=r,zn.transition=n,ze=t,!(ze&6)&&Ri()}}function ov(){yn=ms.current,ot(ms)}function pa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dM(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(zx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_d();break;case 3:ks(),ot(un),ot(Yt),Yx();break;case 5:Gx(r);break;case 4:ks();break;case 13:ot(pt);break;case 19:ot(pt);break;case 10:Hx(r.type._context);break;case 22:case 23:ov()}n=n.return}if(Dt=e,At=e=Pi(e.current,null),Wt=yn=t,kt=0,Zl=null,iv=Hf=Ea=0,sn=wl=null,la!==null){for(t=0;t<la.length;t++)if(n=la[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}la=null}return e}function EP(e,t){do{var n=At;try{if(Wx(),rd.current=Td,Cd){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(Aa=0,$t=Tt=mt=null,yl=!1,Wl=0,rv.current=null,n===null||n.return===null){kt=1,Zl=t,At=null;break}e:{var s=e,l=n.return,c=n,d=t;if(t=Wt,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=c,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var j=Ow(l);if(j!==null){j.flags&=-257,Cw(j,l,c,s,t),j.mode&1&&Ew(s,f,t),t=j,d=f;var x=t.updateQueue;if(x===null){var v=new Set;v.add(d),t.updateQueue=v}else x.add(d);break e}else{if(!(t&1)){Ew(s,f,t),lv();break e}d=Error(fe(426))}}else if(ut&&c.mode&1){var N=Ow(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Cw(N,l,c,s,t),Ux(Ms(d,c));break e}}s=d=Ms(d,c),kt!==4&&(kt=2),wl===null?wl=[s]:wl.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=dP(s,d,t);_w(s,y);break e;case 1:c=d;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ni===null||!Ni.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=fP(s,c,t);_w(s,P);break e}}s=s.return}while(s!==null)}TP(n)}catch(S){t=S,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function OP(){var e=kd.current;return kd.current=Td,e===null?Td:e}function lv(){(kt===0||kt===3||kt===2)&&(kt=4),Dt===null||!(Ea&268435455)&&!(Hf&268435455)||mi(Dt,Wt)}function Id(e,t){var n=ze;ze|=2;var r=OP();(Dt!==e||Wt!==t)&&($r=null,pa(e,t));do try{RM();break}catch(i){EP(e,i)}while(!0);if(Wx(),ze=n,kd.current=r,At!==null)throw Error(fe(261));return Dt=null,Wt=0,kt}function RM(){for(;At!==null;)CP(At)}function $M(){for(;At!==null&&!l4();)CP(At)}function CP(e){var t=MP(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?TP(e):At=t,rv.current=null}function TP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CM(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,At=null;return}}else if(n=OM(n,t,yn),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);kt===0&&(kt=5)}function ta(e,t,n){var r=Ze,i=zn.transition;try{zn.transition=null,Ze=1,DM(e,t,n,r)}finally{zn.transition=i,Ze=r}return null}function DM(e,t,n,r){do Ss();while(xi!==null);if(ze&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(v4(e,s),e===Dt&&(At=Dt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,LP(gd,function(){return Ss(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var l=Ze;Ze=1;var c=ze;ze|=4,rv.current=null,kM(e,n),SP(n,e),iM(hg),vd=!!fg,hg=fg=null,e.current=n,MM(n),c4(),ze=c,Ze=l,zn.transition=s}else e.current=n;if(Cu&&(Cu=!1,xi=e,Ld=i),s=e.pendingLanes,s===0&&(Ni=null),f4(n.stateNode),fn(e,jt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,e=Mg,Mg=null,e;return Ld&1&&e.tag!==0&&Ss(),s=e.pendingLanes,s&1?e===Lg?_l++:(_l=0,Lg=e):_l=0,Ri(),null}function Ss(){if(xi!==null){var e=dS(Ld),t=zn.transition,n=Ze;try{if(zn.transition=null,Ze=16>e?16:e,xi===null)var r=!1;else{if(e=xi,xi=null,Ld=0,ze&6)throw Error(fe(331));var i=ze;for(ze|=4,xe=e.current;xe!==null;){var s=xe,l=s.child;if(xe.flags&16){var c=s.deletions;if(c!==null){for(var d=0;d<c.length;d++){var f=c[d];for(xe=f;xe!==null;){var p=xe;switch(p.tag){case 0:case 11:case 15:bl(8,p,s)}var h=p.child;if(h!==null)h.return=p,xe=h;else for(;xe!==null;){p=xe;var g=p.sibling,j=p.return;if(_P(p),p===f){xe=null;break}if(g!==null){g.return=j,xe=g;break}xe=j}}}var x=s.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}xe=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,xe=l;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,xe=y;break e}xe=s.return}}var _=e.current;for(xe=_;xe!==null;){l=xe;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,xe=w;else e:for(l=_;xe!==null;){if(c=xe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Wf(9,c)}}catch(S){yt(c,c.return,S)}if(c===l){xe=null;break e}var P=c.sibling;if(P!==null){P.return=c.return,xe=P;break e}xe=c.return}}if(ze=i,Ri(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Rf,e)}catch{}r=!0}return r}finally{Ze=n,zn.transition=t}}return!1}function qw(e,t,n){t=Ms(n,t),t=dP(e,t,1),e=ji(e,t,1),t=en(),e!==null&&(Lc(e,1,t),fn(e,t))}function yt(e,t,n){if(e.tag===3)qw(e,e,n);else for(;t!==null;){if(t.tag===3){qw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){e=Ms(n,e),e=fP(t,e,1),t=ji(t,e,1),e=en(),t!==null&&(Lc(t,1,e),fn(t,e));break}}t=t.return}}function BM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(Wt&n)===n&&(kt===4||kt===3&&(Wt&130023424)===Wt&&500>jt()-av?pa(e,0):iv|=n),fn(e,t)}function kP(e,t){t===0&&(e.mode&1?(t=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):t=1);var n=en();e=Yr(e,t),e!==null&&(Lc(e,t,n),fn(e,n))}function FM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kP(e,n)}function zM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),kP(e,n)}var MP;MP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,EM(e,t,n);on=!!(e.flags&131072)}else on=!1,ut&&t.flags&1048576&&$S(t,Sd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ad(e,t),e=t.pendingProps;var i=Os(t,Yt.current);Ns(t,n),i=Qx(null,t,r,e,i,n);var s=Jx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(r)?(s=!0,jd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zx(t),i.updater=qf,t.stateNode=i,i._reactInternals=t,_g(t,r,e,n),t=Sg(null,t,r,!0,s,n)):(t.tag=0,ut&&s&&Fx(t),Qt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ad(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=qM(r),e=Xn(r,e),i){case 0:t=Ng(null,t,r,e,n);break e;case 1:t=Mw(null,t,r,e,n);break e;case 11:t=Tw(null,t,r,e,n);break e;case 14:t=kw(null,t,r,Xn(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),Ng(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),Mw(e,t,r,i,n);case 3:e:{if(gP(t),e===null)throw Error(fe(387));r=t.pendingProps,s=t.memoizedState,i=s.element,qS(e,t),Ed(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ms(Error(fe(423)),t),t=Lw(e,t,r,n,i);break e}else if(r!==i){i=Ms(Error(fe(424)),t),t=Lw(e,t,r,n,i);break e}else for(_n=_i(t.stateNode.containerInfo.firstChild),jn=t,ut=!0,Jn=null,n=zS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===i){t=Xr(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 5:return WS(t),e===null&&yg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,pg(r,i)?l=null:s!==null&&pg(r,s)&&(t.flags|=32),mP(e,t),Qt(e,t,l,n),t.child;case 6:return e===null&&yg(t),null;case 13:return xP(e,t,n);case 4:return Kx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ts(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),Tw(e,t,r,i,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,nt(Pd,r._currentValue),r._currentValue=l,s!==null)if(ar(s.value,l)){if(s.children===i.children&&!un.current){t=Xr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){l=s.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=Wr(-1,n&-n),d.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),bg(s.return,n,t),c.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(fe(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),bg(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Qt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),i=Un(i),r=r(i),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return r=t.type,i=Xn(r,t.pendingProps),i=Xn(r.type,i),kw(e,t,r,i,n);case 15:return hP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),ad(e,t),t.tag=1,dn(r)?(e=!0,jd(t)):e=!1,Ns(t,n),uP(t,r,i),_g(t,r,i,n),Sg(null,t,r,!0,e,n);case 19:return vP(e,t,n);case 22:return pP(e,t,n)}throw Error(fe(156,t.tag))};function LP(e,t){return oS(e,t)}function UM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new UM(e,t,n,r)}function cv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qM(e){if(typeof e=="function")return cv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ex)return 11;if(e===Ox)return 14}return 2}function Pi(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ld(e,t,n,r,i,s){var l=2;if(r=e,typeof e=="function")cv(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case as:return ma(n.children,i,s,t);case Ax:l=8,i|=8;break;case Vm:return e=Dn(12,n,t,i|2),e.elementType=Vm,e.lanes=s,e;case Zm:return e=Dn(13,n,t,i),e.elementType=Zm,e.lanes=s,e;case Km:return e=Dn(19,n,t,i),e.elementType=Km,e.lanes=s,e;case W2:return Vf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U2:l=10;break e;case q2:l=9;break e;case Ex:l=11;break e;case Ox:l=14;break e;case di:l=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Dn(l,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ma(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function Vf(e,t,n,r){return e=Dn(22,e,r,t),e.elementType=W2,e.lanes=n,e.stateNode={isHidden:!1},e}function Jp(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function em(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WM(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lp(0),this.expirationTimes=Lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uv(e,t,n,r,i,s,l,c,d){return e=new WM(e,t,n,c,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Dn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zx(s),e}function HM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function IP(e){if(!e)return Ci;e=e._reactInternals;e:{if(La(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(dn(n))return IS(e,n,t)}return t}function RP(e,t,n,r,i,s,l,c,d){return e=uv(n,r,!0,e,i,s,l,c,d),e.context=IP(null),n=e.current,r=en(),i=Si(n),s=Wr(r,i),s.callback=t??null,ji(n,s,i),e.current.lanes=i,Lc(e,i,r),fn(e,r),e}function Zf(e,t,n,r){var i=t.current,s=en(),l=Si(i);return n=IP(n),t.context===null?t.context=n:t.pendingContext=n,t=Wr(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ji(i,t,l),e!==null&&(nr(e,i,l,s),nd(e,i,l)),l}function Rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ww(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dv(e,t){Ww(e,t),(e=e.alternate)&&Ww(e,t)}function VM(){return null}var $P=typeof reportError=="function"?reportError:function(e){console.error(e)};function fv(e){this._internalRoot=e}Kf.prototype.render=fv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Zf(e,t,null,null)};Kf.prototype.unmount=fv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oa(function(){Zf(null,e,null,null)}),t[Gr]=null}};function Kf(e){this._internalRoot=e}Kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=pS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&t!==0&&t<pi[n].priority;n++);pi.splice(n,0,e),n===0&&gS(e)}};function hv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hw(){}function ZM(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Rd(l);s.call(f)}}var l=RP(t,r,e,0,null,!1,!1,"",Hw);return e._reactRootContainer=l,e[Gr]=l.current,Bl(e.nodeType===8?e.parentNode:e),Oa(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var f=Rd(d);c.call(f)}}var d=uv(e,0,!1,null,null,!1,!1,"",Hw);return e._reactRootContainer=d,e[Gr]=d.current,Bl(e.nodeType===8?e.parentNode:e),Oa(function(){Zf(t,d,n,r)}),d}function Yf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var c=i;i=function(){var d=Rd(l);c.call(d)}}Zf(t,l,e,i)}else l=ZM(n,t,e,i,r);return Rd(l)}fS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ul(t.pendingLanes);n!==0&&(kx(t,n|1),fn(t,jt()),!(ze&6)&&(Ls=jt()+500,Ri()))}break;case 13:Oa(function(){var r=Yr(e,1);if(r!==null){var i=en();nr(r,e,1,i)}}),dv(e,1)}};Mx=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var n=en();nr(t,e,134217728,n)}dv(e,134217728)}};hS=function(e){if(e.tag===13){var t=Si(e),n=Yr(e,t);if(n!==null){var r=en();nr(n,e,t,r)}dv(e,t)}};pS=function(){return Ze};mS=function(e,t){var n=Ze;try{return Ze=e,t()}finally{Ze=n}};ig=function(e,t,n){switch(t){case"input":if(Xm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ff(r);if(!i)throw Error(fe(90));V2(r),Xm(r,i)}}}break;case"textarea":K2(e,n);break;case"select":t=n.value,t!=null&&bs(e,!!n.multiple,t,!1)}};tS=sv;nS=Oa;var KM={usingClientEntryPoint:!1,Events:[Rc,cs,Ff,J2,eS,sv]},Zo={findFiberByHostInstance:oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GM={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aS(e),e===null?null:e.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||VM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Rf=Tu.inject(GM),br=Tu}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KM;Sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hv(t))throw Error(fe(200));return HM(e,t,null,n)};Sn.createRoot=function(e,t){if(!hv(e))throw Error(fe(299));var n=!1,r="",i=$P;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uv(e,1,!1,null,null,n,!1,r,i),e[Gr]=t.current,Bl(e.nodeType===8?e.parentNode:e),new fv(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=aS(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return Oa(e)};Sn.hydrate=function(e,t,n){if(!Gf(t))throw Error(fe(200));return Yf(null,e,t,!0,n)};Sn.hydrateRoot=function(e,t,n){if(!hv(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=$P;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=RP(t,null,e,1,n??null,i,!1,s,l),e[Gr]=t.current,Bl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kf(t)};Sn.render=function(e,t,n){if(!Gf(t))throw Error(fe(200));return Yf(null,e,t,!1,n)};Sn.unmountComponentAtNode=function(e){if(!Gf(e))throw Error(fe(40));return e._reactRootContainer?(Oa(function(){Yf(null,null,e,!1,function(){e._reactRootContainer=null,e[Gr]=null})}),!0):!1};Sn.unstable_batchedUpdates=sv;Sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gf(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Yf(e,t,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function DP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DP)}catch(e){console.error(e)}}DP(),D2.exports=Sn;var BP=D2.exports,Vw=BP;Wm.createRoot=Vw.createRoot,Wm.hydrateRoot=Vw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kl.apply(this,arguments)}var vi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vi||(vi={}));const Zw="popstate";function YM(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:l,hash:c}=r.location;return $d("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gl(i)}return FP(t,n,null,e)}function XM(e){e===void 0&&(e={});function t(i,s){let{pathname:l="/",search:c="",hash:d=""}=Ia(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),$d("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:Gl(s))}function r(i,s){pv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return FP(t,n,r,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QM(){return Math.random().toString(36).substr(2,8)}function Kw(e,t){return{usr:e.state,key:e.key,idx:t}}function $d(e,t,n,r){return n===void 0&&(n=null),Kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ia(t):t,{state:n,key:t&&t.key||r||QM()})}function Gl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ia(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function FP(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c=vi.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(Kl({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function h(){c=vi.Pop;let N=p(),y=N==null?null:N-f;f=N,d&&d({action:c,location:v.location,delta:y})}function g(N,y){c=vi.Push;let _=$d(v.location,N,y);n&&n(_,N),f=p()+1;let w=Kw(_,f),P=v.createHref(_);try{l.pushState(w,"",P)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(P)}s&&d&&d({action:c,location:v.location,delta:1})}function j(N,y){c=vi.Replace;let _=$d(v.location,N,y);n&&n(_,N),f=p();let w=Kw(_,f),P=v.createHref(_);l.replaceState(w,"",P),s&&d&&d({action:c,location:v.location,delta:0})}function x(N){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof N=="string"?N:Gl(N);return _=_.replace(/ $/,"%20"),Nt(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let v={get action(){return c},get location(){return e(i,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Zw,h),d=N,()=>{i.removeEventListener(Zw,h),d=null}},createHref(N){return t(i,N)},createURL:x,encodeLocation(N){let y=x(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:j,go(N){return l.go(N)}};return v}var Gw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gw||(Gw={}));function JM(e,t,n){return n===void 0&&(n="/"),eL(e,t,n)}function eL(e,t,n,r){let i=typeof t=="string"?Ia(t):t,s=mv(i.pathname||"/",n);if(s==null)return null;let l=zP(e);tL(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=hL(s);c=uL(l[d],f)}return c}function zP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=Ai([r,d.relativePath]),p=n.concat(d);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),zP(s.children,t,p,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:lL(f,s.index),routesMeta:p})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let d of UP(s.path))i(s,l,d)}),t}function UP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=UP(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function tL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nL=/^:[\w-]+$/,rL=3,iL=2,aL=1,sL=10,oL=-2,Yw=e=>e==="*";function lL(e,t){let n=e.split("/"),r=n.length;return n.some(Yw)&&(r+=oL),t&&(r+=iL),n.filter(i=>!Yw(i)).reduce((i,s)=>i+(nL.test(s)?rL:s===""?aL:sL),r)}function cL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function uL(e,t,n){let{routesMeta:r}=e,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",h=dL({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:Ai([s,h.pathname]),pathnameBase:xL(Ai([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=Ai([s,h.pathnameBase]))}return l}function dL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fL(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,p,h)=>{let{paramName:g,isOptional:j}=p;if(g==="*"){let v=c[h]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[h];return j&&!x?f[g]=void 0:f[g]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function fL(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function hL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function pL(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ia(e):e;return{pathname:n?n.startsWith("/")?n:mL(n,t):t,search:vL(r),hash:yL(i)}}function mL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gv(e,t){let n=gL(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xv(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ia(e):(i=Kl({},e),Nt(!i.pathname||!i.pathname.includes("?"),tm("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),tm("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),tm("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let h=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}c=h>=0?t[h]:"/"}let d=pL(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Ai=e=>e.join("/").replace(/\/\/+/g,"/"),xL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qP=["post","put","patch","delete"];new Set(qP);const wL=["get",...qP];new Set(wL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(this,arguments)}const vv=A.createContext(null),_L=A.createContext(null),$i=A.createContext(null),Xf=A.createContext(null),Er=A.createContext({outlet:null,matches:[],isDataRoute:!1}),WP=A.createContext(null);function jL(e,t){let{relative:n}=t===void 0?{}:t;ho()||Nt(!1);let{basename:r,navigator:i}=A.useContext($i),{hash:s,pathname:l,search:c}=VP(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Ai([r,l])),i.createHref({pathname:d,search:c,hash:s})}function ho(){return A.useContext(Xf)!=null}function Di(){return ho()||Nt(!1),A.useContext(Xf).location}function HP(e){A.useContext($i).static||A.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=A.useContext(Er);return e?BL():NL()}function NL(){ho()||Nt(!1);let e=A.useContext(vv),{basename:t,future:n,navigator:r}=A.useContext($i),{matches:i}=A.useContext(Er),{pathname:s}=Di(),l=JSON.stringify(gv(i,n.v7_relativeSplatPath)),c=A.useRef(!1);return HP(()=>{c.current=!0}),A.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=xv(f,JSON.parse(l),s,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ai([t,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[t,r,l,s,e])}const SL=A.createContext(null);function PL(e){let t=A.useContext(Er).outlet;return t&&A.createElement(SL.Provider,{value:e},t)}function AL(){let{matches:e}=A.useContext(Er),t=e[e.length-1];return t?t.params:{}}function VP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext($i),{matches:i}=A.useContext(Er),{pathname:s}=Di(),l=JSON.stringify(gv(i,r.v7_relativeSplatPath));return A.useMemo(()=>xv(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function EL(e,t){return OL(e,t)}function OL(e,t,n,r){ho()||Nt(!1);let{navigator:i}=A.useContext($i),{matches:s}=A.useContext(Er),l=s[s.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Di(),p;if(t){var h;let N=typeof t=="string"?Ia(t):t;d==="/"||(h=N.pathname)!=null&&h.startsWith(d)||Nt(!1),p=N}else p=f;let g=p.pathname||"/",j=g;if(d!=="/"){let N=d.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=JM(e,{pathname:j}),v=LL(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Ai([d,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Ai([d,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return t&&v?A.createElement(Xf.Provider,{value:{location:Yl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:vi.Pop}},v):v}function CL(){let e=DL(),t=bL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,null)}const TL=A.createElement(CL,null);class kL extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(Er.Provider,{value:this.props.routeContext},A.createElement(WP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ML(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(vv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Er.Provider,{value:t},r)}function LL(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let p=l.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);p>=0||Nt(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let h=l[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:g,errors:j}=n,x=h.route.loader&&g[h.route.id]===void 0&&(!j||j[h.route.id]===void 0);if(h.route.lazy||x){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,h,g)=>{let j,x=!1,v=null,N=null;n&&(j=c&&h.route.id?c[h.route.id]:void 0,v=h.route.errorElement||TL,d&&(f<0&&g===0?(FL("route-fallback"),x=!0,N=null):f===g&&(x=!0,N=h.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,g+1)),_=()=>{let w;return j?w=v:x?w=N:h.route.Component?w=A.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=p,A.createElement(ML,{match:h,routeContext:{outlet:p,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?A.createElement(kL,{location:n.location,revalidation:n.revalidation,component:v,error:j,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var ZP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZP||{}),KP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(KP||{});function IL(e){let t=A.useContext(vv);return t||Nt(!1),t}function RL(e){let t=A.useContext(_L);return t||Nt(!1),t}function $L(e){let t=A.useContext(Er);return t||Nt(!1),t}function GP(e){let t=$L(),n=t.matches[t.matches.length-1];return n.route.id||Nt(!1),n.route.id}function DL(){var e;let t=A.useContext(WP),n=RL(),r=GP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function BL(){let{router:e}=IL(ZP.UseNavigateStable),t=GP(KP.UseNavigateStable),n=A.useRef(!1);return HP(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yl({fromRouteId:t},s)))},[e,t])}const Xw={};function FL(e,t,n){Xw[e]||(Xw[e]=!0)}function YP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _r(e){let{to:t,replace:n,state:r,relative:i}=e;ho()||Nt(!1);let{future:s,static:l}=A.useContext($i),{matches:c}=A.useContext(Er),{pathname:d}=Di(),f=Or(),p=xv(t,gv(c,s.v7_relativeSplatPath),d,i==="path"),h=JSON.stringify(p);return A.useEffect(()=>f(JSON.parse(h),{replace:n,state:r,relative:i}),[f,h,i,n,r]),null}function zL(e){return PL(e.context)}function We(e){Nt(!1)}function XP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=vi.Pop,navigator:s,static:l=!1,future:c}=e;ho()&&Nt(!1);let d=t.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:s,static:l,future:Yl({v7_relativeSplatPath:!1},c)}),[d,c,s,l]);typeof r=="string"&&(r=Ia(r));let{pathname:p="/",search:h="",hash:g="",state:j=null,key:x="default"}=r,v=A.useMemo(()=>{let N=mv(p,d);return N==null?null:{location:{pathname:N,search:h,hash:g,state:j,key:x},navigationType:i}},[d,p,h,g,j,x,i]);return v==null?null:A.createElement($i.Provider,{value:f},A.createElement(Xf.Provider,{children:n,value:v}))}function UL(e){let{children:t,location:n}=e;return EL($g(t),n)}new Promise(()=>{});function $g(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let s=[...t,i];if(r.type===A.Fragment){n.push.apply(n,$g(r.props.children,s));return}r.type!==We&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=$g(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(this,arguments)}function qL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function WL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HL(e,t){return e.button===0&&(!t||t==="_self")&&!WL(e)}function Bg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function VL(e,t){let n=Bg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const ZL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KL="6";try{window.__reactRouterVersion=KL}catch{}const GL="startTransition",Dd=Bk[GL];function YL(e){let{basename:t,children:n,future:r,window:i}=e,s=A.useRef();s.current==null&&(s.current=YM({window:i,v5Compat:!0}));let l=s.current,[c,d]=A.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},p=A.useCallback(h=>{f&&Dd?Dd(()=>d(h)):d(h)},[d,f]);return A.useLayoutEffect(()=>l.listen(p),[l,p]),A.useEffect(()=>YP(r),[r]),A.createElement(XP,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}function XL(e){let{basename:t,children:n,future:r,window:i}=e,s=A.useRef();s.current==null&&(s.current=XM({window:i,v5Compat:!0}));let l=s.current,[c,d]=A.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},p=A.useCallback(h=>{f&&Dd?Dd(()=>d(h)):d(h)},[d,f]);return A.useLayoutEffect(()=>l.listen(p),[l,p]),A.useEffect(()=>YP(r),[r]),A.createElement(XP,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const QL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=A.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:h}=t,g=qL(t,ZL),{basename:j}=A.useContext($i),x,v=!1;if(typeof f=="string"&&JL.test(f)&&(x=f,QL))try{let w=new URL(window.location.href),P=f.startsWith("//")?new URL(w.protocol+f):new URL(f),S=mv(P.pathname,j);P.origin===w.origin&&S!=null?f=S+P.search+P.hash:v=!0}catch{}let N=jL(f,{relative:i}),y=e3(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:h});function _(w){r&&r(w),w.defaultPrevented||y(w)}return A.createElement("a",Dg({},g,{href:x||N,onClick:v||s?r:_,ref:n,target:d}))});var Qw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qw||(Qw={}));var Jw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jw||(Jw={}));function e3(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:c}=t===void 0?{}:t,d=Or(),f=Di(),p=VP(e,{relative:l});return A.useCallback(h=>{if(HL(h,n)){h.preventDefault();let g=r!==void 0?r:Gl(f)===Gl(p);d(e,{replace:g,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[f,d,p,r,i,n,e,s,l,c])}function t3(e){let t=A.useRef(Bg(e)),n=A.useRef(!1),r=Di(),i=A.useMemo(()=>VL(r.search,n.current?null:t.current),[r.search]),s=Or(),l=A.useCallback((c,d)=>{const f=Bg(typeof c=="function"?c(i):c);n.current=!0,s("?"+f,d)},[s,i]);return[i,l]}function QP(e,t){return function(){return e.apply(t,arguments)}}const{toString:n3}=Object.prototype,{getPrototypeOf:yv}=Object,{iterator:Qf,toStringTag:JP}=Symbol,Jf=(e=>t=>{const n=n3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),lr=e=>(e=e.toLowerCase(),t=>Jf(t)===e),eh=e=>t=>typeof t===e,{isArray:po}=Array,Is=eh("undefined");function Dc(e){return e!==null&&!Is(e)&&e.constructor!==null&&!Is(e.constructor)&&hn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const eA=lr("ArrayBuffer");function r3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&eA(e.buffer),t}const i3=eh("string"),hn=eh("function"),tA=eh("number"),Bc=e=>e!==null&&typeof e=="object",a3=e=>e===!0||e===!1,cd=e=>{if(Jf(e)!=="object")return!1;const t=yv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(JP in e)&&!(Qf in e)},s3=e=>{if(!Bc(e)||Dc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},o3=lr("Date"),l3=lr("File"),c3=lr("Blob"),u3=lr("FileList"),d3=e=>Bc(e)&&hn(e.pipe),f3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hn(e.append)&&((t=Jf(e))==="formdata"||t==="object"&&hn(e.toString)&&e.toString()==="[object FormData]"))},h3=lr("URLSearchParams"),[p3,m3,g3,x3]=["ReadableStream","Request","Response","Headers"].map(lr),v3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),po(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Dc(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let c;for(r=0;r<l;r++)c=s[r],t.call(null,e[c],c,e)}}function nA(e,t){if(Dc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rA=e=>!Is(e)&&e!==ua;function Fg(){const{caseless:e,skipUndefined:t}=rA(this)&&this||{},n={},r=(i,s)=>{const l=e&&nA(n,s)||s;cd(n[l])&&cd(i)?n[l]=Fg(n[l],i):cd(i)?n[l]=Fg({},i):po(i)?n[l]=i.slice():(!t||!Is(i))&&(n[l]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Fc(arguments[i],r);return n}const y3=(e,t,n,{allOwnKeys:r}={})=>(Fc(t,(i,s)=>{n&&hn(i)?e[s]=QP(i,n):e[s]=i},{allOwnKeys:r}),e),b3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),w3=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_3=(e,t,n,r)=>{let i,s,l;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],(!r||r(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=n!==!1&&yv(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},j3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},N3=e=>{if(!e)return null;if(po(e))return e;let t=e.length;if(!tA(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},S3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yv(Uint8Array)),P3=(e,t)=>{const r=(e&&e[Qf]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},A3=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},E3=lr("HTMLFormElement"),O3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),e1=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),C3=lr("RegExp"),iA=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Fc(n,(i,s)=>{let l;(l=t(i,s,e))!==!1&&(r[s]=l||i)}),Object.defineProperties(e,r)},T3=e=>{iA(e,(t,n)=>{if(hn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(hn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},k3=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return po(e)?r(e):r(String(e).split(t)),n},M3=()=>{},L3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function I3(e){return!!(e&&hn(e.append)&&e[JP]==="FormData"&&e[Qf])}const R3=e=>{const t=new Array(10),n=(r,i)=>{if(Bc(r)){if(t.indexOf(r)>=0)return;if(Dc(r))return r;if(!("toJSON"in r)){t[i]=r;const s=po(r)?[]:{};return Fc(r,(l,c)=>{const d=n(l,i+1);!Is(d)&&(s[c]=d)}),t[i]=void 0,s}}return r};return n(e,0)},$3=lr("AsyncFunction"),D3=e=>e&&(Bc(e)||hn(e))&&hn(e.then)&&hn(e.catch),aA=((e,t)=>e?setImmediate:t?((n,r)=>(ua.addEventListener("message",({source:i,data:s})=>{i===ua&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ua.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(ua.postMessage)),B3=typeof queueMicrotask<"u"?queueMicrotask.bind(ua):typeof process<"u"&&process.nextTick||aA,F3=e=>e!=null&&hn(e[Qf]),ie={isArray:po,isArrayBuffer:eA,isBuffer:Dc,isFormData:f3,isArrayBufferView:r3,isString:i3,isNumber:tA,isBoolean:a3,isObject:Bc,isPlainObject:cd,isEmptyObject:s3,isReadableStream:p3,isRequest:m3,isResponse:g3,isHeaders:x3,isUndefined:Is,isDate:o3,isFile:l3,isBlob:c3,isRegExp:C3,isFunction:hn,isStream:d3,isURLSearchParams:h3,isTypedArray:S3,isFileList:u3,forEach:Fc,merge:Fg,extend:y3,trim:v3,stripBOM:b3,inherits:w3,toFlatObject:_3,kindOf:Jf,kindOfTest:lr,endsWith:j3,toArray:N3,forEachEntry:P3,matchAll:A3,isHTMLForm:E3,hasOwnProperty:e1,hasOwnProp:e1,reduceDescriptors:iA,freezeMethods:T3,toObjectSet:k3,toCamelCase:O3,noop:M3,toFiniteNumber:L3,findKey:nA,global:ua,isContextDefined:rA,isSpecCompliantForm:I3,toJSONObject:R3,isAsyncFn:$3,isThenable:D3,setImmediate:aA,asap:B3,isIterable:F3};function Ee(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const sA=Ee.prototype,oA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oA[e]={value:e}});Object.defineProperties(Ee,oA);Object.defineProperty(sA,"isAxiosError",{value:!0});Ee.from=(e,t,n,r,i,s)=>{const l=Object.create(sA);ie.toFlatObject(e,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return Ee.call(l,c,d,n,r,i),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const z3=null;function zg(e){return ie.isPlainObject(e)||ie.isArray(e)}function lA(e){return ie.endsWith(e,"[]")?e.slice(0,-2):e}function t1(e,t,n){return e?e.concat(t).map(function(i,s){return i=lA(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function U3(e){return ie.isArray(e)&&!e.some(zg)}const q3=ie.toFlatObject(ie,{},null,function(t){return/^is[A-Z]/.test(t)});function th(e,t,n){if(!ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,N){return!ie.isUndefined(N[v])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(t);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(ie.isDate(x))return x.toISOString();if(ie.isBoolean(x))return x.toString();if(!d&&ie.isBlob(x))throw new Ee("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(x)||ie.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function p(x,v,N){let y=x;if(x&&!N&&typeof x=="object"){if(ie.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(ie.isArray(x)&&U3(x)||(ie.isFileList(x)||ie.endsWith(v,"[]"))&&(y=ie.toArray(x)))return v=lA(v),y.forEach(function(w,P){!(ie.isUndefined(w)||w===null)&&t.append(l===!0?t1([v],P,s):l===null?v:v+"[]",f(w))}),!1}return zg(x)?!0:(t.append(t1(N,v,s),f(x)),!1)}const h=[],g=Object.assign(q3,{defaultVisitor:p,convertValue:f,isVisitable:zg});function j(x,v){if(!ie.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(x),ie.forEach(x,function(y,_){(!(ie.isUndefined(y)||y===null)&&i.call(t,y,ie.isString(_)?_.trim():_,v,g))===!0&&j(y,v?v.concat(_):[_])}),h.pop()}}if(!ie.isObject(e))throw new TypeError("data must be an object");return j(e),t}function n1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bv(e,t){this._pairs=[],e&&th(e,this,t)}const cA=bv.prototype;cA.append=function(t,n){this._pairs.push([t,n])};cA.toString=function(t){const n=t?function(r){return t.call(this,r,n1)}:n1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function W3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uA(e,t,n){if(!t)return e;const r=n&&n.encode||W3;ie.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=ie.isURLSearchParams(t)?t.toString():new bv(t,n).toString(r),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class r1{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ie.forEach(this.handlers,function(r){r!==null&&t(r)})}}const dA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H3=typeof URLSearchParams<"u"?URLSearchParams:bv,V3=typeof FormData<"u"?FormData:null,Z3=typeof Blob<"u"?Blob:null,K3={isBrowser:!0,classes:{URLSearchParams:H3,FormData:V3,Blob:Z3},protocols:["http","https","file","blob","url","data"]},wv=typeof window<"u"&&typeof document<"u",Ug=typeof navigator=="object"&&navigator||void 0,G3=wv&&(!Ug||["ReactNative","NativeScript","NS"].indexOf(Ug.product)<0),Y3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X3=wv&&window.location.href||"http://localhost",Q3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wv,hasStandardBrowserEnv:G3,hasStandardBrowserWebWorkerEnv:Y3,navigator:Ug,origin:X3},Symbol.toStringTag,{value:"Module"})),Gt={...Q3,...K3};function J3(e,t){return th(e,new Gt.classes.URLSearchParams,{visitor:function(n,r,i,s){return Gt.isNode&&ie.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function e5(e){return ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function t5(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function fA(e){function t(n,r,i,s){let l=n[s++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=s>=n.length;return l=!l&&ie.isArray(i)?i.length:l,d?(ie.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!ie.isObject(i[l]))&&(i[l]=[]),t(n,r,i[l],s)&&ie.isArray(i[l])&&(i[l]=t5(i[l])),!c)}if(ie.isFormData(e)&&ie.isFunction(e.entries)){const n={};return ie.forEachEntry(e,(r,i)=>{t(e5(r),i,n,0)}),n}return null}function n5(e,t,n){if(ie.isString(e))try{return(t||JSON.parse)(e),ie.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const zc={transitional:dA,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ie.isObject(t);if(s&&ie.isHTMLForm(t)&&(t=new FormData(t)),ie.isFormData(t))return i?JSON.stringify(fA(t)):t;if(ie.isArrayBuffer(t)||ie.isBuffer(t)||ie.isStream(t)||ie.isFile(t)||ie.isBlob(t)||ie.isReadableStream(t))return t;if(ie.isArrayBufferView(t))return t.buffer;if(ie.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return J3(t,this.formSerializer).toString();if((c=ie.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return th(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),n5(t)):t}],transformResponse:[function(t){const n=this.transitional||zc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(t)||ie.isReadableStream(t))return t;if(t&&ie.isString(t)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?Ee.from(c,Ee.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],e=>{zc.headers[e]={}});const r5=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i5=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||t[n]&&r5[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},i1=Symbol("internals");function Ko(e){return e&&String(e).trim().toLowerCase()}function ud(e){return e===!1||e==null?e:ie.isArray(e)?e.map(ud):String(e)}function a5(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const s5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nm(e,t,n,r,i){if(ie.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!ie.isString(t)){if(ie.isString(r))return t.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(t)}}function o5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function l5(e,t){const n=ie.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,l){return this[r].call(this,t,i,s,l)},configurable:!0})})}let pn=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(c,d,f){const p=Ko(d);if(!p)throw new Error("header name must be a non-empty string");const h=ie.findKey(i,p);(!h||i[h]===void 0||f===!0||f===void 0&&i[h]!==!1)&&(i[h||d]=ud(c))}const l=(c,d)=>ie.forEach(c,(f,p)=>s(f,p,d));if(ie.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(ie.isString(t)&&(t=t.trim())&&!s5(t))l(i5(t),n);else if(ie.isObject(t)&&ie.isIterable(t)){let c={},d,f;for(const p of t){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[f=p[0]]=(d=c[f])?ie.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(c,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Ko(t),t){const r=ie.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return a5(i);if(ie.isFunction(n))return n.call(this,i,r);if(ie.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ko(t),t){const r=ie.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||nm(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(l){if(l=Ko(l),l){const c=ie.findKey(r,l);c&&(!n||nm(r,r[c],c,n))&&(delete r[c],i=!0)}}return ie.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||nm(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return ie.forEach(this,(i,s)=>{const l=ie.findKey(r,s);if(l){n[l]=ud(i),delete n[s];return}const c=t?o5(s):String(s).trim();c!==s&&delete n[s],n[c]=ud(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ie.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&ie.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[i1]=this[i1]={accessors:{}}).accessors,i=this.prototype;function s(l){const c=Ko(l);r[c]||(l5(i,l),r[c]=!0)}return ie.isArray(t)?t.forEach(s):s(t),this}};pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(pn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ie.freezeMethods(pn);function rm(e,t){const n=this||zc,r=t||n,i=pn.from(r.headers);let s=r.data;return ie.forEach(e,function(c){s=c.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function hA(e){return!!(e&&e.__CANCEL__)}function mo(e,t,n){Ee.call(this,e??"canceled",Ee.ERR_CANCELED,t,n),this.name="CanceledError"}ie.inherits(mo,Ee,{__CANCEL__:!0});function pA(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ee("Request failed with status code "+n.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function c5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function u5(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=r[s];l||(l=f),n[i]=d,r[i]=f;let h=s,g=0;for(;h!==i;)g+=n[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),f-l<t)return;const j=p&&f-p;return j?Math.round(g*1e3/j):void 0}}function d5(e,t){let n=0,r=1e3/t,i,s;const l=(f,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),e(...f)};return[(...f)=>{const p=Date.now(),h=p-n;h>=r?l(f,p):(i=f,s||(s=setTimeout(()=>{s=null,l(i)},r-h)))},()=>i&&l(i)]}const Bd=(e,t,n=3)=>{let r=0;const i=u5(50,250);return d5(s=>{const l=s.loaded,c=s.lengthComputable?s.total:void 0,d=l-r,f=i(d),p=l<=c;r=l;const h={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&p?(c-l)/f:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},n)},a1=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},s1=e=>(...t)=>ie.asap(()=>e(...t)),f5=Gt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Gt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Gt.origin),Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent)):()=>!0,h5=Gt.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const l=[e+"="+encodeURIComponent(t)];ie.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ie.isString(r)&&l.push("path="+r),ie.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function p5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function m5(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mA(e,t,n){let r=!p5(t);return e&&(r||n==!1)?m5(e,t):t}const o1=e=>e instanceof pn?{...e}:e;function Ca(e,t){t=t||{};const n={};function r(f,p,h,g){return ie.isPlainObject(f)&&ie.isPlainObject(p)?ie.merge.call({caseless:g},f,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function i(f,p,h,g){if(ie.isUndefined(p)){if(!ie.isUndefined(f))return r(void 0,f,h,g)}else return r(f,p,h,g)}function s(f,p){if(!ie.isUndefined(p))return r(void 0,p)}function l(f,p){if(ie.isUndefined(p)){if(!ie.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function c(f,p,h){if(h in t)return r(f,p);if(h in e)return r(void 0,f)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,p,h)=>i(o1(f),o1(p),h,!0)};return ie.forEach(Object.keys({...e,...t}),function(p){const h=d[p]||i,g=h(e[p],t[p],p);ie.isUndefined(g)&&h!==c||(n[p]=g)}),n}const gA=e=>{const t=Ca({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:c}=t;if(t.headers=l=pn.from(l),t.url=uA(mA(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ie.isFormData(n)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ie.isFunction(n.getHeaders)){const d=n.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,h])=>{f.includes(p.toLowerCase())&&l.set(p,h)})}}if(Gt.hasStandardBrowserEnv&&(r&&ie.isFunction(r)&&(r=r(t)),r||r!==!1&&f5(t.url))){const d=i&&s&&h5.read(s);d&&l.set(i,d)}return t},g5=typeof XMLHttpRequest<"u",x5=g5&&function(e){return new Promise(function(n,r){const i=gA(e);let s=i.data;const l=pn.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,p,h,g,j,x;function v(){j&&j(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function y(){if(!N)return;const w=pn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),S={data:!c||c==="text"||c==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:w,config:e,request:N};pA(function(C){n(C),v()},function(C){r(C),v()},S),N=null}"onloadend"in N?N.onloadend=y:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(y)},N.onabort=function(){N&&(r(new Ee("Request aborted",Ee.ECONNABORTED,e,N)),N=null)},N.onerror=function(P){const S=P&&P.message?P.message:"Network Error",E=new Ee(S,Ee.ERR_NETWORK,e,N);E.event=P||null,r(E),N=null},N.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||dA;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new Ee(P,S.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,e,N)),N=null},s===void 0&&l.setContentType(null),"setRequestHeader"in N&&ie.forEach(l.toJSON(),function(P,S){N.setRequestHeader(S,P)}),ie.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),c&&c!=="json"&&(N.responseType=i.responseType),f&&([g,x]=Bd(f,!0),N.addEventListener("progress",g)),d&&N.upload&&([h,j]=Bd(d),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",j)),(i.cancelToken||i.signal)&&(p=w=>{N&&(r(!w||w.type?new mo(null,e,N):w),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const _=c5(i.url);if(_&&Gt.protocols.indexOf(_)===-1){r(new Ee("Unsupported protocol "+_+":",Ee.ERR_BAD_REQUEST,e));return}N.send(s||null)})},v5=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,c();const p=f instanceof Error?f:this.reason;r.abort(p instanceof Ee?p:new mo(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,s(new Ee(`timeout ${t} of ms exceeded`,Ee.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),e=null)};e.forEach(f=>f.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>ie.asap(c),d}},y5=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},b5=async function*(e,t){for await(const n of w5(e))yield*y5(n,t)},w5=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},l1=(e,t,n,r)=>{const i=b5(e,t);let s=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await i.next();if(f){c(),d.close();return}let h=p.byteLength;if(n){let g=s+=h;n(g)}d.enqueue(new Uint8Array(p))}catch(f){throw c(f),f}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},c1=64*1024,{isFunction:ku}=ie,_5=(({Request:e,Response:t})=>({Request:e,Response:t}))(ie.global),{ReadableStream:u1,TextEncoder:d1}=ie.global,f1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},j5=e=>{e=ie.merge.call({skipUndefined:!0},_5,e);const{fetch:t,Request:n,Response:r}=e,i=t?ku(t):typeof fetch=="function",s=ku(n),l=ku(r);if(!i)return!1;const c=i&&ku(u1),d=i&&(typeof d1=="function"?(x=>v=>x.encode(v))(new d1):async x=>new Uint8Array(await new n(x).arrayBuffer())),f=s&&c&&f1(()=>{let x=!1;const v=new n(Gt.origin,{body:new u1,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),p=l&&c&&f1(()=>ie.isReadableStream(new r("").body)),h={stream:p&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(v,N)=>{let y=v&&v[x];if(y)return y.call(v);throw new Ee(`Response type '${x}' is not supported`,Ee.ERR_NOT_SUPPORT,N)})});const g=async x=>{if(x==null)return 0;if(ie.isBlob(x))return x.size;if(ie.isSpecCompliantForm(x))return(await new n(Gt.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(x)||ie.isArrayBuffer(x))return x.byteLength;if(ie.isURLSearchParams(x)&&(x=x+""),ie.isString(x))return(await d(x)).byteLength},j=async(x,v)=>{const N=ie.toFiniteNumber(x.getContentLength());return N??g(v)};return async x=>{let{url:v,method:N,data:y,signal:_,cancelToken:w,timeout:P,onDownloadProgress:S,onUploadProgress:E,responseType:C,headers:T,withCredentials:I="same-origin",fetchOptions:M}=gA(x),R=t||fetch;C=C?(C+"").toLowerCase():"text";let F=v5([_,w&&w.toAbortSignal()],P),W=null;const z=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let V;try{if(E&&f&&N!=="get"&&N!=="head"&&(V=await j(T,y))!==0){let K=new n(v,{method:"POST",body:y,duplex:"half"}),ee;if(ie.isFormData(y)&&(ee=K.headers.get("content-type"))&&T.setContentType(ee),K.body){const[le,de]=a1(V,Bd(s1(E)));y=l1(K.body,c1,le,de)}}ie.isString(I)||(I=I?"include":"omit");const X=s&&"credentials"in n.prototype,ne={...M,signal:F,method:N.toUpperCase(),headers:T.normalize().toJSON(),body:y,duplex:"half",credentials:X?I:void 0};W=s&&new n(v,ne);let B=await(s?R(W,M):R(v,ne));const J=p&&(C==="stream"||C==="response");if(p&&(S||J&&z)){const K={};["status","statusText","headers"].forEach(se=>{K[se]=B[se]});const ee=ie.toFiniteNumber(B.headers.get("content-length")),[le,de]=S&&a1(ee,Bd(s1(S),!0))||[];B=new r(l1(B.body,c1,le,()=>{de&&de(),z&&z()}),K)}C=C||"text";let $=await h[ie.findKey(h,C)||"text"](B,x);return!J&&z&&z(),await new Promise((K,ee)=>{pA(K,ee,{data:$,headers:pn.from(B.headers),status:B.status,statusText:B.statusText,config:x,request:W})})}catch(X){throw z&&z(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,x,W),{cause:X.cause||X}):Ee.from(X,X&&X.code,x,W)}}},N5=new Map,xA=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let l=s.length,c=l,d,f,p=N5;for(;c--;)d=s[c],f=p.get(d),f===void 0&&p.set(d,f=c?new Map:j5(t)),p=f;return f};xA();const qg={http:z3,xhr:x5,fetch:{get:xA}};ie.forEach(qg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const h1=e=>`- ${e}`,S5=e=>ie.isFunction(e)||e===null||e===!1,vA={getAdapter:(e,t)=>{e=ie.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let l=0;l<n;l++){r=e[l];let c;if(i=r,!S5(r)&&(i=qg[(c=String(r)).toLowerCase()],i===void 0))throw new Ee(`Unknown adapter '${c}'`);if(i&&(ie.isFunction(i)||(i=i.get(t))))break;s[c||"#"+l]=i}if(!i){const l=Object.entries(s).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(h1).join(`
`):" "+h1(l[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:qg};function im(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mo(null,e)}function p1(e){return im(e),e.headers=pn.from(e.headers),e.data=rm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vA.getAdapter(e.adapter||zc.adapter,e)(e).then(function(r){return im(e),r.data=rm.call(e,e.transformResponse,r),r.headers=pn.from(r.headers),r},function(r){return hA(r)||(im(e),r&&r.response&&(r.response.data=rm.call(e,e.transformResponse,r.response),r.response.headers=pn.from(r.response.headers))),Promise.reject(r)})}const yA="1.12.2",nh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nh[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const m1={};nh.transitional=function(t,n,r){function i(s,l){return"[Axios v"+yA+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,c)=>{if(t===!1)throw new Ee(i(l," has been removed"+(n?" in "+n:"")),Ee.ERR_DEPRECATED);return n&&!m1[l]&&(m1[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,l,c):!0}};nh.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function P5(e,t,n){if(typeof e!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],l=t[s];if(l){const c=e[s],d=c===void 0||l(c,s,e);if(d!==!0)throw new Ee("option "+s+" must be "+d,Ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ee("Unknown option "+s,Ee.ERR_BAD_OPTION)}}const dd={assertOptions:P5,validators:nh},mr=dd.validators;let ga=class{constructor(t){this.defaults=t||{},this.interceptors={request:new r1,response:new r1}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ca(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&dd.assertOptions(r,{silentJSONParsing:mr.transitional(mr.boolean),forcedJSONParsing:mr.transitional(mr.boolean),clarifyTimeoutError:mr.transitional(mr.boolean)},!1),i!=null&&(ie.isFunction(i)?n.paramsSerializer={serialize:i}:dd.assertOptions(i,{encode:mr.function,serialize:mr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),dd.assertOptions(n,{baseUrl:mr.spelling("baseURL"),withXsrfToken:mr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=s&&ie.merge(s.common,s[n.method]);s&&ie.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),n.headers=pn.concat(l,s);const c=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(d=d&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let p,h=0,g;if(!d){const x=[p1.bind(this),void 0];for(x.unshift(...c),x.push(...f),g=x.length,p=Promise.resolve(n);h<g;)p=p.then(x[h++],x[h++]);return p}g=c.length;let j=n;for(;h<g;){const x=c[h++],v=c[h++];try{j=x(j)}catch(N){v.call(this,N);break}}try{p=p1.call(this,j)}catch(x){return Promise.reject(x)}for(h=0,g=f.length;h<g;)p=p.then(f[h++],f[h++]);return p}getUri(t){t=Ca(this.defaults,t);const n=mA(t.baseURL,t.url,t.allowAbsoluteUrls);return uA(n,t.params,t.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(t){ga.prototype[t]=function(n,r){return this.request(Ca(r||{},{method:t,url:n,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(t){function n(r){return function(s,l,c){return this.request(Ca(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}ga.prototype[t]=n(),ga.prototype[t+"Form"]=n(!0)});let A5=class bA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(c=>{r.subscribe(c),s=c}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},t(function(s,l,c){r.reason||(r.reason=new mo(s,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new bA(function(i){t=i}),cancel:t}}};function E5(e){return function(n){return e.apply(null,n)}}function O5(e){return ie.isObject(e)&&e.isAxiosError===!0}const Wg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wg).forEach(([e,t])=>{Wg[t]=e});function wA(e){const t=new ga(e),n=QP(ga.prototype.request,t);return ie.extend(n,ga.prototype,t,{allOwnKeys:!0}),ie.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return wA(Ca(e,i))},n}const ft=wA(zc);ft.Axios=ga;ft.CanceledError=mo;ft.CancelToken=A5;ft.isCancel=hA;ft.VERSION=yA;ft.toFormData=th;ft.AxiosError=Ee;ft.Cancel=ft.CanceledError;ft.all=function(t){return Promise.all(t)};ft.spread=E5;ft.isAxiosError=O5;ft.mergeConfig=Ca;ft.AxiosHeaders=pn;ft.formToJSON=e=>fA(ie.isHTMLForm(e)?new FormData(e):e);ft.getAdapter=vA.getAdapter;ft.HttpStatusCode=Wg;ft.default=ft;const{Axios:Coe,AxiosError:Toe,CanceledError:koe,isCancel:Moe,CancelToken:Loe,VERSION:Ioe,all:Roe,Cancel:$oe,isAxiosError:Doe,spread:Boe,toFormData:Foe,AxiosHeaders:zoe,HttpStatusCode:Uoe,formToJSON:qoe,getAdapter:Woe,mergeConfig:Hoe}=ft,C5=()=>{var e;return typeof window<"u"&&((e=window.freightDesktop)!=null&&e.apiBase)?window.freightDesktop.apiBase.replace(/\/$/,""):"http://localhost:5000".replace(/\/$/,"")},Hg="authToken",_A=()=>typeof window>"u"?null:window.sessionStorage,am=()=>{const e=_A();return e?e.getItem(Hg):null},sm=e=>{const t=_A();t&&(e?t.setItem(Hg,e):t.removeItem(Hg))},jA=A.createContext(null),ke=()=>A.useContext(jA),T5={SUPER_ADMIN:["CALCULATE_SHIPMENT"],COMPANY_ADMIN:["CALCULATE_SHIPMENT"],OPERATIONS:["CALCULATE_SHIPMENT"],USER:["CALCULATE_SHIPMENT"],FINANCE_APPROVER:[],TRANSPORTER:[],AGENT:[]},g1=e=>{if(!e)return null;const t=T5[e.role]||[];return{...e,permissions:t}},k5=({children:e})=>{const[t,n]=A.useState(null),[r,i]=A.useState(()=>am()),[s,l]=A.useState(!!r),[c,d]=A.useState(!0),[f,p]=A.useState(()=>C5());A.useEffect(()=>{if(typeof window>"u"||!window.freightDesktop)return;let y=!0;return(async()=>{var w,P;try{const S=await((P=(w=window.freightDesktop).getApiBase)==null?void 0:P.call(w))||window.freightDesktop.apiBase;S&&y&&p(S.replace(/\/$/,""))}catch{}})(),()=>{y=!1}},[]);const h=A.useMemo(()=>{const y=ft.create({baseURL:`${f}/api/v1`});return y.interceptors.request.use(_=>{const w=am();return w&&(_.headers.Authorization=`Bearer ${w}`),_}),y},[f]),g=A.useCallback(async()=>{const y=await h.get("/auth/profile");return n(g1(y.data.user)),l(!0),y.data.user},[h]),j=A.useCallback(async()=>{const y=am();if(!y){d(!1);return}try{i(y),await g()}catch(_){console.error("Session verification failed:",_),sm(null),n(null),l(!1),i(null)}finally{d(!1)}},[g]);A.useEffect(()=>{j()},[j]);const N={user:t,token:r,isAuthenticated:s,loading:c,login:async(y,_,w={})=>{var P,S;try{const E={email:y,password:_};w.twoFactorCode&&(E.twoFactorCode=w.twoFactorCode,E.challengeId=w.challengeId);const C=await h.post("/auth/login",E);if(C.status===202||(P=C.data)!=null&&P.twoFactorRequired)return{success:!1,twoFactorRequired:!0,challengeId:C.data.challengeId,expiresAt:C.data.expiresAt,message:C.data.message};const{token:T,user:I}=C.data;sm(T),n(g1(I)),i(T),l(!0);let M="/dashboard";return I.role==="SUPER_ADMIN"?M="/super-admin/companies":I.role==="COMPANY_ADMIN"?M="/dashboard":I.role==="FINANCE_APPROVER"?M="/finance":I.role==="TRANSPORTER"&&(M="/transporter"),{success:!0,user:I,redirectPath:M}}catch(E){const C=((S=E.response)==null?void 0:S.data)||{};return C.twoFactorRequired?{success:!1,twoFactorRequired:!0,challengeId:C.challengeId,expiresAt:C.expiresAt,message:C.message}:{success:!1,error:C.error||"Login failed"}}},logout:async()=>{try{await h.post("/auth/logout")}catch(y){console.warn("Logout request failed",y)}finally{sm(null),n(null),i(null),l(!1)}},api:h,refreshUser:g};return a.jsx(jA.Provider,{value:N,children:e})},NA=A.createContext(null),SA=()=>A.useContext(NA),es={entries:[],errorEntries:[],loading:!1,error:"",lastUpdated:null,isOffline:typeof navigator<"u"?!navigator.onLine:!1},M5=({children:e})=>{const{api:t,isAuthenticated:n}=ke(),[r,i]=A.useState(es.entries),[s,l]=A.useState(es.errorEntries),[c,d]=A.useState(es.loading),[f,p]=A.useState(es.error),[h,g]=A.useState(es.lastUpdated),[j,x]=A.useState(es.isOffline),v=A.useMemo(()=>r.length,[r]),N=A.useMemo(()=>s.length,[s]),y=A.useCallback(async()=>{var w,P,S,E;if(!n){i([]);return}d(!0);try{const[C,T]=await Promise.all([t.get("/sync/queue",{params:{status:"PENDING",limit:50}}),t.get("/sync/queue",{params:{status:"ERROR",limit:50}})]);i(((w=C.data)==null?void 0:w.entries)||[]),l(((P=T.data)==null?void 0:P.entries)||[]),p(""),g(new Date().toISOString())}catch(C){p(((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.error)||"Failed to load sync queue.")}finally{d(!1)}},[t,n]);A.useEffect(()=>{y()},[y]),A.useEffect(()=>{if(!n)return;const w=setInterval(()=>{y()},3e4);return()=>clearInterval(w)},[y,n]),A.useEffect(()=>{const w=()=>x(!1),P=()=>x(!0);return window.addEventListener("online",w),window.addEventListener("offline",P),()=>{window.removeEventListener("online",w),window.removeEventListener("offline",P)}},[]);const _={entries:r,errorEntries:s,pendingCount:v,errorCount:N,loading:c,error:f,lastUpdated:h,isOffline:j,refreshQueue:y};return a.jsx(NA.Provider,{value:_,children:e})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),x1=e=>{const t=I5(e);return t.charAt(0).toUpperCase()+t.slice(1)},PA=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),R5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>A.createElement("svg",{ref:d,...$5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:PA("lucide",i),...!s&&!R5(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>A.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(D5,{ref:s,iconNode:t,className:PA(`lucide-${L5(x1(e))}`,`lucide-${e}`,r),...i}));return n.displayName=x1(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],F5=pe("activity",B5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rs=pe("arrow-left",z5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jl=pe("arrow-right",U5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],AA=pe("arrow-up-right",q5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],v1=pe("badge-check",W5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],V5=pe("bell",H5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],K5=pe("building",Z5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Vg=pe("calculator",G5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$s=pe("calendar",Y5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Q5=pe("check",X5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eI=pe("chevron-down",J5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nI=pe("chevron-left",tI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iI=pe("chevron-right",rI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pr=pe("circle-alert",aI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xa=pe("circle-check",sI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_v=pe("circle-check-big",oI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],EA=pe("circle-dollar-sign",lI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],va=pe("circle-plus",cI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],y1=pe("circle-x",uI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Zg=pe("clipboard-list",dI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ya=pe("clock",fI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],pI=pe("cloud-upload",hI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gI=pe("copy",mI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vI=pe("credit-card",xI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],OA=pe("dollar-sign",yI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ds=pe("download",bI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],om=pe("ellipsis",wI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xl=pe("eye-off",_I);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ql=pe("eye",jI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jv=pe("file-text",NI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PI=pe("funnel",SI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],EI=pe("hash",AI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],CI=pe("key-round",OI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],kI=pe("list-checks",TI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],De=pe("loader-circle",MI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],II=pe("log-out",LI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bs=pe("lock",RI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rh=pe("mail",$I);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qr=pe("map-pin",DI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],FI=pe("menu",BI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],CA=pe("notebook-pen",zI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ti=pe("package",UI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],WI=pe("party-popper",qI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Fd=pe("pencil",HI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nl=pe("phone",VI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Nv=pe("refresh-ccw",ZI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sv=pe("refresh-cw",KI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],TA=pe("rotate-ccw",GI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pv=pe("save",YI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kg=pe("search",XI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Av=pe("send",QI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eR=pe("settings",JI);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kA=pe("share-2",tR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ta=pe("shield-check",nR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],MA=pe("shield",rR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],aR=pe("square-pen",iR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],oR=pe("star",sR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],cR=pe("toggle-left",lR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],dR=pe("toggle-right",uR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jl=pe("trash-2",fR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ev=pe("trending-up",hR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],or=pe("triangle-alert",pR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],rr=pe("truck",mR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zd=pe("user-check",gR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vR=pe("user-cog",xR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],b1=pe("user-minus",yR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wR=pe("user-plus",bR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LA=pe("users",_R);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NR=pe("user",jR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gg=pe("wifi-off",SR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Sl=pe("wifi",PR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=pe("x",AR),Uc=({className:e})=>a.jsxs("svg",{className:e,viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"KCO Logistics logo",children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"kco-shadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[a.jsx("feOffset",{dy:"8",in:"SourceAlpha",result:"offset"}),a.jsx("feGaussianBlur",{stdDeviation:"12",in:"offset",result:"blur"}),a.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.09  0 0 0 0 0.17  0 0 0 0 0.29  0 0 0 0.22 0"}),a.jsx("feBlend",{in:"SourceGraphic",in2:"blur",mode:"normal"})]}),a.jsxs("linearGradient",{id:"card-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#f5f7fa"}),a.jsx("stop",{offset:"100%",stopColor:"#e9edf3"})]}),a.jsxs("radialGradient",{id:"sphere-light",cx:"50%",cy:"30%",r:"70%",children:[a.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.9"}),a.jsx("stop",{offset:"65%",stopColor:"#99b7e5",stopOpacity:"0.2"}),a.jsx("stop",{offset:"100%",stopColor:"#19407d",stopOpacity:"0.05"})]})]}),a.jsx("g",{filter:"url(#kco-shadow)",children:a.jsx("rect",{x:"18",y:"18",width:"164",height:"164",rx:"36",fill:"url(#card-grad)"})}),a.jsxs("g",{opacity:"0.22",stroke:"#b9c7da",strokeLinecap:"round",children:[a.jsx("path",{d:"M60 62 C84 52 112 50 138 60",strokeWidth:"1.5"}),a.jsx("path",{d:"M72 48 C98 40 128 40 150 56",strokeWidth:"1.5"}),a.jsx("path",{d:"M148 74 C160 86 166 98 164 110",strokeWidth:"1.3"}),a.jsx("path",{d:"M58 132 C74 146 102 148 120 140",strokeWidth:"1.3"}),a.jsx("path",{d:"M44 88 C36 100 34 112 38 124",strokeWidth:"1.2"})]}),a.jsxs("g",{transform:"translate(40 44)",children:[a.jsx("circle",{cx:"60",cy:"56",r:"58",fill:"#0c2e66"}),a.jsx("circle",{cx:"60",cy:"56",r:"58",fill:"url(#sphere-light)",opacity:"0.55"}),a.jsx("path",{d:"M10 54 C30 14 60 10 80 14 C98 18 112 30 118 46 C94 56 74 60 44 60 C32 60 20 58 10 54Z",fill:"#3fb04a"}),a.jsx("path",{d:"M6 56 C28 64 48 68 76 68 C94 68 112 66 124 60 C122 72 114 84 102 94 C80 88 60 86 30 86 C20 80 10 70 6 56Z",fill:"#0d3a7b"}),a.jsx("path",{d:"M16 92 C36 104 58 108 78 106 C96 104 112 98 122 90 C112 116 88 128 60 128 C36 128 22 114 16 92Z",fill:"#3fb04a"}),a.jsx("path",{d:"M6 56 C28 64 48 68 76 68 C94 68 112 66 124 60",fill:"none",stroke:"#ffffff",strokeWidth:"9",strokeLinecap:"round"}),a.jsx("path",{d:"M16 92 C36 104 58 108 78 106 C96 104 112 98 122 90",fill:"none",stroke:"#ffffff",strokeWidth:"9",strokeLinecap:"round"}),a.jsx("path",{d:"M30 28 C36 22 44 18 54 16 C72 12 94 18 110 34",fill:"none",stroke:"#ffffff",strokeWidth:"8",strokeLinecap:"round"}),a.jsx("path",{d:"M26 120 C36 126 50 130 64 130 C84 130 104 124 116 110",fill:"none",stroke:"#ffffff",strokeWidth:"8",strokeLinecap:"round"}),a.jsx("path",{d:"M78 18 C80 22 82 26 82 30 C82 36 78 40 70 40 C62 40 56 36 56 30 C56 26 58 22 60 18",fill:"#3fb04a",stroke:"#ffffff",strokeWidth:"6",strokeLinecap:"round"}),a.jsx("text",{x:"68",y:"32",fontFamily:"Poppins, sans-serif",fontSize:"20",fontWeight:"700",fill:"#ffffff",textAnchor:"middle",children:"O"}),a.jsx("text",{x:"36",y:"74",fontFamily:"Poppins, sans-serif",fontSize:"30",fontWeight:"800",fill:"#ffffff",textAnchor:"middle",children:"K"}),a.jsx("text",{x:"70",y:"68",fontFamily:"Poppins, sans-serif",fontSize:"30",fontWeight:"800",fill:"#ffffff",textAnchor:"middle",children:"C"}),a.jsx("text",{x:"98",y:"82",fontFamily:"Poppins, sans-serif",fontSize:"30",fontWeight:"800",fill:"#ffffff",textAnchor:"middle",children:"O"}),a.jsx("text",{x:"84",y:"118",fontFamily:"Poppins, sans-serif",fontSize:"20",fontWeight:"800",fill:"#ffffff",textAnchor:"middle",children:"K"})]}),a.jsxs("g",{transform:"translate(40 44)",opacity:"0.18",stroke:"#b2bcc9",strokeLinecap:"round",children:[a.jsx("path",{d:"M0 56 L-14 48",strokeWidth:"2"}),a.jsx("path",{d:"M0 56 L-10 68",strokeWidth:"2"}),a.jsx("path",{d:"M120 10 L132 0",strokeWidth:"3"}),a.jsx("path",{d:"M120 10 L136 6",strokeWidth:"3"}),a.jsx("path",{d:"M118 122 L132 134",strokeWidth:"2"}),a.jsx("path",{d:"M118 122 L132 120",strokeWidth:"2"})]})]}),ih=({children:e,loading:t})=>a.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden text-white",children:[a.jsx(MR,{}),a.jsx(OR,{}),a.jsxs("div",{className:"relative z-10 grid min-h-screen items-center gap-12 px-6 py-12 lg:grid-cols-[1.15fr_0.85fr] lg:px-16 xl:px-24",children:[a.jsx(ER,{}),a.jsx("div",{className:"relative flex items-center justify-center",children:a.jsxs("div",{className:"w-full max-w-md",children:[t&&a.jsxs("div",{className:"mb-6 inline-flex items-center gap-3 rounded-full bg-white/10 px-4 py-2 text-sm text-white/80 backdrop-blur",children:[a.jsx(De,{className:"h-4 w-4 animate-spin text-emerald-300"}),"Processing request..."]}),e]})})]}),a.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 h-3 w-full bg-gradient-to-r from-[#57B33E] via-[#3EA55A] to-[#1E8F5A]"}),a.jsx(CR,{}),a.jsx(kR,{})]}),ER=()=>a.jsxs("div",{className:"relative flex flex-col gap-8",children:[a.jsxs("div",{className:"inline-flex items-center gap-3 rounded-full bg-white/10 px-4 py-2 text-sm backdrop-blur",children:[a.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-2xl bg-white/15",children:a.jsx(Uc,{className:"h-6 w-6 text-white"})}),a.jsx("span",{className:"font-medium tracking-wide text-white/90",children:"KCO Freight Management System"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold leading-tight text-white md:text-4xl xl:text-5xl",children:"AI-Powered Freight Command Centre for Modern India"}),a.jsx("p",{className:"max-w-xl text-lg text-white/80",children:"Transforming fragmented logistics into intelligent, connected operations with real-time insights, unified compliance, and predictive alerts tailored for fast-moving supply chains."})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(w1,{title:"Unified Visibility",description:"Live status across shipments, quotes, and compliance checkpoints."}),a.jsx(w1,{title:"Decision Intelligence",description:"Smart nudges for lanes, transporters, and SLA commitments."})]})]}),w1=({title:e,description:t})=>a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/8 p-5 backdrop-blur",children:[a.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-emerald-200/90",children:e}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:t})]}),OR=()=>a.jsxs("div",{className:"pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-[#2E3AAC]"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_left,_rgba(84,160,255,0.35),_transparent_55%)]",style:{animation:"gradientDrift 28s ease-in-out infinite alternate"}}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_right,_rgba(28,158,133,0.3),_transparent_60%)]",style:{animation:"gradientDriftAlt 34s ease-in-out infinite alternate"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2B3A9F]/90 via-[#2A3C8F]/82 to-[#0F3D45]/80"}),a.jsxs("svg",{viewBox:"0 0 800 800",className:"absolute inset-0 h-full w-full opacity-[0.18]",preserveAspectRatio:"none","aria-hidden":"true",style:{animation:"gridGlow 16s ease-in-out infinite"},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"networkGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"rgba(120,196,214,0.25)"}),a.jsx("stop",{offset:"100%",stopColor:"rgba(66,143,173,0.05)"})]})}),a.jsx("path",{d:`M40 110 L220 70 L420 150 L640 110 L800 40\r
           M0 310 L200 270 L420 350 L620 300 L820 250\r
           M60 520 L240 460 L440 540 L640 500 L800 440\r
           M100 710 L280 650 L460 720 L660 680 L840 620`,stroke:"url(#networkGradient)",strokeWidth:"1.4",fill:"none"}),a.jsx("path",{d:`M140 40 L200 270 L240 460 L280 650\r
           M360 120 L420 350 L440 540 L460 720\r
           M580 80 L620 300 L640 500 L660 680`,stroke:"rgba(120,196,214,0.18)",strokeWidth:"1.2",fill:"none"})]})]}),CR=()=>a.jsx("div",{className:"pointer-events-none absolute bottom-4 left-0 w-full",children:a.jsx("div",{className:"relative h-24",children:a.jsx("div",{className:"absolute bottom-0 left-[-220px]",style:{animation:"truckDrive 18s linear infinite"},children:a.jsx(TR,{className:"h-20 w-40 text-white drop-shadow-[0_8px_12px_rgba(12,31,63,0.35)]"})})})}),TR=({className:e})=>a.jsxs("svg",{viewBox:"0 0 240 120",className:e,"aria-hidden":"true",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"truck-cabin",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#183363"}),a.jsx("stop",{offset:"100%",stopColor:"#10213f"})]}),a.jsxs("linearGradient",{id:"truck-cargo",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#5ac14c"}),a.jsx("stop",{offset:"100%",stopColor:"#3d9b57"})]}),a.jsxs("linearGradient",{id:"truck-window",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#cfe4ff"}),a.jsx("stop",{offset:"50%",stopColor:"#8fb5e5"}),a.jsx("stop",{offset:"100%",stopColor:"#5a7fb8"})]}),a.jsxs("radialGradient",{id:"wheel-rim",cx:"50%",cy:"50%",r:"50%",children:[a.jsx("stop",{offset:"0%",stopColor:"#e3ecff"}),a.jsx("stop",{offset:"100%",stopColor:"#93a4c8"})]}),a.jsxs("linearGradient",{id:"bumper",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#283d69"}),a.jsx("stop",{offset:"100%",stopColor:"#101a30"})]})]}),a.jsxs("g",{transform:"translate(4 10)",children:[a.jsx("rect",{x:"20",y:"68",width:"196",height:"28",rx:"10",fill:"#0b1631",opacity:"0.55"}),a.jsx("rect",{x:"14",y:"38",width:"110",height:"58",rx:"14",fill:"url(#truck-cabin)"}),a.jsx("path",{d:"M24 44 Q30 26 44 20 L96 10 Q104 8 112 14 L138 36 Q150 46 150 62 L150 96 H24 Z",fill:"#1b2f59"}),a.jsx("rect",{x:"140",y:"26",width:"94",height:"60",rx:"10",fill:"url(#truck-cargo)"}),a.jsx("rect",{x:"140",y:"26",width:"94",height:"60",rx:"10",fill:"#ffffff",opacity:"0.12"}),a.jsx("path",{d:"M34 34 H96 Q108 34 116 40 L140 60 H34 Z",fill:"url(#truck-window)"}),a.jsx("path",{d:"M34 34 H96 Q108 34 116 40 L122 46 H102 Q90 46 84 42 L70 34 Z",fill:"#f8fbff",opacity:"0.35"}),a.jsx("rect",{x:"36",y:"62",width:"74",height:"6",rx:"3",fill:"#223a66",opacity:"0.5"}),a.jsx("path",{d:"M142 30 H230",stroke:"#ffffff",strokeOpacity:"0.18",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("path",{d:"M142 40 H230",stroke:"#ffffff",strokeOpacity:"0.12",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("path",{d:"M142 50 H230",stroke:"#ffffff",strokeOpacity:"0.08",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("rect",{x:"144",y:"42",width:"46",height:"26",rx:"6",fill:"#ffffff",opacity:"0.18"}),a.jsx("rect",{x:"196",y:"42",width:"26",height:"12",rx:"4",fill:"#ffffff",opacity:"0.18"}),a.jsx("rect",{x:"198",y:"60",width:"18",height:"8",rx:"3",fill:"#ffffff",opacity:"0.1"}),a.jsx("path",{d:"M14 74 H128",stroke:"#ffffff",strokeOpacity:"0.14",strokeWidth:"3",strokeLinecap:"round"}),a.jsx("path",{d:"M152 74 H230",stroke:"#ffffff",strokeOpacity:"0.18",strokeWidth:"3",strokeLinecap:"round"}),a.jsx("path",{d:"M30 22 L18 28 Q10 32 6 44 L0 66 H32 Z",fill:"#14264a"}),a.jsx("path",{d:"M30 50 H52 L44 74 H18 L24 56 C26 52 28 50 30 50 Z",fill:"url(#bumper)"}),a.jsx("path",{d:"M132 24 L124 12 Q120 6 126 4 L140 2",stroke:"#ffffff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),a.jsx("rect",{x:"214",y:"70",width:"12",height:"16",rx:"4",fill:"#294b3b"}),a.jsx("rect",{x:"18",y:"74",width:"16",height:"18",rx:"5",fill:"#1d3058"}),a.jsxs("g",{transform:"translate(52 92)",children:[a.jsx("circle",{r:"20",fill:"#172846"}),a.jsx("circle",{r:"12",fill:"url(#wheel-rim)"}),a.jsx("circle",{r:"5",fill:"#1f325c"}),a.jsx("circle",{r:"2.5",fill:"#dce7ff"})]}),a.jsxs("g",{transform:"translate(176 92)",children:[a.jsx("circle",{r:"20",fill:"#172846"}),a.jsx("circle",{r:"12",fill:"url(#wheel-rim)"}),a.jsx("circle",{r:"5",fill:"#1f325c"}),a.jsx("circle",{r:"2.5",fill:"#dce7ff"})]}),a.jsx("path",{d:"M96 74 H126",stroke:"#ffffff",strokeOpacity:"0.12",strokeWidth:"3",strokeLinecap:"round"}),a.jsx("text",{x:"188",y:"60",fontFamily:"Poppins, sans-serif",fontSize:"18",fontWeight:"700",fill:"#103053",opacity:"0.9",children:"KCO"}),a.jsx("circle",{cx:"114",cy:"84",r:"6",fill:"#f5d85c",opacity:"0.65"}),a.jsx("circle",{cx:"20",cy:"84",r:"6",fill:"#f88f4a",opacity:"0.65"}),a.jsx("rect",{x:"144",y:"70",width:"18",height:"12",rx:"4",fill:"#103053",opacity:"0.6"}),a.jsx("rect",{x:"68",y:"84",width:"14",height:"8",rx:"3",fill:"#1f3258",opacity:"0.6"})]})]}),kR=()=>a.jsx("div",{className:"pointer-events-none",children:Array.from({length:8}).map((e,t)=>{const n=`${t*3}s`,r=`${10+t*10}%`,i=`${15+t%4*18}%`;return a.jsx("span",{className:"absolute h-1 w-1 rounded-full bg-emerald-200/70 shadow-[0_0_12px_rgba(126,213,206,0.45)]",style:{left:r,top:i,animation:"sparkDrift 12s linear infinite",animationDelay:n}},`spark-${t}`)})}),MR=()=>a.jsx("style",{children:`
      @keyframes gradientDrift {
        0% { transform: translate3d(0, 0, 0) scale(1); opacity: 1; }
        50% { transform: translate3d(18px, -12px, 0) scale(1.05); opacity: 0.85; }
        100% { transform: translate3d(-12px, 16px, 0) scale(1.02); opacity: 0.9; }
      }
      @keyframes gradientDriftAlt {
        0% { transform: translate3d(0, 0, 0) scale(1); opacity: 0.9; }
        50% { transform: translate3d(-20px, 18px, 0) scale(1.08); opacity: 0.75; }
        100% { transform: translate3d(14px, -10px, 0) scale(1.03); opacity: 0.85; }
      }
      @keyframes gridGlow {
        0%, 100% { opacity: 0.16; filter: drop-shadow(0 0 6px rgba(92, 170, 205, 0.25)); }
        50% { opacity: 0.26; filter: drop-shadow(0 0 12px rgba(126, 213, 206, 0.35)); }
      }
      @keyframes truckDrive {
        0% { transform: translate3d(-220px, 0, 0); }
        100% { transform: translate3d(calc(100vw + 220px), 0, 0); }
      }
      @keyframes sparkDrift {
        0% { transform: translate3d(0, 0, 0); opacity: 0.2; }
        25% { opacity: 0.5; }
        50% { transform: translate3d(12px, -10px, 0); opacity: 0.7; }
        75% { opacity: 0.4; }
        100% { transform: translate3d(-8px, 6px, 0); opacity: 0.2; }
      }
    `}),LR=()=>{const e=Or(),{login:t}=ke(),[n,r]=A.useState(""),[i,s]=A.useState(""),[l,c]=A.useState(!1),[d,f]=A.useState(""),[p,h]=A.useState(""),[g,j]=A.useState(!1),[x,v]=A.useState(null),[N,y]=A.useState(""),_=async P=>{if(P.preventDefault(),!n||!i){f("Please enter both email and password.");return}if(x&&N.length<6){f("Enter the 6-digit verification code.");return}j(!0),f("");const S=await t(n,i,x?{twoFactorCode:N,challengeId:x.challengeId}:{});if(j(!1),S.twoFactorRequired){v({challengeId:S.challengeId,expiresAt:S.expiresAt}),y(""),h(S.message||"Enter the verification code we emailed to you.");return}S.success?e(S.redirectPath||"/dashboard"):(v(null),y(""),h(""),f(S.error||"Invalid credentials. Please try again."))},w=async()=>{if(!n||!i){f("Enter your email and password first.");return}j(!0),f("");const P=await t(n,i);j(!1),P.twoFactorRequired?(v({challengeId:P.challengeId,expiresAt:P.expiresAt}),y(""),h("We've sent a fresh verification code to your inbox.")):P.success?e(P.redirectPath||"/dashboard"):(v(null),y(""),h(""),f(P.error||"Unable to resend code."))};return A.useEffect(()=>{x&&(v(null),y(""),h(""))},[n,i]),a.jsxs(ih,{loading:g,children:[a.jsxs("div",{className:"rounded-3xl border border-white/12 bg-white/10 p-8 shadow-2xl backdrop-blur",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-2xl bg-white/15",children:a.jsx(Uc,{className:"h-6 w-6 text-white"})}),a.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Welcome back"}),a.jsxs("p",{className:"mt-2 text-sm text-white/75",children:["Don't have an account?"," ",a.jsx(sr,{to:"/register",className:"font-medium text-emerald-200 hover:text-emerald-100",children:"Create one"})]})]}),d&&a.jsxs("div",{className:"mb-4 flex items-center gap-3 rounded-lg border border-red-500/30 bg-red-500/15 px-4 py-3 text-sm text-red-100",children:[a.jsx(Pr,{className:"h-5 w-5"}),a.jsx("span",{children:d})]}),x&&a.jsxs("div",{className:"mb-4 flex items-center gap-3 rounded-lg border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:[a.jsx(Ta,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Verification required"}),a.jsx("p",{className:"text-emerald-50",children:p||"Enter the code we emailed to you."})]})]}),a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(rh,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/45"}),a.jsx("input",{type:"email",value:n,onChange:P=>r(P.target.value),required:!0,className:"w-full rounded-xl border border-white/15 bg-white/12 py-3 pl-12 pr-4 text-white placeholder-white/40 transition focus:border-emerald-300/70 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-emerald-300/30",placeholder:"Email address"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Bs,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/45"}),a.jsx("input",{type:l?"text":"password",value:i,onChange:P=>s(P.target.value),required:!0,className:"w-full rounded-xl border border-white/15 bg-white/12 py-3 pl-12 pr-12 text-white placeholder-white/40 transition focus:border-emerald-300/70 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-emerald-300/30",placeholder:"Password"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/60 transition hover:text-white",children:l?a.jsx(Xl,{className:"h-5 w-5"}):a.jsx(Ql,{className:"h-5 w-5"})})]}),!x&&a.jsxs("div",{className:"flex items-center justify-between text-xs text-white/70 sm:text-sm",children:[a.jsxs("label",{className:"flex items-center gap-2 font-medium",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-white/30 bg-transparent text-emerald-300 focus:ring-emerald-400"}),"Remember me"]}),a.jsx(sr,{to:"/forgot-password",className:"font-medium text-emerald-200 hover:text-emerald-100",children:"Forgot password?"})]}),x&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ta,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/45"}),a.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:N,onChange:P=>y(P.target.value.replace(/\D/g,"")),required:!0,className:"w-full rounded-xl border border-white/15 bg-white/12 py-3 pl-12 pr-4 text-white placeholder-white/40 transition focus:border-emerald-300/70 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-emerald-300/30",placeholder:"Enter 6-digit code"})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-white/70",children:[a.jsx("span",{children:"Didn't get the code?"}),a.jsx("button",{type:"button",onClick:w,className:"font-semibold text-emerald-200 hover:text-emerald-100",disabled:g,children:"Resend code"})]})]}),a.jsx("button",{type:"submit",disabled:g,className:"flex w-full items-center justify-center rounded-xl bg-emerald-400/90 py-3 text-base font-semibold text-slate-900 shadow-lg shadow-emerald-900/30 transition hover:bg-emerald-300 focus:outline-none focus:ring-4 focus:ring-emerald-400/50 disabled:cursor-not-allowed disabled:bg-emerald-400/40",children:g?a.jsx(De,{className:"h-6 w-6 animate-spin"}):"Sign in"})]})]}),a.jsx("p",{className:"mt-8 text-center text-xs text-white/60 sm:text-sm",children:" 2025 KCO Freight Systems. All rights reserved."})]})},IR=()=>{const e=Or(),{api:t,user:n}=ke(),r={name:"",email:"",phone:"",role:"USER",password:"",confirmPassword:"",vendorId:""},[i,s]=A.useState(r),[l,c]=A.useState({}),[d,f]=A.useState(""),[p,h]=A.useState(!1),[g,j]=A.useState(!1),[x,v]=A.useState(!1),[N,y]=A.useState([]);A.useEffect(()=>{(n==null?void 0:n.role)==="ADMIN"&&i.role==="AGENT"&&(async()=>{try{const{data:C}=await t.get("/admin/vendors?limit=1000");y(C.vendors||[])}catch(C){console.error("Failed to fetch vendors",C)}})()},[n,t,i.role]);const _=E=>{const{name:C,value:T}=E.target;s(I=>({...I,[C]:T})),l[C]&&c(I=>({...I,[C]:null}))},w=()=>{const E={};return i.name||(E.name="Full name is required."),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(E.email="Invalid email address."),i.phone||(E.phone="Phone number is required."),i.password.length<6&&(E.password="Password must be at least 6 characters."),i.password!==i.confirmPassword&&(E.confirmPassword="Passwords do not match."),i.role==="AGENT"&&!i.vendorId&&(E.vendorId="Vendor ID is required for agents."),c(E),Object.keys(E).length===0},P=async E=>{var C,T;if(E.preventDefault(),c({}),f(""),!!w()){h(!0);try{const{confirmPassword:I,...M}=i;if(M.role!=="AGENT")delete M.vendorId;else if((n==null?void 0:n.role)!=="ADMIN"){const F=Number(M.vendorId);if(isNaN(F)||F<=0){c({vendorId:"Please enter a valid Vendor ID."}),h(!1);return}M.vendorId=F}const{data:R}=await t.post("/auth/register",M);f(R.message||"Registration successful! You will be redirected shortly."),setTimeout(()=>e("/login"),3e3)}catch(I){const M=((T=(C=I.response)==null?void 0:C.data)==null?void 0:T.error)||"Registration failed. Please try again.";c({form:M})}finally{h(!1)}}},S="w-full rounded-lg border-gray-600 bg-gray-900/50 py-3 pl-12 pr-4 text-white placeholder-gray-400 ring-1 ring-transparent transition focus:border-orange-400 focus:bg-gray-800 focus:outline-none focus:ring-orange-400";return a.jsx(ih,{loading:p,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("header",{className:"mb-8 text-center",children:[a.jsxs("div",{className:"mb-4 inline-flex items-center gap-3",children:[a.jsx(Uc,{className:"h-10 w-10"}),a.jsx("span",{className:"text-2xl font-semibold text-white",children:"Freight Management System"})]}),a.jsx("h1",{className:"text-4xl font-bold text-white",children:"Create an Account"}),a.jsxs("p",{className:"mt-2 text-slate-400",children:["Already have an account?"," ",a.jsx(sr,{to:"/login",className:"font-medium text-orange-400 hover:underline",children:"Sign In"})]})]}),a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur-lg",children:[l.form&&a.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-red-500/30 bg-red-500/20 px-4 py-3 text-sm text-red-100",children:[a.jsx(Pr,{className:"h-5 w-5"}),a.jsx("span",{children:l.form})]}),d&&a.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-green-500/30 bg-green-500/20 px-4 py-3 text-sm text-green-100",children:[a.jsx(Pr,{className:"h-5 w-5"}),a.jsx("span",{children:d})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(NR,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:_,required:!0,className:S,placeholder:"Full Name"})]}),l.name&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:l.name})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(rh,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:_,required:!0,className:S,placeholder:"Email Address"})]}),l.email&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:l.email})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Nl,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:_,required:!0,className:S,placeholder:"Phone Number"})]}),l.phone&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:l.phone})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bs,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:g?"text":"password",name:"password",value:i.password,onChange:_,required:!0,className:S+" pr-12",placeholder:"Password"}),a.jsx("button",{type:"button",onClick:()=>j(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:g?a.jsx(Xl,{className:"h-5 w-5"}):a.jsx(Ql,{className:"h-5 w-5"})})]}),l.password&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:l.password})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bs,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:x?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:_,required:!0,className:S+" pr-12",placeholder:"Confirm Password"}),a.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:x?a.jsx(Xl,{className:"h-5 w-5"}):a.jsx(Ql,{className:"h-5 w-5"})})]}),l.confirmPassword&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:l.confirmPassword})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(K5,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsxs("select",{name:"role",value:i.role,onChange:_,required:!0,className:`${S} appearance-none`,children:[a.jsx("option",{value:"USER",children:"Shipper / User"}),a.jsx("option",{value:"VENDOR",children:"Vendor / Transporter"}),a.jsx("option",{value:"AGENT",children:"Agent (for a Vendor)"})]})]})}),i.role==="AGENT"&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(EI,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(n==null?void 0:n.role)==="ADMIN"?a.jsxs("select",{name:"vendorId",value:i.vendorId,onChange:_,required:!0,className:`${S} appearance-none`,children:[a.jsx("option",{value:"",children:"Select Vendor"}),N.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]}):a.jsx("input",{type:"number",name:"vendorId",value:i.vendorId,onChange:_,required:!0,className:S,placeholder:"Your assigned Vendor ID"})]}),l.vendorId&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:l.vendorId})]}),a.jsx("button",{type:"submit",disabled:p||!!d,className:"flex w-full items-center justify-center rounded-lg bg-orange-600 py-3 text-base font-semibold text-white shadow-lg transition-all duration-300 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:cursor-not-allowed disabled:bg-orange-400/50",children:p?a.jsx(De,{className:"h-6 w-6 animate-spin"}):"Create Account"})]})]}),a.jsx("p",{className:"mt-8 text-center text-sm text-slate-500",children:" 2025 KCO Freight Systems. All Rights Reserved."})]})})},RR=()=>{const{api:e}=ke(),[t,n]=A.useState(""),[r,i]=A.useState(""),[s,l]=A.useState(""),[c,d]=A.useState(!1),f=g=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(g),p=async g=>{var j,x;if(g.preventDefault(),!t){i("Please enter your email address.");return}if(!f(t)){i("Please enter a valid email address.");return}d(!0),i(""),l("");try{const{data:v}=await e.post("/auth/request-password-reset",{email:t});l(v.message||"If the account exists, a reset link has been emailed.")}catch(v){i(((x=(j=v.response)==null?void 0:j.data)==null?void 0:x.error)||"An unexpected error occurred.")}finally{d(!1)}},h=g=>{n(g.target.value),s&&l("")};return a.jsx(ih,{loading:c,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("header",{className:"mb-8 text-center",children:[a.jsxs("div",{className:"mb-4 inline-flex items-center gap-3",children:[a.jsx(Uc,{className:"h-10 w-10"}),a.jsx("span",{className:"text-2xl font-semibold text-white",children:"Freight Management System"})]}),a.jsx("h1",{className:"text-4xl font-bold text-white",children:"Forgot Password"}),a.jsx("p",{className:"mt-2 text-slate-400",children:"Enter your email and we'll send you a link to reset your password."})]}),a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur-lg",children:[r&&a.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-red-500/30 bg-red-500/20 px-4 py-3 text-sm text-red-100",role:"alert",children:[a.jsx(Pr,{className:"h-5 w-5"}),a.jsx("span",{children:r})]}),s&&a.jsxs("div",{className:"mb-6 flex items-start gap-3 rounded-lg border border-emerald-500/30 bg-emerald-500/20 px-4 py-3 text-sm text-emerald-100",role:"alert",children:[a.jsx(xa,{className:"mt-0.5 h-5 w-5"}),a.jsx("span",{children:s})]}),!s&&a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(rh,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"email",value:t,onChange:h,required:!0,className:"w-full rounded-lg border-gray-600 bg-gray-900/50 py-3 pl-12 pr-4 text-white placeholder-gray-400 ring-1 ring-transparent transition focus:border-orange-400 focus:bg-gray-800 focus:outline-none focus:ring-orange-400",placeholder:"Email Address","aria-label":"Email address"})]}),a.jsx("button",{type:"submit",disabled:c,className:"flex w-full items-center justify-center rounded-lg bg-orange-600 py-3 text-base font-semibold text-white shadow-lg transition-all duration-300 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:cursor-not-allowed disabled:bg-orange-400/50",children:c?a.jsx(De,{className:"h-6 w-6 animate-spin"}):"Send Reset Link"})]}),a.jsx("div",{className:"mt-6 text-center text-sm text-slate-400",children:a.jsxs(sr,{to:"/login",className:"inline-flex items-center gap-2 font-medium text-orange-400 hover:underline",children:[a.jsx(Rs,{className:"h-4 w-4"}),"Back to Sign In"]})})]}),a.jsx("p",{className:"mt-8 text-center text-sm text-slate-500",children:" 2025 KCO Freight Systems. All Rights Reserved."})]})})},$R=()=>{const[e]=t3(),{api:t}=ke(),n=e.get("token"),[r,i]=A.useState(""),[s,l]=A.useState(""),[c,d]=A.useState({}),[f,p]=A.useState(!1),[h,g]=A.useState(!1),[j,x]=A.useState(""),[v,N]=A.useState(!1),y=()=>{const w={};return n||(w.form="Invalid or missing reset token. Please request a new link."),r.length<6&&(w.password="Password must be at least 6 characters long."),r!==s&&(w.confirmPassword="Passwords do not match."),d(w),Object.keys(w).length===0},_=async w=>{var P,S;if(w.preventDefault(),!!y()){N(!0),d({}),x("");try{const{data:E}=await t.post("/auth/reset-password",{token:n,password:r});x(E.message)}catch(E){d({form:((S=(P=E.response)==null?void 0:P.data)==null?void 0:S.error)||"Failed to reset password. The link may have expired."})}finally{N(!1)}}};return a.jsx(ih,{loading:v,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("header",{className:"mb-8 text-center",children:[a.jsxs("div",{className:"mb-4 inline-flex items-center gap-3",children:[a.jsx(Uc,{className:"h-10 w-10"}),a.jsx("span",{className:"text-2xl font-semibold text-white",children:"Freight Management System"})]}),a.jsx("h1",{className:"text-4xl font-bold text-white",children:"Reset Your Password"}),a.jsx("p",{className:"mt-2 text-slate-400",children:"Choose a new, strong password for your account."})]}),a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur-lg",children:[c.form&&a.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-red-500/30 bg-red-500/20 px-4 py-3 text-sm text-red-100",children:[a.jsx(Pr,{className:"h-5 w-5"}),a.jsx("span",{children:c.form})]}),j&&a.jsxs("div",{className:"mb-6 flex flex-col items-center gap-3 rounded-lg border border-emerald-500/30 bg-emerald-500/20 px-4 py-3 text-center text-sm text-emerald-100",children:[a.jsx(xa,{className:"h-6 w-6"}),a.jsx("p",{className:"font-semibold",children:j}),a.jsx(sr,{to:"/login",className:"mt-2 inline-flex items-center rounded-full bg-emerald-600 px-4 py-2 text-xs font-semibold text-white transition hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-gray-900",children:"Proceed to Login"})]}),!j&&a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bs,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:f?"text":"password",value:r,onChange:w=>i(w.target.value),required:!0,className:"w-full rounded-lg border-gray-600 bg-gray-900/50 py-3 pl-12 pr-12 text-white placeholder-gray-400 ring-1 ring-transparent transition focus:border-orange-400 focus:bg-gray-800 focus:outline-none focus:ring-orange-400",placeholder:"New Password"}),a.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:f?a.jsx(Xl,{className:"h-5 w-5"}):a.jsx(Ql,{className:"h-5 w-5"})})]}),c.password&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:c.password})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bs,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:h?"text":"password",value:s,onChange:w=>l(w.target.value),required:!0,className:"w-full rounded-lg border-gray-600 bg-gray-900/50 py-3 pl-12 pr-12 text-white placeholder-gray-400 ring-1 ring-transparent transition focus:border-orange-400 focus:bg-gray-800 focus:outline-none focus:ring-orange-400",placeholder:"Confirm New Password"}),a.jsx("button",{type:"button",onClick:()=>g(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:h?a.jsx(Xl,{className:"h-5 w-5"}):a.jsx(Ql,{className:"h-5 w-5"})})]}),c.confirmPassword&&a.jsx("p",{className:"text-xs text-red-400 pl-4",children:c.confirmPassword})]}),a.jsx("button",{type:"submit",disabled:v,className:"flex w-full items-center justify-center rounded-lg bg-orange-600 py-3 text-base font-semibold text-white shadow-lg transition-all duration-300 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:cursor-not-allowed disabled:bg-orange-400/50",children:v?a.jsx(De,{className:"h-6 w-6 animate-spin"}):"Reset Password"})]})]}),a.jsx("p",{className:"mt-8 text-center text-sm text-slate-500",children:" 2025 KCO Freight Systems. All Rights Reserved."})]})})};function IA(e,t){const n=A.useRef(t);A.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function DR(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const BR=1;function FR(e){return Object.freeze({__version:BR,map:e})}function Ov(e,t){return Object.freeze({...e,...t})}const RA=A.createContext(null),$A=RA.Provider;function ah(){const e=A.useContext(RA);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function DA(e){function t(n,r){const{instance:i,context:s}=e(n).current;return A.useImperativeHandle(r,()=>i),n.children==null?null:G.createElement($A,{value:s},n.children)}return A.forwardRef(t)}function zR(e){function t(n,r){const[i,s]=A.useState(!1),{instance:l}=e(n,s).current;A.useImperativeHandle(r,()=>l),A.useEffect(function(){i&&l.update()},[l,i,n.children]);const c=l._contentNode;return c?BP.createPortal(n.children,c):null}return A.forwardRef(t)}function UR(e){function t(n,r){const{instance:i}=e(n).current;return A.useImperativeHandle(r,()=>i),null}return A.forwardRef(t)}function Cv(e,t){const n=A.useRef();A.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function sh(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function qR(e,t){return function(r,i){const s=ah(),l=e(sh(r,s),s);return IA(s.map,r.attribution),Cv(l.current,r.eventHandlers),t(l.current,s,r,i),l}}var Yg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(ol,function(n){var r="1.9.4";function i(o){var u,m,b,O;for(m=1,b=arguments.length;m<b;m++){O=arguments[m];for(u in O)o[u]=O[u]}return o}var s=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function l(o,u){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var b=m.call(arguments,2);return function(){return o.apply(u,b.length?b.concat(m.call(arguments)):arguments)}}var c=0;function d(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function f(o,u,m){var b,O,k,D;return D=function(){b=!1,O&&(k.apply(m,O),O=!1)},k=function(){b?O=arguments:(o.apply(m,arguments),setTimeout(D,u),b=!0)},k}function p(o,u,m){var b=u[1],O=u[0],k=b-O;return o===b&&m?o:((o-O)%k+k)%k+O}function h(){return!1}function g(o,u){if(u===!1)return o;var m=Math.pow(10,u===void 0?6:u);return Math.round(o*m)/m}function j(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function x(o){return j(o).split(/\s+/)}function v(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var m in u)o.options[m]=u[m];return o.options}function N(o,u,m){var b=[];for(var O in o)b.push(encodeURIComponent(m?O.toUpperCase():O)+"="+encodeURIComponent(o[O]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function _(o,u){return o.replace(y,function(m,b){var O=u[b];if(O===void 0)throw new Error("No value provided for variable "+m);return typeof O=="function"&&(O=O(u)),O})}var w=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function P(o,u){for(var m=0;m<o.length;m++)if(o[m]===u)return m;return-1}var S="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var C=0;function T(o){var u=+new Date,m=Math.max(0,16-(u-C));return C=u+m,window.setTimeout(o,m)}var I=window.requestAnimationFrame||E("RequestAnimationFrame")||T,M=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function R(o,u,m){if(m&&I===T)o.call(u);else return I.call(window,l(o,u))}function F(o){o&&M.call(window,o)}var W={__proto__:null,extend:i,create:s,bind:l,get lastId(){return c},stamp:d,throttle:f,wrapNum:p,falseFn:h,formatNum:g,trim:j,splitWords:x,setOptions:v,getParamString:N,template:_,isArray:w,indexOf:P,emptyImageUrl:S,requestFn:I,cancelFn:M,requestAnimFrame:R,cancelAnimFrame:F};function z(){}z.extend=function(o){var u=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,b=s(m);b.constructor=u,u.prototype=b;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(u[O]=this[O]);return o.statics&&i(u,o.statics),o.includes&&(V(o.includes),i.apply(null,[b].concat(o.includes))),i(b,o),delete b.statics,delete b.includes,b.options&&(b.options=m.options?s(m.options):{},i(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,D=b._initHooks.length;k<D;k++)b._initHooks[k].call(this)}},u},z.include=function(o){var u=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},z.mergeOptions=function(o){return i(this.prototype.options,o),this},z.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function V(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=w(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(o,u,m){if(typeof o=="object")for(var b in o)this._on(b,o[b],u);else{o=x(o);for(var O=0,k=o.length;O<k;O++)this._on(o[O],u,m)}return this},off:function(o,u,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],u);else{o=x(o);for(var O=arguments.length===1,k=0,D=o.length;k<D;k++)O?this._off(o[k]):this._off(o[k],u,m)}return this},_on:function(o,u,m,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,m)===!1){m===this&&(m=void 0);var O={fn:u,ctx:m};b&&(O.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(O)}},_off:function(o,u,m){var b,O,k;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(O=0,k=b.length;O<k;O++)b[O].fn=h;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var D=this._listens(o,u,m);if(D!==!1){var Y=b[D];this._firingCount&&(Y.fn=h,this._events[o]=b=b.slice()),b.splice(D,1)}}},fire:function(o,u,m){if(!this.listens(o,m))return this;var b=i({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var O=this._events[o];if(O){this._firingCount=this._firingCount+1||1;for(var k=0,D=O.length;k<D;k++){var Y=O[k],re=Y.fn;Y.once&&this.off(o,re,Y.ctx),re.call(Y.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(o,u,m,b){typeof o!="string"&&console.warn('"string" type argument expected');var O=u;typeof u!="function"&&(b=!!u,O=void 0,m=void 0);var k=this._events&&this._events[o];if(k&&k.length&&this._listens(o,O,m)!==!1)return!0;if(b){for(var D in this._eventParents)if(this._eventParents[D].listens(o,u,m,b))return!0}return!1},_listens:function(o,u,m){if(!this._events)return!1;var b=this._events[o]||[];if(!u)return!!b.length;m===this&&(m=void 0);for(var O=0,k=b.length;O<k;O++)if(b[O].fn===u&&b[O].ctx===m)return O;return!1},once:function(o,u,m){if(typeof o=="object")for(var b in o)this._on(b,o[b],u,!0);else{o=x(o);for(var O=0,k=o.length;O<k;O++)this._on(o[O],u,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[d(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[d(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var ne=z.extend(X);function B(o,u,m){this.x=m?Math.round(o):o,this.y=m?Math.round(u):u}var J=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(o){return this.clone()._add($(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract($(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new B(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new B(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(o){o=$(o);var u=o.x-this.x,m=o.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(o){return o=$(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=$(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function $(o,u,m){return o instanceof B?o:w(o)?new B(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new B(o.x,o.y):new B(o,u,m)}function K(o,u){if(o)for(var m=u?[o,u]:o,b=0,O=m.length;b<O;b++)this.extend(m[b])}K.prototype={extend:function(o){var u,m;if(!o)return this;if(o instanceof B||typeof o[0]=="number"||"x"in o)u=m=$(o);else if(o=ee(o),u=o.min,m=o.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,m;return typeof o[0]=="number"||o instanceof B?o=$(o):o=ee(o),o instanceof K?(u=o.min,m=o.max):u=m=o,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=ee(o);var u=this.min,m=this.max,b=o.min,O=o.max,k=O.x>=u.x&&b.x<=m.x,D=O.y>=u.y&&b.y<=m.y;return k&&D},overlaps:function(o){o=ee(o);var u=this.min,m=this.max,b=o.min,O=o.max,k=O.x>u.x&&b.x<m.x,D=O.y>u.y&&b.y<m.y;return k&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,m=this.max,b=Math.abs(u.x-m.x)*o,O=Math.abs(u.y-m.y)*o;return ee($(u.x-b,u.y-O),$(m.x+b,m.y+O))},equals:function(o){return o?(o=ee(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ee(o,u){return!o||o instanceof K?o:new K(o,u)}function le(o,u){if(o)for(var m=u?[o,u]:o,b=0,O=m.length;b<O;b++)this.extend(m[b])}le.prototype={extend:function(o){var u=this._southWest,m=this._northEast,b,O;if(o instanceof se)b=o,O=o;else if(o instanceof le){if(b=o._southWest,O=o._northEast,!b||!O)return this}else return o?this.extend(U(o)||de(o)):this;return!u&&!m?(this._southWest=new se(b.lat,b.lng),this._northEast=new se(O.lat,O.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),m.lat=Math.max(O.lat,m.lat),m.lng=Math.max(O.lng,m.lng)),this},pad:function(o){var u=this._southWest,m=this._northEast,b=Math.abs(u.lat-m.lat)*o,O=Math.abs(u.lng-m.lng)*o;return new le(new se(u.lat-b,u.lng-O),new se(m.lat+b,m.lng+O))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof se||"lat"in o?o=U(o):o=de(o);var u=this._southWest,m=this._northEast,b,O;return o instanceof le?(b=o.getSouthWest(),O=o.getNorthEast()):b=O=o,b.lat>=u.lat&&O.lat<=m.lat&&b.lng>=u.lng&&O.lng<=m.lng},intersects:function(o){o=de(o);var u=this._southWest,m=this._northEast,b=o.getSouthWest(),O=o.getNorthEast(),k=O.lat>=u.lat&&b.lat<=m.lat,D=O.lng>=u.lng&&b.lng<=m.lng;return k&&D},overlaps:function(o){o=de(o);var u=this._southWest,m=this._northEast,b=o.getSouthWest(),O=o.getNorthEast(),k=O.lat>u.lat&&b.lat<m.lat,D=O.lng>u.lng&&b.lng<m.lng;return k&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=de(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function de(o,u){return o instanceof le?o:new le(o,u)}function se(o,u,m){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,m!==void 0&&(this.alt=+m)}se.prototype={equals:function(o,u){if(!o)return!1;o=U(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Q.distance(this,U(o))},wrap:function(){return Q.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,m=u/Math.cos(Math.PI/180*this.lat);return de([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function U(o,u,m){return o instanceof se?o:w(o)&&typeof o[0]!="object"?o.length===3?new se(o[0],o[1],o[2]):o.length===2?new se(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new se(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new se(o,u,m)}var q={latLngToPoint:function(o,u){var m=this.projection.project(o),b=this.scale(u);return this.transformation._transform(m,b)},pointToLatLng:function(o,u){var m=this.scale(u),b=this.transformation.untransform(o,m);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(o),b=this.transformation.transform(u.min,m),O=this.transformation.transform(u.max,m);return new K(b,O)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new se(m,u,b)},wrapLatLngBounds:function(o){var u=o.getCenter(),m=this.wrapLatLng(u),b=u.lat-m.lat,O=u.lng-m.lng;if(b===0&&O===0)return o;var k=o.getSouthWest(),D=o.getNorthEast(),Y=new se(k.lat-b,k.lng-O),re=new se(D.lat-b,D.lng-O);return new le(Y,re)}},Q=i({},q,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var m=Math.PI/180,b=o.lat*m,O=u.lat*m,k=Math.sin((u.lat-o.lat)*m/2),D=Math.sin((u.lng-o.lng)*m/2),Y=k*k+Math.cos(b)*Math.cos(O)*D*D,re=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*re}}),H=6378137,oe={R:H,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,o.lat),-m),O=Math.sin(b*u);return new B(this.R*o.lng*u,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(o){var u=180/Math.PI;return new se((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=H*Math.PI;return new K([-o,-o],[o,o])}()};function ce(o,u,m,b){if(w(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=m,this._d=b}ce.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new B((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function Z(o,u,m,b){return new ce(o,u,m,b)}var _e=i({},Q,{code:"EPSG:3857",projection:oe,transformation:function(){var o=.5/(Math.PI*oe.R);return Z(o,.5,-o,.5)}()}),je=i({},_e,{code:"EPSG:900913"});function $e(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Pe(o,u){var m="",b,O,k,D,Y,re;for(b=0,k=o.length;b<k;b++){for(Y=o[b],O=0,D=Y.length;O<D;O++)re=Y[O],m+=(O?"L":"M")+re.x+" "+re.y;m+=u?we.svg?"z":"x":""}return m||"M0 0"}var Xe=document.documentElement.style,lt="ActiveXObject"in window,xt=lt&&!document.addEventListener,rn="msLaunchUri"in navigator&&!("documentMode"in document),gn=ur("webkit"),An=ur("android"),oi=ur("android 2")||ur("android 3"),Ua=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),te=An&&ur("Google")&&Ua<537&&!("AudioNode"in window),he=!!window.opera,be=!rn&&ur("chrome"),ye=ur("gecko")&&!gn&&!he&&!lt,Me=!be&&ur("safari"),He=ur("phantom"),vt="OTransition"in Xe,xn=navigator.platform.indexOf("Win")===0,Wi=lt&&"transition"in Xe,qa="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oi,By="MozPerspective"in Xe,aT=!window.L_DISABLE_3D&&(Wi||qa||By)&&!vt&&!He,Ao=typeof orientation<"u"||ur("mobile"),sT=Ao&&gn,oT=Ao&&qa,Fy=!window.PointerEvent&&window.MSPointerEvent,zy=!!(window.PointerEvent||Fy),Uy="ontouchstart"in window||!!window.TouchEvent,lT=!window.L_NO_TOUCH&&(Uy||zy),cT=Ao&&he,uT=Ao&&ye,dT=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fT=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",h,u),window.removeEventListener("testPassiveEventSupport",h,u)}catch{}return o}(),hT=function(){return!!document.createElement("canvas").getContext}(),np=!!(document.createElementNS&&$e("svg").createSVGRect),pT=!!np&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),mT=!np&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),gT=navigator.platform.indexOf("Mac")===0,xT=navigator.platform.indexOf("Linux")===0;function ur(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var we={ie:lt,ielt9:xt,edge:rn,webkit:gn,android:An,android23:oi,androidStock:te,opera:he,chrome:be,gecko:ye,safari:Me,phantom:He,opera12:vt,win:xn,ie3d:Wi,webkit3d:qa,gecko3d:By,any3d:aT,mobile:Ao,mobileWebkit:sT,mobileWebkit3d:oT,msPointer:Fy,pointer:zy,touch:lT,touchNative:Uy,mobileOpera:cT,mobileGecko:uT,retina:dT,passiveEvents:fT,canvas:hT,svg:np,vml:mT,inlineSvg:pT,mac:gT,linux:xT},qy=we.msPointer?"MSPointerDown":"pointerdown",Wy=we.msPointer?"MSPointerMove":"pointermove",Hy=we.msPointer?"MSPointerUp":"pointerup",Vy=we.msPointer?"MSPointerCancel":"pointercancel",rp={touchstart:qy,touchmove:Wy,touchend:Hy,touchcancel:Vy},Zy={touchstart:jT,touchmove:Xc,touchend:Xc,touchcancel:Xc},Wa={},Ky=!1;function vT(o,u,m){return u==="touchstart"&&_T(),Zy[u]?(m=Zy[u].bind(this,m),o.addEventListener(rp[u],m,!1),m):(console.warn("wrong event specified:",u),h)}function yT(o,u,m){if(!rp[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(rp[u],m,!1)}function bT(o){Wa[o.pointerId]=o}function wT(o){Wa[o.pointerId]&&(Wa[o.pointerId]=o)}function Gy(o){delete Wa[o.pointerId]}function _T(){Ky||(document.addEventListener(qy,bT,!0),document.addEventListener(Wy,wT,!0),document.addEventListener(Hy,Gy,!0),document.addEventListener(Vy,Gy,!0),Ky=!0)}function Xc(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Wa)u.touches.push(Wa[m]);u.changedTouches=[u],o(u)}}function jT(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ft(u),Xc(o,u)}function NT(o){var u={},m,b;for(b in o)m=o[b],u[b]=m&&m.bind?m.bind(o):m;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ST=200;function PT(o,u){o.addEventListener("dblclick",u);var m=0,b;function O(k){if(k.detail!==1){b=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var D=eb(k);if(!(D.some(function(re){return re instanceof HTMLLabelElement&&re.attributes.for})&&!D.some(function(re){return re instanceof HTMLInputElement||re instanceof HTMLSelectElement}))){var Y=Date.now();Y-m<=ST?(b++,b===2&&u(NT(k))):b=1,m=Y}}}return o.addEventListener("click",O),{dblclick:u,simDblclick:O}}function AT(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var ip=eu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Eo=eu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yy=Eo==="webkitTransition"||Eo==="OTransition"?Eo+"End":"transitionend";function Xy(o){return typeof o=="string"?document.getElementById(o):o}function Oo(o,u){var m=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);m=b?b[u]:null}return m==="auto"?null:m}function Ue(o,u,m){var b=document.createElement(o);return b.className=u||"",m&&m.appendChild(b),b}function ht(o){var u=o.parentNode;u&&u.removeChild(o)}function Qc(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ha(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Va(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function ap(o,u){if(o.classList!==void 0)return o.classList.contains(u);var m=Jc(o);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function Oe(o,u){if(o.classList!==void 0)for(var m=x(u),b=0,O=m.length;b<O;b++)o.classList.add(m[b]);else if(!ap(o,u)){var k=Jc(o);sp(o,(k?k+" ":"")+u)}}function _t(o,u){o.classList!==void 0?o.classList.remove(u):sp(o,j((" "+Jc(o)+" ").replace(" "+u+" "," ")))}function sp(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function Jc(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function En(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&ET(o,u)}function ET(o,u){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):o.style.filter+=" progid:"+b+"(opacity="+u+")"}function eu(o){for(var u=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in u)return o[m];return!1}function Hi(o,u,m){var b=u||new B(0,0);o.style[ip]=(we.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function St(o,u){o._leaflet_pos=u,we.any3d?Hi(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function Vi(o){return o._leaflet_pos||new B(0,0)}var Co,To,op;if("onselectstart"in document)Co=function(){Ae(window,"selectstart",Ft)},To=function(){Je(window,"selectstart",Ft)};else{var ko=eu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Co=function(){if(ko){var o=document.documentElement.style;op=o[ko],o[ko]="none"}},To=function(){ko&&(document.documentElement.style[ko]=op,op=void 0)}}function lp(){Ae(window,"dragstart",Ft)}function cp(){Je(window,"dragstart",Ft)}var tu,up;function dp(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(nu(),tu=o,up=o.style.outlineStyle,o.style.outlineStyle="none",Ae(window,"keydown",nu))}function nu(){tu&&(tu.style.outlineStyle=up,tu=void 0,up=void 0,Je(window,"keydown",nu))}function Qy(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function fp(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var OT={__proto__:null,TRANSFORM:ip,TRANSITION:Eo,TRANSITION_END:Yy,get:Xy,getStyle:Oo,create:Ue,remove:ht,empty:Qc,toFront:Ha,toBack:Va,hasClass:ap,addClass:Oe,removeClass:_t,setClass:sp,getClass:Jc,setOpacity:En,testProp:eu,setTransform:Hi,setPosition:St,getPosition:Vi,get disableTextSelection(){return Co},get enableTextSelection(){return To},disableImageDrag:lp,enableImageDrag:cp,preventOutline:dp,restoreOutline:nu,getSizedParentNode:Qy,getScale:fp};function Ae(o,u,m,b){if(u&&typeof u=="object")for(var O in u)pp(o,O,u[O],m);else{u=x(u);for(var k=0,D=u.length;k<D;k++)pp(o,u[k],m,b)}return this}var dr="_leaflet_events";function Je(o,u,m,b){if(arguments.length===1)Jy(o),delete o[dr];else if(u&&typeof u=="object")for(var O in u)mp(o,O,u[O],m);else if(u=x(u),arguments.length===2)Jy(o,function(Y){return P(u,Y)!==-1});else for(var k=0,D=u.length;k<D;k++)mp(o,u[k],m,b);return this}function Jy(o,u){for(var m in o[dr]){var b=m.split(/\d/)[0];(!u||u(b))&&mp(o,b,null,null,m)}}var hp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pp(o,u,m,b){var O=u+d(m)+(b?"_"+d(b):"");if(o[dr]&&o[dr][O])return this;var k=function(Y){return m.call(b||o,Y||window.event)},D=k;!we.touchNative&&we.pointer&&u.indexOf("touch")===0?k=vT(o,u,k):we.touch&&u==="dblclick"?k=PT(o,k):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(hp[u]||u,k,we.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(k=function(Y){Y=Y||window.event,xp(o,Y)&&D(Y)},o.addEventListener(hp[u],k,!1)):o.addEventListener(u,D,!1):o.attachEvent("on"+u,k),o[dr]=o[dr]||{},o[dr][O]=k}function mp(o,u,m,b,O){O=O||u+d(m)+(b?"_"+d(b):"");var k=o[dr]&&o[dr][O];if(!k)return this;!we.touchNative&&we.pointer&&u.indexOf("touch")===0?yT(o,u,k):we.touch&&u==="dblclick"?AT(o,k):"removeEventListener"in o?o.removeEventListener(hp[u]||u,k,!1):o.detachEvent("on"+u,k),o[dr][O]=null}function Zi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function gp(o){return pp(o,"wheel",Zi),this}function Mo(o){return Ae(o,"mousedown touchstart dblclick contextmenu",Zi),o._leaflet_disable_click=!0,this}function Ft(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ki(o){return Ft(o),Zi(o),this}function eb(o){if(o.composedPath)return o.composedPath();for(var u=[],m=o.target;m;)u.push(m),m=m.parentNode;return u}function tb(o,u){if(!u)return new B(o.clientX,o.clientY);var m=fp(u),b=m.boundingClientRect;return new B((o.clientX-b.left)/m.x-u.clientLeft,(o.clientY-b.top)/m.y-u.clientTop)}var CT=we.linux&&we.chrome?window.devicePixelRatio:we.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nb(o){return we.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/CT:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function xp(o,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var TT={__proto__:null,on:Ae,off:Je,stopPropagation:Zi,disableScrollPropagation:gp,disableClickPropagation:Mo,preventDefault:Ft,stop:Ki,getPropagationPath:eb,getMousePosition:tb,getWheelDelta:nb,isExternalTarget:xp,addListener:Ae,removeListener:Je},rb=ne.extend({run:function(o,u,m,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Vi(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var m=this._startPos.add(this._offset.multiplyBy(o));u&&m._round(),St(this._el,m),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Fe=ne.extend({options:{crs:_e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=v(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(U(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Eo&&we.any3d&&!we.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,Yy,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(U(o),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,m.zoom):this._tryAnimatedPan(o,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,m){var b=this.getZoomScale(u),O=this.getSize().divideBy(2),k=o instanceof B?o:this.latLngToContainerPoint(o),D=k.subtract(O).multiplyBy(1-1/b),Y=this.containerPointToLatLng(O.add(D));return this.setView(Y,u,{zoom:m})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():de(o);var m=$(u.paddingTopLeft||u.padding||[0,0]),b=$(u.paddingBottomRight||u.padding||[0,0]),O=this.getBoundsZoom(o,!1,m.add(b));if(O=typeof u.maxZoom=="number"?Math.min(u.maxZoom,O):O,O===1/0)return{center:o.getCenter(),zoom:O};var k=b.subtract(m).divideBy(2),D=this.project(o.getSouthWest(),O),Y=this.project(o.getNorthEast(),O),re=this.unproject(D.add(Y).divideBy(2).add(k),O);return{center:re,zoom:O}},fitBounds:function(o,u){if(o=de(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=$(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new rb,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Oe(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,m){if(m=m||{},m.animate===!1||!we.any3d)return this.setView(o,u,m);this._stop();var b=this.project(this.getCenter()),O=this.project(o),k=this.getSize(),D=this._zoom;o=U(o),u=u===void 0?D:u;var Y=Math.max(k.x,k.y),re=Y*this.getZoomScale(D,u),ue=O.distanceTo(b)||1,me=1.42,Se=me*me;function Le(Pt){var pu=Pt?-1:1,yk=Pt?re:Y,bk=re*re-Y*Y+pu*Se*Se*ue*ue,wk=2*yk*Se*ue,Ep=bk/wk,$b=Math.sqrt(Ep*Ep+1)-Ep,_k=$b<1e-9?-18:Math.log($b);return _k}function Xt(Pt){return(Math.exp(Pt)-Math.exp(-Pt))/2}function It(Pt){return(Math.exp(Pt)+Math.exp(-Pt))/2}function Cn(Pt){return Xt(Pt)/It(Pt)}var an=Le(0);function Qa(Pt){return Y*(It(an)/It(an+me*Pt))}function mk(Pt){return Y*(It(an)*Cn(an+me*Pt)-Xt(an))/Se}function gk(Pt){return 1-Math.pow(1-Pt,1.5)}var xk=Date.now(),Ib=(Le(1)-an)/me,vk=m.duration?1e3*m.duration:1e3*Ib*.8;function Rb(){var Pt=(Date.now()-xk)/vk,pu=gk(Pt)*Ib;Pt<=1?(this._flyToFrame=R(Rb,this),this._move(this.unproject(b.add(O.subtract(b).multiplyBy(mk(pu)/ue)),D),this.getScaleZoom(Y/Qa(pu),D),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Rb.call(this),this},flyToBounds:function(o,u){var m=this._getBoundsCenterZoom(o,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(o){return o=de(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,de(o));return m.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var m=$(u.paddingTopLeft||u.padding||[0,0]),b=$(u.paddingBottomRight||u.padding||[0,0]),O=this.project(this.getCenter()),k=this.project(o),D=this.getPixelBounds(),Y=ee([D.min.add(m),D.max.subtract(b)]),re=Y.getSize();if(!Y.contains(k)){this._enforcingBounds=!0;var ue=k.subtract(Y.getCenter()),me=Y.extend(k).getSize().subtract(re);O.x+=ue.x<0?-me.x:me.x,O.y+=ue.y<0?-me.y:me.y,this.panTo(this.unproject(O),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=u.divideBy(2).round(),O=m.divideBy(2).round(),k=b.subtract(O);return!k.x&&!k.y?this:(o.animate&&o.pan?this.panBy(k):(o.pan&&this._rawPanBy(k),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),m=l(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,o):navigator.geolocation.getCurrentPosition(u,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,m=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,m=o.coords.longitude,b=new se(u,m),O=b.toBounds(o.coords.accuracy*2),k=this._locateOptions;if(k.setView){var D=this.getBoundsZoom(O);this.setView(b,k.maxZoom?Math.min(D,k.maxZoom):D)}var Y={latlng:b,bounds:O,timestamp:o.timestamp};for(var re in o.coords)typeof o.coords[re]=="number"&&(Y[re]=o.coords[re]);this.fire("locationfound",Y)}},addHandler:function(o,u){if(!u)return this;var m=this[o]=new u(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ht(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=Ue("div",m,u||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new le(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,m){o=de(o),m=$(m||[0,0]);var b=this.getZoom()||0,O=this.getMinZoom(),k=this.getMaxZoom(),D=o.getNorthWest(),Y=o.getSouthEast(),re=this.getSize().subtract(m),ue=ee(this.project(Y,b),this.project(D,b)).getSize(),me=we.any3d?this.options.zoomSnap:1,Se=re.x/ue.x,Le=re.y/ue.y,Xt=u?Math.max(Se,Le):Math.min(Se,Le);return b=this.getScaleZoom(Xt,b),me&&(b=Math.round(b/(me/100))*(me/100),b=u?Math.ceil(b/me)*me:Math.floor(b/me)*me),Math.max(O,Math.min(k,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var m=this._getTopLeftPoint(o,u);return new K(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(o)/m.scale(u)},getScaleZoom:function(o,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var b=m.zoom(o*m.scale(u));return isNaN(b)?1/0:b},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(U(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng($(o),u)},layerPointToLatLng:function(o){var u=$(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(U(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(U(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(de(o))},distance:function(o,u){return this.options.crs.distance(U(o),U(u))},containerPointToLayerPoint:function(o){return $(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return $(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint($(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(o)))},mouseEventToContainerPoint:function(o){return tb(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=Xy(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ae(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&we.any3d,Oe(o,"leaflet-container"+(we.touch?" leaflet-touch":"")+(we.retina?" leaflet-retina":"")+(we.ielt9?" leaflet-oldie":"")+(we.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Oo(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),St(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(o.markerPane,"leaflet-zoom-hide"),Oe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,m){St(this._mapPane,new B(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var O=this._zoom!==u;this._moveStart(O,m)._move(o,u)._moveEnd(O),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,m,b){u===void 0&&(u=this._zoom);var O=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?m&&m.pinch&&this.fire("zoom",m):((O||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){St(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[d(this._container)]=this;var u=o?Je:Ae;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),we.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var m=[],b,O=u==="mouseout"||u==="mouseover",k=o.target||o.srcElement,D=!1;k;){if(b=this._targets[d(k)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){D=!0;break}if(b&&b.listens(u,!0)&&(O&&!xp(k,o)||(m.push(b),O))||k===this._container)break;k=k.parentNode}return!m.length&&!D&&!O&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var m=o.type;m==="mousedown"&&dp(u),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,m){if(o.type==="click"){var b=i({},o);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var O=this._findEventTargets(o,u);if(m){for(var k=[],D=0;D<m.length;D++)m[D].listens(u,!0)&&k.push(m[D]);O=k.concat(O)}if(O.length){u==="contextmenu"&&Ft(o);var Y=O[0],re={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ue=Y.getLatLng&&(!Y._radius||Y._radius<=10);re.containerPoint=ue?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(o),re.layerPoint=this.containerPointToLayerPoint(re.containerPoint),re.latlng=ue?Y.getLatLng():this.layerPointToLatLng(re.layerPoint)}for(D=0;D<O.length;D++)if(O[D].fire(u,re,!0),re.originalEvent._stopped||O[D].options.bubblingMouseEvents===!1&&P(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return Vi(this._mapPane)||new B(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var m=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var m=this.getSize()._divideBy(2);return this.project(o,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,m){var b=this._getNewPixelOrigin(m,u);return this.project(o,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,u,m){var b=this._getNewPixelOrigin(m,u);return ee([this.project(o.getSouthWest(),u)._subtract(b),this.project(o.getNorthWest(),u)._subtract(b),this.project(o.getSouthEast(),u)._subtract(b),this.project(o.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,m){if(!m)return o;var b=this.project(o,u),O=this.getSize().divideBy(2),k=new K(b.subtract(O),b.add(O)),D=this._getBoundsOffset(k,m,u);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?o:this.unproject(b.add(D),u)},_limitOffset:function(o,u){if(!u)return o;var m=this.getPixelBounds(),b=new K(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(o,u,m){var b=ee(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),O=b.min.subtract(o.min),k=b.max.subtract(o.max),D=this._rebound(O.x,-k.x),Y=this._rebound(O.y,-k.y);return new B(D,Y)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),m=this.getMaxZoom(),b=we.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(u,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var m=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var o=this._proxy=Ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var m=ip,b=this._proxy.style[m];Hi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();Hi(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),O=this._getCenterOffset(o)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(O)?!1:(R(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function kT(o,u){return new Fe(o,u)}var Zn=z.extend({options:{position:"topright"},initialize:function(o){v(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),m=this.getPosition(),b=o._controlCorners[m];return Oe(u,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Lo=function(o){return new Zn(o)};Fe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",m=this._controlContainer=Ue("div",u+"control-container",this._container);function b(O,k){var D=u+O+" "+u+k;o[O+k]=Ue("div",D,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ht(this._controlCorners[o]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ib=Zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,m,b){return m<b?-1:b<m?1:0}},initialize:function(o,u,m){v(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Zn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=Ue("div",o),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Mo(u),gp(u);var b=this._section=Ue("section",o+"-list");m&&(this._map.on("click",this.collapse,this),Ae(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Ue("a",o+"-toggle",u);O.href="#",O.title="Layers",O.setAttribute("role","button"),Ae(O,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Ft(k),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Ue("div",o+"-base",b),this._separator=Ue("div",o+"-separator",b),this._overlaysList=Ue("div",o+"-overlays",b),u.appendChild(b)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(l(function(b,O){return this.options.sortFunction(b.layer,O.layer,b.name,O.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qc(this._baseLayersList),Qc(this._overlaysList),this._layerControlInputs=[];var o,u,m,b,O=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),u=u||b.overlay,o=o||!b.overlay,O+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&O>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(d(o.target)),m=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(o,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(o){var u=document.createElement("label"),m=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+d(this),m),this._layerControlInputs.push(b),b.layerId=d(o.layer),Ae(b,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+o.name;var k=document.createElement("span");u.appendChild(k),k.appendChild(b),k.appendChild(O);var D=o.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,m,b=[],O=[];this._handlingClick=!0;for(var k=o.length-1;k>=0;k--)u=o[k],m=this._getLayer(u.layerId).layer,u.checked?b.push(m):u.checked||O.push(m);for(k=0;k<O.length;k++)this._map.hasLayer(O[k])&&this._map.removeLayer(O[k]);for(k=0;k<b.length;k++)this._map.hasLayer(b[k])||this._map.addLayer(b[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,m,b=this._map.getZoom(),O=o.length-1;O>=0;O--)u=o[O],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ae(o,"click",Ft),this.expand();var u=this;setTimeout(function(){Je(o,"click",Ft),u._preventClick=!1})}}),MT=function(o,u,m){return new ib(o,u,m)},vp=Zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",m=Ue("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,m,b,O){var k=Ue("a",m,b);return k.innerHTML=o,k.href="#",k.title=u,k.setAttribute("role","button"),k.setAttribute("aria-label",u),Mo(k),Ae(k,"click",Ki),Ae(k,"click",O,this),Ae(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";_t(this._zoomInButton,u),_t(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Oe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Oe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vp,this.addControl(this.zoomControl))});var LT=function(o){return new vp(o)},ab=Zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",m=Ue("div",u),b=this.options;return this._addScales(b,u+"-line",m),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,m){o.metric&&(this._mScale=Ue("div",u,m)),o.imperial&&(this._iScale=Ue("div",u,m))},_update:function(){var o=this._map,u=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/o)},_updateImperial:function(o){var u=o*3.2808399,m,b,O;u>5280?(m=u/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(O=this._getRoundNum(u),this._updateScale(this._iScale,O+" ft",O/u))},_updateScale:function(o,u,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),m=o/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),IT=function(o){return new ab(o)},RT='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yp=Zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(we.inlineSvg?RT+" ":"")+"Leaflet</a>"},initialize:function(o){v(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ue("div","leaflet-control-attribution"),Mo(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new yp().addTo(this)});var $T=function(o){return new yp(o)};Zn.Layers=ib,Zn.Zoom=vp,Zn.Scale=ab,Zn.Attribution=yp,Lo.layers=MT,Lo.zoom=LT,Lo.scale=IT,Lo.attribution=$T;var fr=z.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fr.addTo=function(o,u){return o.addHandler(u,this),this};var DT={Events:X},sb=we.touch?"touchstart mousedown":"mousedown",li=ne.extend({options:{clickTolerance:3},initialize:function(o,u,m,b){v(this,b),this._element=o,this._dragStartTarget=u||o,this._preventOutline=m},enable:function(){this._enabled||(Ae(this._dragStartTarget,sb,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(!0),Je(this._dragStartTarget,sb,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ap(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(li._dragging=this,this._preventOutline&&dp(this._element),lp(),Co(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,m=Qy(this._element);this._startPoint=new B(u.clientX,u.clientY),this._startPos=Vi(this._element),this._parentScale=fp(m);var b=o.type==="mousedown";Ae(document,b?"mousemove":"touchmove",this._onMove,this),Ae(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,m=new B(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ft(o),this._moved||(this.fire("dragstart"),this._moved=!0,Oe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),St(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Je(document,"mousemove touchmove",this._onMove,this),Je(document,"mouseup touchend touchcancel",this._onUp,this),cp(),To();var u=this._moved&&this._moving;this._moving=!1,li._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function ob(o,u,m){var b,O=[1,4,2,8],k,D,Y,re,ue,me,Se,Le;for(k=0,me=o.length;k<me;k++)o[k]._code=Gi(o[k],u);for(Y=0;Y<4;Y++){for(Se=O[Y],b=[],k=0,me=o.length,D=me-1;k<me;D=k++)re=o[k],ue=o[D],re._code&Se?ue._code&Se||(Le=ru(ue,re,Se,u,m),Le._code=Gi(Le,u),b.push(Le)):(ue._code&Se&&(Le=ru(ue,re,Se,u,m),Le._code=Gi(Le,u),b.push(Le)),b.push(re));o=b}return o}function lb(o,u){var m,b,O,k,D,Y,re,ue,me;if(!o||o.length===0)throw new Error("latlngs not passed");On(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Se=U([0,0]),Le=de(o),Xt=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());Xt<1700&&(Se=bp(o));var It=o.length,Cn=[];for(m=0;m<It;m++){var an=U(o[m]);Cn.push(u.project(U([an.lat-Se.lat,an.lng-Se.lng])))}for(Y=re=ue=0,m=0,b=It-1;m<It;b=m++)O=Cn[m],k=Cn[b],D=O.y*k.x-k.y*O.x,re+=(O.x+k.x)*D,ue+=(O.y+k.y)*D,Y+=D*3;Y===0?me=Cn[0]:me=[re/Y,ue/Y];var Qa=u.unproject($(me));return U([Qa.lat+Se.lat,Qa.lng+Se.lng])}function bp(o){for(var u=0,m=0,b=0,O=0;O<o.length;O++){var k=U(o[O]);u+=k.lat,m+=k.lng,b++}return U([u/b,m/b])}var BT={__proto__:null,clipPolygon:ob,polygonCenter:lb,centroid:bp};function cb(o,u){if(!u||!o.length)return o.slice();var m=u*u;return o=UT(o,m),o=zT(o,m),o}function ub(o,u,m){return Math.sqrt(Io(o,u,m,!0))}function FT(o,u,m){return Io(o,u,m)}function zT(o,u){var m=o.length,b=typeof Uint8Array<"u"?Uint8Array:Array,O=new b(m);O[0]=O[m-1]=1,wp(o,O,u,0,m-1);var k,D=[];for(k=0;k<m;k++)O[k]&&D.push(o[k]);return D}function wp(o,u,m,b,O){var k=0,D,Y,re;for(Y=b+1;Y<=O-1;Y++)re=Io(o[Y],o[b],o[O],!0),re>k&&(D=Y,k=re);k>m&&(u[D]=1,wp(o,u,m,b,D),wp(o,u,m,D,O))}function UT(o,u){for(var m=[o[0]],b=1,O=0,k=o.length;b<k;b++)qT(o[b],o[O])>u&&(m.push(o[b]),O=b);return O<k-1&&m.push(o[k-1]),m}var db;function fb(o,u,m,b,O){var k=b?db:Gi(o,m),D=Gi(u,m),Y,re,ue;for(db=D;;){if(!(k|D))return[o,u];if(k&D)return!1;Y=k||D,re=ru(o,u,Y,m,O),ue=Gi(re,m),Y===k?(o=re,k=ue):(u=re,D=ue)}}function ru(o,u,m,b,O){var k=u.x-o.x,D=u.y-o.y,Y=b.min,re=b.max,ue,me;return m&8?(ue=o.x+k*(re.y-o.y)/D,me=re.y):m&4?(ue=o.x+k*(Y.y-o.y)/D,me=Y.y):m&2?(ue=re.x,me=o.y+D*(re.x-o.x)/k):m&1&&(ue=Y.x,me=o.y+D*(Y.x-o.x)/k),new B(ue,me,O)}function Gi(o,u){var m=0;return o.x<u.min.x?m|=1:o.x>u.max.x&&(m|=2),o.y<u.min.y?m|=4:o.y>u.max.y&&(m|=8),m}function qT(o,u){var m=u.x-o.x,b=u.y-o.y;return m*m+b*b}function Io(o,u,m,b){var O=u.x,k=u.y,D=m.x-O,Y=m.y-k,re=D*D+Y*Y,ue;return re>0&&(ue=((o.x-O)*D+(o.y-k)*Y)/re,ue>1?(O=m.x,k=m.y):ue>0&&(O+=D*ue,k+=Y*ue)),D=o.x-O,Y=o.y-k,b?D*D+Y*Y:new B(O,k)}function On(o){return!w(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function hb(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),On(o)}function pb(o,u){var m,b,O,k,D,Y,re,ue;if(!o||o.length===0)throw new Error("latlngs not passed");On(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var me=U([0,0]),Se=de(o),Le=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());Le<1700&&(me=bp(o));var Xt=o.length,It=[];for(m=0;m<Xt;m++){var Cn=U(o[m]);It.push(u.project(U([Cn.lat-me.lat,Cn.lng-me.lng])))}for(m=0,b=0;m<Xt-1;m++)b+=It[m].distanceTo(It[m+1])/2;if(b===0)ue=It[0];else for(m=0,k=0;m<Xt-1;m++)if(D=It[m],Y=It[m+1],O=D.distanceTo(Y),k+=O,k>b){re=(k-b)/O,ue=[Y.x-re*(Y.x-D.x),Y.y-re*(Y.y-D.y)];break}var an=u.unproject($(ue));return U([an.lat+me.lat,an.lng+me.lng])}var WT={__proto__:null,simplify:cb,pointToSegmentDistance:ub,closestPointOnSegment:FT,clipSegment:fb,_getEdgeIntersection:ru,_getBitCode:Gi,_sqClosestPointOnSegment:Io,isFlat:On,_flat:hb,polylineCenter:pb},_p={project:function(o){return new B(o.lng,o.lat)},unproject:function(o){return new se(o.y,o.x)},bounds:new K([-180,-90],[180,90])},jp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,m=this.R,b=o.lat*u,O=this.R_MINOR/m,k=Math.sqrt(1-O*O),D=k*Math.sin(b),Y=Math.tan(Math.PI/4-b/2)/Math.pow((1-D)/(1+D),k/2);return b=-m*Math.log(Math.max(Y,1e-10)),new B(o.lng*u*m,b)},unproject:function(o){for(var u=180/Math.PI,m=this.R,b=this.R_MINOR/m,O=Math.sqrt(1-b*b),k=Math.exp(-o.y/m),D=Math.PI/2-2*Math.atan(k),Y=0,re=.1,ue;Y<15&&Math.abs(re)>1e-7;Y++)ue=O*Math.sin(D),ue=Math.pow((1-ue)/(1+ue),O/2),re=Math.PI/2-2*Math.atan(k*ue)-D,D+=re;return new se(D*u,o.x*u/m)}},HT={__proto__:null,LonLat:_p,Mercator:jp,SphericalMercator:oe},VT=i({},Q,{code:"EPSG:3395",projection:jp,transformation:function(){var o=.5/(Math.PI*jp.R);return Z(o,.5,-o,.5)}()}),mb=i({},Q,{code:"EPSG:4326",projection:_p,transformation:Z(1/180,1,-1/180,.5)}),ZT=i({},q,{projection:_p,transformation:Z(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var m=u.lng-o.lng,b=u.lat-o.lat;return Math.sqrt(m*m+b*b)},infinite:!0});q.Earth=Q,q.EPSG3395=VT,q.EPSG3857=_e,q.EPSG900913=je,q.EPSG4326=mb,q.Simple=ZT;var Kn=ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[d(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[d(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=d(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return d(o)in this._layers},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},_addLayers:function(o){o=o?w(o)?o:[o]:[];for(var u=0,m=o.length;u<m;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[d(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=d(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var O=this._zoomBoundLayers[b].options;o=O.minZoom===void 0?o:Math.min(o,O.minZoom),u=O.maxZoom===void 0?u:Math.max(u,O.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Za=Kn.extend({initialize:function(o,u){v(this,u),this._layers={};var m,b;if(o)for(m=0,b=o.length;m<b;m++)this.addLayer(o[m])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[o]&&b[o].apply(b,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return d(o)}}),KT=function(o,u){return new Za(o,u)},Tr=Za.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Za.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Za.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new le;for(var u in this._layers){var m=this._layers[u];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),GT=function(o,u){return new Tr(o,u)},Ka=z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){v(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,u){var m=this.options,b=m[u+"Size"];typeof b=="number"&&(b=[b,b]);var O=$(b),k=$(u==="shadow"&&m.shadowAnchor||m.iconAnchor||O&&O.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(m.className||""),k&&(o.style.marginLeft=-k.x+"px",o.style.marginTop=-k.y+"px"),O&&(o.style.width=O.x+"px",o.style.height=O.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return we.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function YT(o){return new Ka(o)}var Ro=Ka.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ro.imagePath!="string"&&(Ro.imagePath=this._detectIconPath()),(this.options.imagePath||Ro.imagePath)+Ka.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(m,b,O){var k=b.exec(m);return k&&k[O]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ue("div","leaflet-default-icon-path",document.body),u=Oo(o,"background-image")||Oo(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),gb=fr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new li(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,m=u._map,b=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,k=Vi(u._icon),D=m.getPixelBounds(),Y=m.getPixelOrigin(),re=ee(D.min._subtract(Y).add(O),D.max._subtract(Y).subtract(O));if(!re.contains(k)){var ue=$((Math.max(re.max.x,k.x)-re.max.x)/(D.max.x-re.max.x)-(Math.min(re.min.x,k.x)-re.min.x)/(D.min.x-re.min.x),(Math.max(re.max.y,k.y)-re.max.y)/(D.max.y-re.max.y)-(Math.min(re.min.y,k.y)-re.min.y)/(D.min.y-re.min.y)).multiplyBy(b);m.panBy(ue,{animate:!1}),this._draggable._newPos._add(ue),this._draggable._startPos._add(ue),St(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=R(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,m=u._shadow,b=Vi(u._icon),O=u._map.layerPointToLatLng(b);m&&St(m,b),u._latlng=O,o.latlng=O,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),iu=Kn.extend({options:{icon:new Ro,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){v(this,u),this._latlng=U(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=U(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),Oe(m,u),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(m,"focus",this._panOnFocus,this);var O=o.icon.createShadow(this._shadow),k=!1;O!==this._shadow&&(this._removeShadow(),k=!0),O&&(Oe(O,u),O.alt=""),this._shadow=O,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&k&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Je(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&St(this._icon,o),this._shadow&&St(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gb)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gb(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&En(this._icon,o),this._shadow&&En(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,m=u.iconSize?$(u.iconSize):$(0,0),b=u.iconAnchor?$(u.iconAnchor):$(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function XT(o,u){return new iu(o,u)}var ci=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return v(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),au=ci.extend({options:{fill:!0,radius:10},initialize:function(o,u){v(this,u),this._latlng=U(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=U(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return ci.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,m=this._clickTolerance(),b=[o+m,u+m];this._pxBounds=new K(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function QT(o,u){return new au(o,u)}var Np=au.extend({initialize:function(o,u,m){if(typeof u=="number"&&(u=i({},m,{radius:u})),v(this,u),this._latlng=U(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ci.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===Q.distance){var O=Math.PI/180,k=this._mRadius/Q.R/O,D=m.project([u+k,o]),Y=m.project([u-k,o]),re=D.add(Y).divideBy(2),ue=m.unproject(re).lat,me=Math.acos((Math.cos(k*O)-Math.sin(u*O)*Math.sin(ue*O))/(Math.cos(u*O)*Math.cos(ue*O)))/O;(isNaN(me)||me===0)&&(me=k/Math.cos(Math.PI/180*u)),this._point=re.subtract(m.getPixelOrigin()),this._radius=isNaN(me)?0:re.x-m.project([ue,o-me]).x,this._radiusY=re.y-D.y}else{var Se=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Se).x}this._updateBounds()}});function JT(o,u,m){return new Np(o,u,m)}var kr=ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){v(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,m=null,b=Io,O,k,D=0,Y=this._parts.length;D<Y;D++)for(var re=this._parts[D],ue=1,me=re.length;ue<me;ue++){O=re[ue-1],k=re[ue];var Se=b(o,O,k,!0);Se<u&&(u=Se,m=b(o,O,k))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pb(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=U(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new le,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return On(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],m=On(o),b=0,O=o.length;b<O;b++)m?(u[b]=U(o[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(o[b]);return u},_project:function(){var o=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new B(o,o);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,m){var b=o[0]instanceof se,O=o.length,k,D;if(b){for(D=[],k=0;k<O;k++)D[k]=this._map.latLngToLayerPoint(o[k]),m.extend(D[k]);u.push(D)}else for(k=0;k<O;k++)this._projectLatlngs(o[k],u,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,b,O,k,D,Y,re;for(m=0,O=0,k=this._rings.length;m<k;m++)for(re=this._rings[m],b=0,D=re.length;b<D-1;b++)Y=fb(re[b],re[b+1],o,b,!0),Y&&(u[O]=u[O]||[],u[O].push(Y[0]),(Y[1]!==re[b+1]||b===D-2)&&(u[O].push(Y[1]),O++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,m=0,b=o.length;m<b;m++)o[m]=cb(o[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var m,b,O,k,D,Y,re=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,k=this._parts.length;m<k;m++)for(Y=this._parts[m],b=0,D=Y.length,O=D-1;b<D;O=b++)if(!(!u&&b===0)&&ub(o,Y[O],Y[b])<=re)return!0;return!1}});function ek(o,u){return new kr(o,u)}kr._flat=hb;var Ga=kr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lb(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=kr.prototype._convertLatLngs.call(this,o),m=u.length;return m>=2&&u[0]instanceof se&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(o){kr.prototype._setLatLngs.call(this,o),On(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return On(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,m=new B(u,u);if(o=new K(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,O=this._rings.length,k;b<O;b++)k=ob(this._rings[b],o,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,m,b,O,k,D,Y,re,ue;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(k=0,re=this._parts.length;k<re;k++)for(m=this._parts[k],D=0,ue=m.length,Y=ue-1;D<ue;Y=D++)b=m[D],O=m[Y],b.y>o.y!=O.y>o.y&&o.x<(O.x-b.x)*(o.y-b.y)/(O.y-b.y)+b.x&&(u=!u);return u||kr.prototype._containsPoint.call(this,o,!0)}});function tk(o,u){return new Ga(o,u)}var Mr=Tr.extend({initialize:function(o,u){v(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=w(o)?o:o.features,m,b,O;if(u){for(m=0,b=u.length;m<b;m++)O=u[m],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var k=this.options;if(k.filter&&!k.filter(o))return this;var D=su(o,k);return D?(D.feature=cu(o),D.defaultOptions=D.options,this.resetStyle(D),k.onEachFeature&&k.onEachFeature(o,D),this.addLayer(D)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function su(o,u){var m=o.type==="Feature"?o.geometry:o,b=m?m.coordinates:null,O=[],k=u&&u.pointToLayer,D=u&&u.coordsToLatLng||Sp,Y,re,ue,me;if(!b&&!m)return null;switch(m.type){case"Point":return Y=D(b),xb(k,o,Y,u);case"MultiPoint":for(ue=0,me=b.length;ue<me;ue++)Y=D(b[ue]),O.push(xb(k,o,Y,u));return new Tr(O);case"LineString":case"MultiLineString":return re=ou(b,m.type==="LineString"?0:1,D),new kr(re,u);case"Polygon":case"MultiPolygon":return re=ou(b,m.type==="Polygon"?1:2,D),new Ga(re,u);case"GeometryCollection":for(ue=0,me=m.geometries.length;ue<me;ue++){var Se=su({geometry:m.geometries[ue],type:"Feature",properties:o.properties},u);Se&&O.push(Se)}return new Tr(O);case"FeatureCollection":for(ue=0,me=m.features.length;ue<me;ue++){var Le=su(m.features[ue],u);Le&&O.push(Le)}return new Tr(O);default:throw new Error("Invalid GeoJSON object.")}}function xb(o,u,m,b){return o?o(u,m):new iu(m,b&&b.markersInheritOptions&&b)}function Sp(o){return new se(o[1],o[0],o[2])}function ou(o,u,m){for(var b=[],O=0,k=o.length,D;O<k;O++)D=u?ou(o[O],u-1,m):(m||Sp)(o[O]),b.push(D);return b}function Pp(o,u){return o=U(o),o.alt!==void 0?[g(o.lng,u),g(o.lat,u),g(o.alt,u)]:[g(o.lng,u),g(o.lat,u)]}function lu(o,u,m,b){for(var O=[],k=0,D=o.length;k<D;k++)O.push(u?lu(o[k],On(o[k])?0:u-1,m,b):Pp(o[k],b));return!u&&m&&O.length>0&&O.push(O[0].slice()),O}function Ya(o,u){return o.feature?i({},o.feature,{geometry:u}):cu(u)}function cu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ap={toGeoJSON:function(o){return Ya(this,{type:"Point",coordinates:Pp(this.getLatLng(),o)})}};iu.include(Ap),Np.include(Ap),au.include(Ap),kr.include({toGeoJSON:function(o){var u=!On(this._latlngs),m=lu(this._latlngs,u?1:0,!1,o);return Ya(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),Ga.include({toGeoJSON:function(o){var u=!On(this._latlngs),m=u&&!On(this._latlngs[0]),b=lu(this._latlngs,m?2:u?1:0,!0,o);return u||(b=[b]),Ya(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),Za.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(o).geometry.coordinates)}),Ya(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var m=u==="GeometryCollection",b=[];return this.eachLayer(function(O){if(O.toGeoJSON){var k=O.toGeoJSON(o);if(m)b.push(k.geometry);else{var D=cu(k);D.type==="FeatureCollection"?b.push.apply(b,D.features):b.push(D)}}}),m?Ya(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function vb(o,u){return new Mr(o,u)}var nk=vb,uu=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,m){this._url=o,this._bounds=de(u),v(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ha(this._image),this},bringToBack:function(){return this._map&&Va(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=de(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:Ue("img");if(Oe(u,"leaflet-image-layer"),this._zoomAnimated&&Oe(u,"leaflet-zoom-animated"),this.options.className&&Oe(u,this.options.className),u.onselectstart=h,u.onmousemove=h,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Hi(this._image,m,u)},_reset:function(){var o=this._image,u=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();St(o,u.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){En(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),rk=function(o,u,m){return new uu(o,u,m)},yb=uu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:Ue("video");if(Oe(u,"leaflet-image-layer"),this._zoomAnimated&&Oe(u,"leaflet-zoom-animated"),this.options.className&&Oe(u,this.options.className),u.onselectstart=h,u.onmousemove=h,u.onloadeddata=l(this.fire,this,"load"),o){for(var m=u.getElementsByTagName("source"),b=[],O=0;O<m.length;O++)b.push(m[O].src);this._url=m.length>0?b:[u.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var D=Ue("source");D.src=this._url[k],u.appendChild(D)}}});function ik(o,u,m){return new yb(o,u,m)}var bb=uu.extend({_initImage:function(){var o=this._image=this._url;Oe(o,"leaflet-image-layer"),this._zoomAnimated&&Oe(o,"leaflet-zoom-animated"),this.options.className&&Oe(o,this.options.className),o.onselectstart=h,o.onmousemove=h}});function ak(o,u,m){return new bb(o,u,m)}var hr=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof se||w(o))?(this._latlng=U(o),v(this,u)):(v(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&En(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&En(this._container,1),this.bringToFront(),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(En(this._container,0),this._removeTimeout=setTimeout(l(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=U(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ha(this._container),this},bringToBack:function(){return this._map&&Va(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof Tr){u=null;var m=this._source._layers;for(var b in m)if(m[b]._map){u=m[b];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=$(this.options.offset),m=this._getAnchor();this._zoomAnimated?St(this._container,o.add(m)):u=u.add(o).add(m);var b=this._containerBottom=-u.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(o,u,m,b){var O=u;return O instanceof o||(O=new o(b).setContent(u)),m&&O.setLatLng(m),O}}),Kn.include({_initOverlay:function(o,u,m,b){var O=m;return O instanceof o?(v(O,b),O._source=this):(O=u&&!b?u:new o(b,this),O.setContent(m)),O}});var du=hr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,hr.prototype.openOn.call(this,o)},onAdd:function(o){hr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ci||this._source.on("preclick",Zi))},onRemove:function(o){hr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ci||this._source.off("preclick",Zi))},getEvents:function(){var o=hr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=Ue("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Ue("div",o+"-content-wrapper",u);if(this._contentNode=Ue("div",o+"-content",m),Mo(u),gp(this._contentNode),Ae(u,"contextmenu",Zi),this._tipContainer=Ue("div",o+"-tip-container",u),this._tip=Ue("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Ue("a",o+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ae(b,"click",function(O){Ft(O),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var b=o.offsetHeight,O=this.options.maxHeight,k="leaflet-popup-scrolled";O&&b>O?(u.height=O+"px",Oe(o,k)):_t(o,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();St(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(Oo(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,b=this._containerWidth,O=new B(this._containerLeft,-m-this._containerBottom);O._add(Vi(this._container));var k=o.layerPointToContainerPoint(O),D=$(this.options.autoPanPadding),Y=$(this.options.autoPanPaddingTopLeft||D),re=$(this.options.autoPanPaddingBottomRight||D),ue=o.getSize(),me=0,Se=0;k.x+b+re.x>ue.x&&(me=k.x+b-ue.x+re.x),k.x-me-Y.x<0&&(me=k.x-Y.x),k.y+m+re.y>ue.y&&(Se=k.y+m-ue.y+re.y),k.y-Se-Y.y<0&&(Se=k.y-Y.y),(me||Se)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([me,Se]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sk=function(o,u){return new du(o,u)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(o,u,m){return this._initOverlay(du,o,u,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Kn.include({bindPopup:function(o,u){return this._popup=this._initOverlay(du,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Tr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ki(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var fu=hr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){hr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){hr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=hr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ue("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,m,b=this._map,O=this._container,k=b.latLngToContainerPoint(b.getCenter()),D=b.layerPointToContainerPoint(o),Y=this.options.direction,re=O.offsetWidth,ue=O.offsetHeight,me=$(this.options.offset),Se=this._getAnchor();Y==="top"?(u=re/2,m=ue):Y==="bottom"?(u=re/2,m=0):Y==="center"?(u=re/2,m=ue/2):Y==="right"?(u=0,m=ue/2):Y==="left"?(u=re,m=ue/2):D.x<k.x?(Y="right",u=0,m=ue/2):(Y="left",u=re+(me.x+Se.x)*2,m=ue/2),o=o.subtract($(u,m,!0)).add(me).add(Se),_t(O,"leaflet-tooltip-right"),_t(O,"leaflet-tooltip-left"),_t(O,"leaflet-tooltip-top"),_t(O,"leaflet-tooltip-bottom"),Oe(O,"leaflet-tooltip-"+Y),St(O,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&En(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ok=function(o,u){return new fu(o,u)};Fe.include({openTooltip:function(o,u,m){return this._initOverlay(fu,o,u,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Kn.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fu,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Tr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(Ae(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ae(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,m,b;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var wb=Ka.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Qc(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=$(m.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function lk(o){return new wb(o)}Ka.Default=Ro;var $o=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:we.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){v(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ht(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ha(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Va(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof B?o:new B(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,m=-o(-1/0,1/0),b=0,O=u.length,k;b<O;b++)k=u[b].style.zIndex,u[b]!==this._container&&k&&(m=o(m,+k));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we.ielt9){En(this._container,this.options.opacity);var o=+new Date,u=!1,m=!1;for(var b in this._tiles){var O=this._tiles[b];if(!(!O.current||!O.loaded)){var k=Math.min(1,(o-O.loaded)/200);En(O.el,k),k<1?u=!0:(O.active?m=!0:this._onOpaqueTile(O),O.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=u-Math.abs(o-m),this._onUpdateLevel(m)):(ht(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[o],O=this._map;return b||(b=this._levels[o]={},b.el=Ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=O.project(O.unproject(O.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,O.getCenter(),O.getZoom()),h(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var o,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ht(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,m,b){var O=Math.floor(o/2),k=Math.floor(u/2),D=m-1,Y=new B(+O,+k);Y.z=+D;var re=this._tileCoordsToKey(Y),ue=this._tiles[re];return ue&&ue.active?(ue.retain=!0,!0):(ue&&ue.loaded&&(ue.retain=!0),D>b?this._retainParent(O,k,D,b):!1)},_retainChildren:function(o,u,m,b){for(var O=2*o;O<2*o+2;O++)for(var k=2*u;k<2*u+2;k++){var D=new B(O,k);D.z=m+1;var Y=this._tileCoordsToKey(D),re=this._tiles[Y];if(re&&re.active){re.retain=!0;continue}else re&&re.loaded&&(re.retain=!0);m+1<b&&this._retainChildren(O,k,m+1,b)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,m,b){var O=Math.round(u);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var k=this.options.updateWhenZooming&&O!==this._tileZoom;(!b||k)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,u)},_setZoomTransform:function(o,u,m){var b=this._map.getZoomScale(m,o.zoom),O=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,m)).round();we.any3d?Hi(o.el,O,b):St(o.el,O)},_resetGrid:function(){var o=this._map,u=o.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],b).x/m.x),Math.ceil(o.project([0,u.wrapLng[1]],b).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],b).y/m.x),Math.ceil(o.project([u.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(m,this._tileZoom),O=u.project(o,this._tileZoom).floor(),k=u.getSize().divideBy(b*2);return new K(O.subtract(k),O.add(k))},_update:function(o){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),O=this._pxBoundsToTileRange(b),k=O.getCenter(),D=[],Y=this.options.keepBuffer,re=new K(O.getBottomLeft().subtract([Y,-Y]),O.getTopRight().add([Y,-Y]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ue in this._tiles){var me=this._tiles[ue].coords;(me.z!==this._tileZoom||!re.contains(new B(me.x,me.y)))&&(this._tiles[ue].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var Se=O.min.y;Se<=O.max.y;Se++)for(var Le=O.min.x;Le<=O.max.x;Le++){var Xt=new B(Le,Se);if(Xt.z=this._tileZoom,!!this._isValidTile(Xt)){var It=this._tiles[this._tileCoordsToKey(Xt)];It?It.current=!0:D.push(Xt)}}if(D.sort(function(an,Qa){return an.distanceTo(k)-Qa.distanceTo(k)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cn=document.createDocumentFragment();for(Le=0;Le<D.length;Le++)this._addTile(D[Le],Cn);this._level.el.appendChild(Cn)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!u.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return de(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,m=this.getTileSize(),b=o.scaleBy(m),O=b.add(m),k=u.unproject(b,o.z),D=u.unproject(O,o.z);return[k,D]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),m=new le(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),m=new B(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(o){var u=this._tiles[o];u&&(ht(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Oe(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=h,o.onmousemove=h,we.ielt9&&this.options.opacity<1&&En(o,this.options.opacity)},_addTile:function(o,u){var m=this._getTilePos(o),b=this._tileCoordsToKey(o),O=this.createTile(this._wrapCoords(o),l(this._tileReady,this,o));this._initTile(O),this.createTile.length<2&&R(l(this._tileReady,this,o,null,O)),St(O,m),this._tiles[b]={el:O,coords:o,current:!0},u.appendChild(O),this.fire("tileloadstart",{tile:O,coords:o})},_tileReady:function(o,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:o});var b=this._tileCoordsToKey(o);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(En(m.el,0),F(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(Oe(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new B(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new K(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function ck(o){return new $o(o)}var Xa=$o.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=v(this,u),u.detectRetina&&we.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var m=document.createElement("img");return Ae(m,"load",l(this._tileOnLoad,this,u,m)),Ae(m,"error",l(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var u={r:we.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=m),u["-y"]=m}return _(this._url,i(u,this.options))},_tileOnLoad:function(o,u){we.ielt9?setTimeout(l(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,m){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),o(m,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(o=u-o),o+b},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=h,u.onerror=h,!u.complete)){u.src=S;var m=this._tiles[o].coords;ht(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",S),$o.prototype._removeTile.call(this,o)},_tileReady:function(o,u,m){if(!(!this._map||m&&m.getAttribute("src")===S))return $o.prototype._tileReady.call(this,o,u,m)}});function _b(o,u){return new Xa(o,u)}var jb=Xa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var m=i({},this.defaultWmsParams);for(var b in u)b in this.options||(m[b]=u[b]);u=v(this,u);var O=u.detectRetina&&we.retina?2:1,k=this.getTileSize();m.width=k.x*O,m.height=k.y*O,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Xa.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),m=this._crs,b=ee(m.project(u[0]),m.project(u[1])),O=b.min,k=b.max,D=(this._wmsVersion>=1.3&&this._crs===mb?[O.y,O.x,k.y,k.x]:[O.x,O.y,k.x,k.y]).join(","),Y=Xa.prototype.getTileUrl.call(this,o);return Y+N(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(o,u){return i(this.wmsParams,o),u||this.redraw(),this}});function uk(o,u){return new jb(o,u)}Xa.WMS=jb,_b.wms=uk;var Lr=Kn.extend({options:{padding:.1},initialize:function(o){v(this,o),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var m=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,u),k=b.multiplyBy(-m).add(O).subtract(this._map._getNewPixelOrigin(o,u));we.any3d?Hi(this._container,k,m):St(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new K(m,m.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nb=Lr.extend({options:{tolerance:0},getEvents:function(){var o=Lr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ae(o,"mousemove",this._onMouseMove,this),Ae(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,ht(this._container),Je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var o=this._bounds,u=this._container,m=o.getSize(),b=we.retina?2:1;St(u,o.min),u.width=b*m.x,u.height=b*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",we.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[d(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,m=u.next,b=u.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete o._order,delete this._layers[d(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),m=[],b,O;for(O=0;O<u.length;O++){if(b=Number(u[O]),isNaN(b))return;m.push(b)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var m,b,O,k,D=o._parts,Y=D.length,re=this._ctx;if(Y){for(re.beginPath(),m=0;m<Y;m++){for(b=0,O=D[m].length;b<O;b++)k=D[m][b],re[b?"lineTo":"moveTo"](k.x,k.y);u&&re.closePath()}this._fillStroke(re,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,m=this._ctx,b=Math.max(Math.round(o._radius),1),O=(Math.max(Math.round(o._radiusY),1)||b)/b;O!==1&&(m.save(),m.scale(1,O)),m.beginPath(),m.arc(u.x,u.y/O,b,0,Math.PI*2,!1),O!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,u){var m=u.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),m,b,O=this._drawFirst;O;O=O.next)m=O.layer,m.options.interactive&&m._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(_t(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var m,b,O=this._drawFirst;O;O=O.next)m=O.layer,m.options.interactive&&m._containsPoint(u)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,m){this._map._fireDOMEvent(u,m||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var m=u.next,b=u.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var m=u.next,b=u.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function Sb(o){return we.canvas?new Nb(o):null}var Do=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dk={_initContainer:function(){this._container=Ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=Do("shape");Oe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=Do("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;ht(u),o.removeInteractiveTarget(u),delete this._layers[d(o)]},_updateStyle:function(o){var u=o._stroke,m=o._fill,b=o.options,O=o._container;O.stroked=!!b.stroke,O.filled=!!b.fill,b.stroke?(u||(u=o._stroke=Do("stroke")),O.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=w(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(O.removeChild(u),o._stroke=null),b.fill?(m||(m=o._fill=Do("fill")),O.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(O.removeChild(m),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),m=Math.round(o._radius),b=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){Ha(o._container)},_bringToBack:function(o){Va(o._container)}},hu=we.vml?Do:$e,Bo=Lr.extend({_initContainer:function(){this._container=hu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),Je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var o=this._bounds,u=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),St(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=hu("path");o.options.className&&Oe(u,o.options.className),o.options.interactive&&Oe(u,"leaflet-interactive"),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ht(o._path),o.removeInteractiveTarget(o._path),delete this._layers[d(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,m=o.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,Pe(o._parts,u))},_updateCircle:function(o){var u=o._point,m=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||m,O="a"+m+","+b+" 0 1,0 ",k=o._empty()?"M0 0":"M"+(u.x-m)+","+u.y+O+m*2+",0 "+O+-m*2+",0 ";this._setPath(o,k)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){Ha(o._path)},_bringToBack:function(o){Va(o._path)}});we.vml&&Bo.include(dk);function Pb(o){return we.svg||we.vml?new Bo(o):null}Fe.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&Sb(o)||Pb(o)}});var Ab=Ga.extend({initialize:function(o,u){Ga.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=de(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function fk(o,u){return new Ab(o,u)}Bo.create=hu,Bo.pointsToPath=Pe,Mr.geometryToLayer=su,Mr.coordsToLatLng=Sp,Mr.coordsToLatLngs=ou,Mr.latLngToCoords=Pp,Mr.latLngsToCoords=lu,Mr.getFeature=Ya,Mr.asFeature=cu,Fe.mergeOptions({boxZoom:!0});var Eb=fr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Co(),lp(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ae(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ue("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new K(this._point,this._startPoint),m=u.getSize();St(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ht(this._box),_t(this._container,"leaflet-crosshair")),To(),cp(),Je(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",Eb),Fe.mergeOptions({doubleClickZoom:!0});var Ob=fr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,m=u.getZoom(),b=u.options.zoomDelta,O=o.originalEvent.shiftKey?m-b:m+b;u.options.doubleClickZoom==="center"?u.setZoom(O):u.setZoomAround(o.containerPoint,O)}});Fe.addInitHook("addHandler","doubleClickZoom",Ob),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cb=fr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new li(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=de(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,O=(b-u+m)%o+u-m,k=(b+u+m)%o-u-m,D=Math.abs(O+m)<Math.abs(k+m)?O:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(o){var u=this._map,m=u.options,b=!m.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),b)u.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,D=m.easeLinearity,Y=O.multiplyBy(D/k),re=Y.distanceTo([0,0]),ue=Math.min(m.inertiaMaxSpeed,re),me=Y.multiplyBy(ue/re),Se=ue/(m.inertiaDeceleration*D),Le=me.multiplyBy(-Se/2).round();!Le.x&&!Le.y?u.fire("moveend"):(Le=u._limitOffset(Le,u.options.maxBounds),R(function(){u.panBy(Le,{duration:Se,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",Cb),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tb=fr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ae(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,m=o.scrollTop||u.scrollTop,b=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},m=this.keyCodes,b,O;for(b=0,O=m.left.length;b<O;b++)u[m.left[b]]=[-1*o,0];for(b=0,O=m.right.length;b<O;b++)u[m.right[b]]=[o,0];for(b=0,O=m.down.length;b<O;b++)u[m.down[b]]=[0,o];for(b=0,O=m.up.length;b<O;b++)u[m.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},m=this.keyCodes,b,O;for(b=0,O=m.zoomIn.length;b<O;b++)u[m.zoomIn[b]]=o;for(b=0,O=m.zoomOut.length;b<O;b++)u[m.zoomOut[b]]=-o},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,m=this._map,b;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[u],o.shiftKey&&(b=$(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset($(b),m.options.maxBounds)),m.options.worldCopyJump){var O=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(O)}else m.panBy(b)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ki(o)}}});Fe.addInitHook("addHandler","keyboard",Tb),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var kb=fr.extend({addHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=nb(o),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),b),Ki(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,k=m?Math.ceil(O/m)*m:O,D=o._limitZoom(u+(this._delta>0?k:-k))-u;this._delta=0,this._startTime=null,D&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+D):o.setZoomAround(this._lastMousePos,u+D))}});Fe.addInitHook("addHandler","scrollWheelZoom",kb);var hk=600;Fe.mergeOptions({tapHold:we.touchNative&&we.safari&&we.mobile,tapTolerance:15});var Mb=fr.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new B(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ae(document,"touchend",Ft),Ae(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),hk),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Je(document,"touchend",Ft),Je(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Je(document,"touchend touchcancel contextmenu",this._cancel,this),Je(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new B(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Fe.addInitHook("addHandler","tapHold",Mb),Fe.mergeOptions({touchZoom:we.touch,bounceAtZoomLimits:!0});var Lb=fr.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(o.touches[0]),b=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),Ft(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(o.touches[0]),b=u.mouseEventToContainerPoint(o.touches[1]),O=m.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(O,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&O<1||this._zoom>u.getMaxZoom()&&O>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var k=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(O===1&&k.x===0&&k.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var D=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(D,this,!0),Ft(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Je(document,"touchmove",this._onTouchMove,this),Je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",Lb),Fe.BoxZoom=Eb,Fe.DoubleClickZoom=Ob,Fe.Drag=Cb,Fe.Keyboard=Tb,Fe.ScrollWheelZoom=kb,Fe.TapHold=Mb,Fe.TouchZoom=Lb,n.Bounds=K,n.Browser=we,n.CRS=q,n.Canvas=Nb,n.Circle=Np,n.CircleMarker=au,n.Class=z,n.Control=Zn,n.DivIcon=wb,n.DivOverlay=hr,n.DomEvent=TT,n.DomUtil=OT,n.Draggable=li,n.Evented=ne,n.FeatureGroup=Tr,n.GeoJSON=Mr,n.GridLayer=$o,n.Handler=fr,n.Icon=Ka,n.ImageOverlay=uu,n.LatLng=se,n.LatLngBounds=le,n.Layer=Kn,n.LayerGroup=Za,n.LineUtil=WT,n.Map=Fe,n.Marker=iu,n.Mixin=DT,n.Path=ci,n.Point=B,n.PolyUtil=BT,n.Polygon=Ga,n.Polyline=kr,n.Popup=du,n.PosAnimation=rb,n.Projection=HT,n.Rectangle=Ab,n.Renderer=Lr,n.SVG=Bo,n.SVGOverlay=bb,n.TileLayer=Xa,n.Tooltip=fu,n.Transformation=ce,n.Util=W,n.VideoOverlay=yb,n.bind=l,n.bounds=ee,n.canvas=Sb,n.circle=JT,n.circleMarker=QT,n.control=Lo,n.divIcon=lk,n.extend=i,n.featureGroup=GT,n.geoJSON=vb,n.geoJson=nk,n.gridLayer=ck,n.icon=YT,n.imageOverlay=rk,n.latLng=U,n.latLngBounds=de,n.layerGroup=KT,n.map=kT,n.marker=XT,n.point=$,n.polygon=tk,n.polyline=ek,n.popup=sk,n.rectangle=fk,n.setOptions=v,n.stamp=d,n.svg=Pb,n.svgOverlay=ak,n.tileLayer=_b,n.tooltip=ok,n.transformation=Z,n.version=r,n.videoOverlay=ik;var pk=window.L;n.noConflict=function(){return window.L=pk,this},window.L=n})})(Yg,Yg.exports);var Ra=Yg.exports;const Tv=Ke(Ra);function qc(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function oh(e,t){return t==null?function(r,i){const s=A.useRef();return s.current||(s.current=e(r,i)),s}:function(r,i){const s=A.useRef();s.current||(s.current=e(r,i));const l=A.useRef(r),{instance:c}=s.current;return A.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,i]),s}}function BA(e,t){A.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function FA(e){return function(n){const r=ah(),i=e(sh(n,r),r);return IA(r.map,n.attribution),Cv(i.current,n.eventHandlers),BA(i.current,r),i}}function WR(e,t){const n=A.useRef();A.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function HR(e){return function(n){const r=ah(),i=e(sh(n,r),r);return Cv(i.current,n.eventHandlers),BA(i.current,r),WR(i.current,n),i}}function VR(e,t){const n=oh(e,t),r=FA(n);return DA(r)}function ZR(e,t){const n=oh(e),r=qR(n,t);return zR(r)}function zA(e,t){const n=oh(e,t),r=HR(n);return DA(r)}function KR(e,t){const n=oh(e,t),r=FA(n);return UR(r)}function GR(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function YR(){return ah().map}const XR=zA(function({center:t,children:n,...r},i){const s=new Ra.CircleMarker(t,r);return qc(s,Ov(i,{overlayContainer:s}))},DR);function Xg(){return Xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xg.apply(this,arguments)}function QR({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:l,style:c,whenReady:d,zoom:f,...p},h){const[g]=A.useState({className:i,id:s,style:c}),[j,x]=A.useState(null);A.useImperativeHandle(h,()=>(j==null?void 0:j.map)??null,[j]);const v=A.useCallback(y=>{if(y!==null&&j===null){const _=new Ra.Map(y,p);n!=null&&f!=null?_.setView(n,f):e!=null&&_.fitBounds(e,t),d!=null&&_.whenReady(d),x(FR(_))}},[]);A.useEffect(()=>()=>{j==null||j.map.remove()},[j]);const N=j?G.createElement($A,{value:j},r):l??null;return G.createElement("div",Xg({},g,{ref:v}),N)}const JR=A.forwardRef(QR),e$=VR(function({position:t,...n},r){const i=new Ra.Marker(t,n);return qc(i,Ov(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),t$=zA(function({positions:t,...n},r){const i=new Ra.Polyline(t,n);return qc(i,Ov(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),n$=KR(function({url:t,...n},r){const i=new Ra.TileLayer(t,sh(n,r));return qc(i,r)},function(t,n,r){GR(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),r$=ZR(function(t,n){const r=new Ra.Tooltip(t,n.overlayContainer);return qc(r,n)},function(t,n,{position:r},i){A.useEffect(function(){const l=n.overlayContainer;if(l==null)return;const{instance:c}=t,d=p=>{p.tooltip===c&&(r!=null&&c.setLatLng(r),c.update(),i(!0))},f=p=>{p.tooltip===c&&i(!1)};return l.on({tooltipopen:d,tooltipclose:f}),l.bindTooltip(c),function(){l.off({tooltipopen:d,tooltipclose:f}),l._map!=null&&l.unbindTooltip()}},[t,n,i,r])}),UA=[20.5937,78.9629],qA=5,i$=Tv.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});Tv.Marker.prototype.options.icon=i$;const a$=({markers:e=[],polyline:t=[],driverPosition:n})=>{const r=YR(),i=A.useMemo(()=>{const s=[...e.map(l=>l.position),...t,n].filter(Boolean);return s.length===0?null:Tv.latLngBounds(s)},[e,t,n]);return A.useEffect(()=>{i?r.fitBounds(i,{padding:[40,40]}):r.setView(UA,qA)},[i,r]),null},WA=({markers:e=[],polyline:t=[],driverPosition:n,className:r})=>a.jsx("div",{className:`relative h-full min-h-[360px] w-full overflow-hidden rounded-3xl shadow-inner ${r??""}`,children:a.jsxs(JR,{center:UA,zoom:qA,className:"h-full w-full",scrollWheelZoom:!0,children:[a.jsx(n$,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.jsx(a$,{markers:e,polyline:t,driverPosition:n}),e.map(i=>a.jsx(e$,{position:i.position},i.label)),t.length>1&&a.jsx(t$,{positions:t,color:"#2563eb",weight:4,opacity:.75}),n&&a.jsx(XR,{center:n,radius:10,pathOptions:{color:"#f97316",fillColor:"#fb923c",fillOpacity:.9},children:a.jsx(r$,{direction:"top",offset:[0,-10],opacity:1,children:"Driver location"})})]})});function HA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=HA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ie(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=HA(e))&&(r&&(r+=" "),r+=t);return r}const s$=({title:e,children:t,open:n,onClose:r,className:i})=>a.jsxs("div",{className:Ie("fixed inset-0 z-40 transition-all",n?"pointer-events-auto":"pointer-events-none"),"aria-hidden":!n,children:[a.jsx("div",{className:Ie("absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",n?"opacity-100":"opacity-0"),onClick:r}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center px-4 sm:px-6",children:a.jsxs("div",{className:Ie("w-full max-w-3xl rounded-t-3xl bg-white shadow-xl","max-h-[85vh] overflow-y-auto transition-transform duration-300",n?"translate-y-0":"translate-y-full",i),children:[a.jsxs("div",{className:"px-5 pt-4 pb-2",children:[a.jsx("div",{className:"mx-auto mb-4 h-1.5 w-12 rounded-full bg-gray-300"}),e&&a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e})]}),a.jsx("div",{className:"px-5 pb-8",children:t})]})})]}),o$=({icon:e,label:t,className:n,...r})=>a.jsxs("button",{className:Ie("inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 shadow-lg","text-white font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",n),...r,children:[e&&a.jsx(e,{className:"h-5 w-5"}),t&&a.jsx("span",{children:t})]}),l$=()=>{const e=Or(),{api:t,user:n}=ke(),[r,i]=A.useState(!0),[s,l]=A.useState([]),[c,d]=A.useState([]),[f,p]=A.useState({fromLocation:"",toLocation:"",fromLat:"",fromLng:"",toLat:"",toLng:"",weight:"",shipmentType:"STANDARD",urgency:"MEDIUM"}),[h,g]=A.useState(!1),[j,x]=A.useState("");A.useEffect(()=>{(n==null?void 0:n.role)==="AGENT"&&e("/transporter/inbox",{replace:!0})},[n,e]);const v=()=>{window.history.length>1?e(-1):e("/dashboard")},N=w=>{const{name:P,value:S}=w.target;p(E=>({...E,[P]:S})),x("")},y=async w=>{try{const P=await ft.get("https://nominatim.openstreetmap.org/search",{params:{q:w,format:"json",limit:1}});return P.data&&P.data.length>0?{lat:parseFloat(P.data[0].lat),lng:parseFloat(P.data[0].lon)}:null}catch(P){return console.error("Geocoding error:",P),null}},_=async w=>{var P,S,E,C,T,I;w.preventDefault(),g(!0),x(""),l([]),d([]);try{let M={lat:f.fromLat,lng:f.fromLng},R={lat:f.toLat,lng:f.toLng};if((!f.fromLat||!f.fromLng)&&(M=await y(f.fromLocation),!M)){x("Could not locate pickup address. Try a more precise location."),g(!1);return}if((!f.toLat||!f.toLng)&&(R=await y(f.toLocation),!R)){x("Could not locate drop-off address. Try a more precise location."),g(!1);return}try{const z=((C=(E=(S=(P=(await ft.get(`https://router.project-osrm.org/route/v1/driving/${M.lng},${M.lat};${R.lng},${R.lat}`,{params:{overview:"full",geometries:"geojson"}})).data)==null?void 0:P.routes)==null?void 0:S[0])==null?void 0:E.geometry)==null?void 0:C.coordinates)||[];z.length>0?d(z.map(([V,X])=>[X,V])):d([])}catch(W){console.warn("Unable to draw route",W),d([])}l([{label:"origin",position:[M.lat,M.lng]},{label:"destination",position:[R.lat,R.lng]}]);const F=await t.post("/freight/calculate",{...f,fromLat:M.lat,fromLng:M.lng,toLat:R.lat,toLng:R.lng,weight:parseFloat(f.weight)});e("/select-vendor",{state:{calculationData:F.data,quotes:F.data.quotes||[],distance:F.data.distance,needsQuote:F.data.needsQuote,unmatchedVendors:F.data.unmatchedVendors||[]}})}catch(M){console.error("Freight calculation failed:",M),x(((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Unable to calculate freight. Please try again.")}finally{g(!1)}};return(n==null?void 0:n.role)==="AGENT"?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 text-white",children:a.jsx("div",{className:"rounded-3xl border border-blue-500/30 bg-blue-500/10 px-6 py-8 text-center text-sm text-blue-100 shadow-2xl",children:"Redirecting to your transporter workspace"})}):a.jsxs("div",{className:"relative min-h-screen bg-slate-950 text-white",children:[a.jsxs("button",{type:"button",onClick:()=>e(-1),className:"group absolute left-6 top-6 z-20 inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/10 px-4 py-2 text-sm font-medium text-white shadow-lg backdrop-blur transition hover:bg-white/20",children:[a.jsx(Rs,{className:"h-4 w-4 transition group-hover:-translate-x-0.5"}),"Back"]}),a.jsx(WA,{markers:s,polyline:c}),a.jsx(s$,{open:r,onOpenChange:i,children:a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-blue-200",children:"Plan a shipment"}),a.jsx("h1",{className:"text-3xl font-semibold",children:"Calculate freight instantly"}),a.jsx("p",{className:"mt-2 text-sm text-slate-300",children:"Enter pickup, drop-off, and load details to see transporter options tailored to your route."})]}),a.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-200 transition hover:border-blue-200 hover:bg-blue-600/20 hover:text-white",children:[a.jsx(Rs,{className:"h-4 w-4"}),"Back"]})]}),j&&a.jsx("div",{className:"rounded-2xl border border-red-500/30 bg-red-500/20 px-4 py-3 text-sm text-red-100",children:j}),a.jsx("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/80 p-6 backdrop-blur-sm",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-slate-500",children:"Pickup location"}),a.jsxs("div",{className:"relative",children:[a.jsx(Qr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500"}),a.jsx("input",{type:"text",name:"fromLocation",value:f.fromLocation,onChange:N,required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 py-3 pl-10 pr-4 text-slate-900 shadow-inner transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/40",placeholder:"Where should we pick up?"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-slate-500",children:"Drop-off location"}),a.jsxs("div",{className:"relative",children:[a.jsx(Qr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500"}),a.jsx("input",{type:"text",name:"toLocation",value:f.toLocation,onChange:N,required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 py-3 pl-10 pr-4 text-slate-900 shadow-inner transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/40",placeholder:"Where should it arrive?"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-slate-500",children:"Weight (kg)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ti,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500"}),a.jsx("input",{type:"number",name:"weight",value:f.weight,onChange:N,required:!0,min:"0.1",step:"0.1",className:"w-full rounded-2xl border border-slate-200 bg-slate-50 py-3 pl-10 pr-4 text-slate-900 shadow-inner transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/40",placeholder:"500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-slate-500",children:"Shipment type"}),a.jsxs("select",{name:"shipmentType",value:f.shipmentType,onChange:N,required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 py-3 px-4 text-slate-900 shadow-inner transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/40",children:[a.jsx("option",{value:"STANDARD",children:"Standard"}),a.jsx("option",{value:"EXPRESS",children:"Express"}),a.jsx("option",{value:"FRAGILE",children:"Fragile"}),a.jsx("option",{value:"HAZARDOUS",children:"Hazardous"})]})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-slate-500",children:"Urgency"}),a.jsxs("div",{className:"relative",children:[a.jsx(ya,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500"}),a.jsxs("select",{name:"urgency",value:f.urgency,onChange:N,required:!0,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 py-3 pl-10 pr-4 text-slate-900 shadow-inner transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/40",children:[a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"MEDIUM",children:"Medium"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"URGENT",children:"Urgent"})]})]}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Urgency helps us prioritize speed when ranking transporter options."})]})]}),a.jsx("button",{type:"submit",disabled:h,className:"flex w-full items-center justify-center gap-2 rounded-2xl bg-blue-600 py-4 text-base font-semibold text-white shadow-lg shadow-blue-500/30 transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Vg,{className:"h-5 w-5 animate-spin"}),"Calculating routes..."]}):a.jsxs(a.Fragment,{children:["Show transporter options",a.jsx(jl,{className:"h-5 w-5"})]})}),a.jsxs("div",{className:"grid gap-3 rounded-2xl bg-slate-50 p-4 text-sm text-slate-600 sm:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Instant quotes"}),a.jsx("p",{children:"Compare prices from multiple transporters in seconds."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Optimized routes"}),a.jsx("p",{children:"Powered by open mapping for accurate distance and ETA."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Real-time tracking"}),a.jsx("p",{children:"Stay informed from assignment to delivery confirmation."})]})]})]})}),!r&&a.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-6 flex justify-center",children:a.jsx(o$,{icon:Vg,label:"Plan a shipment",className:"pointer-events-auto shadow-xl",onClick:()=>i(!0)})})]})},_1=({entityType:e,action:t,payload:n,entityId:r})=>({entityType:e,action:t,payload:n,entityId:r??null}),$a=()=>{const{api:e}=ke(),t=SA();return A.useCallback(async({request:n,queue:r})=>{var s,l,c;if(typeof n!="function")throw new Error("useSyncMutation requires a request function");if(!(typeof navigator>"u"?!0:navigator.onLine)&&r)return await e.post("/sync/queue",_1(r)),(s=t==null?void 0:t.refreshQueue)==null||s.call(t),{queued:!0};try{const d=await n(e);return(l=t==null?void 0:t.refreshQueue)==null||l.call(t),{response:d,queued:!1}}catch(d){if(!r)throw d;return await e.post("/sync/queue",_1(r)),(c=t==null?void 0:t.refreshQueue)==null||c.call(t),{queued:!0,error:d}}},[e,t])},lm=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),c$=e=>new Date(e).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),u$=()=>{const e=Di(),t=Or(),{api:n}=ke(),r=$a(),{calculationData:i,quotes:s=[],distance:l,needsQuote:c=!1,unmatchedVendors:d=[]}=e.state||{},[f,p]=A.useState(null),[h,g]=A.useState(!1),[j,x]=A.useState(""),[v,N]=A.useState(d.map(W=>W.vendorId)),[y,_]=A.useState(""),[w,P]=A.useState(!1),[S,E]=A.useState(""),[C,T]=A.useState("");A.useEffect(()=>{s.length===0&&p(null)},[s.length]);const I=W=>{N(z=>z.includes(W)?z.filter(V=>V!==W):[...z,W]),E("")},M=async()=>{var W,z;if(!i){E("Shipment details missing. Recalculate freight to request a quotation.");return}if(v.length===0){E("Select at least one transporter to notify.");return}P(!0),E(""),T("");try{const V={fromLocation:i.fromLocation,toLocation:i.toLocation,fromLat:i.fromLat,fromLng:i.fromLng,toLat:i.toLat,toLng:i.toLng,weight:parseFloat(i.weight),shipmentType:i.shipmentType,urgency:i.urgency,notes:y,vendorIds:v},X=await r({request:ne=>ne.post("/quotes",V),queue:{entityType:"QUOTE_REQUEST",action:"CREATE_QUOTE_REQUEST",payload:V}});T(X.queued?"Offline: quotation request queued and will sync automatically.":"Quotation request sent. We will notify you as soon as transporters respond."),_("")}catch(V){E(((z=(W=V.response)==null?void 0:W.data)==null?void 0:z.error)||V.message||"Failed to submit quotation request.")}finally{P(!1)}},R=c||d.length>0;if(!i)return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mb-4 text-2xl font-bold text-gray-900",children:"No Calculation Data"}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Please calculate freight first."}),a.jsx("button",{onClick:()=>t("/calculate"),className:"rounded-lg bg-blue-600 px-6 py-3 text-white hover:bg-blue-700",children:"Calculate Freight"})]})});const F=async()=>{var W,z;if(!f){x("Please select a transporter");return}if(!f.agreementId&&Array.isArray(d)&&d.length){x("This transporter does not have an agreement for the selected corridor. Redirecting you to quote onboarding..."),setTimeout(()=>{t("/quotes",{state:{calculationData:i,unmatchedVendors:d,needsQuote:!0}})},1500);return}g(!0),x("");try{const V=await n.post("/shipments",{fromLocation:i.fromLocation,toLocation:i.toLocation,fromLat:i.fromLat,fromLng:i.fromLng,toLat:i.toLat,toLng:i.toLng,weight:parseFloat(i.weight),shipmentType:i.shipmentType,urgency:i.urgency,selectedVendorId:f.vendorId,agreementId:f.agreementId,rateCardId:f.rateCardId,cost:f.cost,distance:f.distance,estimatedDelivery:f.estimatedDelivery});t(`/shipments/${V.data.shipment.id}`,{state:{message:"Shipment created successfully!"}})}catch(V){x(((z=(W=V.response)==null?void 0:W.data)==null?void 0:z.error)||"Failed to create shipment")}finally{g(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t(-1),className:"mb-4 flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[a.jsx(Rs,{className:"h-4 w-4"}),"Back to Calculate"]}),a.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"Select Transporter"}),a.jsx("p",{className:"text-gray-600",children:"Choose the best option for your shipment"})]}),a.jsxs("div",{className:"mb-6 rounded-lg bg-white p-6 shadow-md",children:[a.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Shipment Details"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Qr,{className:"mt-0.5 h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"From"}),a.jsx("p",{className:"font-medium text-gray-900",children:i.fromLocation})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Qr,{className:"mt-0.5 h-5 w-5 rotate-180 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"To"}),a.jsx("p",{className:"font-medium text-gray-900",children:i.toLocation})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(rr,{className:"mt-0.5 h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Weight"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[i.weight," kg"]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($s,{className:"mt-0.5 h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Distance"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[l," km"]})]})]})]})]}),j&&a.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-red-700",children:j}),s.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-6 space-y-4",children:s.map((W,z)=>a.jsxs("div",{onClick:()=>{p(W),x("")},className:`cursor-pointer rounded-lg bg-white p-6 shadow-md transition ${(f==null?void 0:f.vendorId)===W.vendorId?"border border-blue-500 ring-2 ring-blue-400":"hover:shadow-lg"}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:W.vendorName}),z===0&&a.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-800",children:"Best Value"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(OA,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:lm(W.cost)}),W.appliedRatePerKm&&a.jsxs("p",{className:"text-xs text-gray-500",children:[lm(W.appliedRatePerKm)," per km"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($s,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Delivery"}),a.jsx("p",{className:"font-medium text-gray-900",children:c$(W.estimatedDelivery)}),W.rateCardRoute&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Route: ",W.rateCardRoute]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oR,{className:"h-5 w-5 text-yellow-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Rating"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[W.rating.toFixed(1)," / 5.0"]})]})]}),W.vehicleType&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(rr,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{children:W.vehicleType})]})]})]})]}),(f==null?void 0:f.vendorId)===W.vendorId&&a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-600",children:a.jsx(Q5,{className:"h-5 w-5 text-white"})})})]}),a.jsx("div",{className:"mt-4 rounded-xl bg-slate-50 px-4 py-3 text-xs text-slate-600",children:W.agreementTitle?`Agreement in force: ${W.agreementTitle}`:"No active agreement  shipment will be booked on standard transporter terms."})]},W.vendorId))}),a.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Selected Transporter"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:f?f.vendorName:"None selected"}),f&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"mt-2 text-2xl font-bold text-blue-600",children:lm(f.cost)}),f.rateCardRoute&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Agreement route: ",f.rateCardRoute,f.agreementTitle?`  ${f.agreementTitle}`:""]}),!f.agreementTitle&&a.jsx("p",{className:"mt-1 text-xs font-medium text-amber-600",children:"This shipment will be created under standard transporter terms (no agreement)."})]})]}),a.jsx("button",{onClick:F,disabled:!f||h,className:"rounded-lg bg-blue-600 px-8 py-3 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:h?"Confirming...":"Confirm Booking"})]})})]}),R&&s.length===0&&a.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Pr,{className:"mx-auto h-10 w-10 text-amber-500"}),a.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-800",children:"No instant quotes available for this route."}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can request a custom quotation from available transporters."})]}),a.jsx("div",{className:"mx-auto mt-6 max-w-2xl",children:C?a.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg border border-green-200 bg-green-50 p-4 text-center text-green-700",children:[a.jsx(_v,{className:"h-6 w-6"}),a.jsx("p",{className:"font-semibold",children:C})]}):a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"Select transporters to notify:"}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-3 sm:grid-cols-3",children:d.map(W=>a.jsxs("label",{className:`flex cursor-pointer items-center gap-2 rounded-lg border p-3 text-sm transition ${v.includes(W.vendorId)?"border-blue-500 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("input",{type:"checkbox",checked:v.includes(W.vendorId),onChange:()=>I(W.vendorId),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"font-medium text-slate-800",children:W.vendorName})]},W.vendorId))}),a.jsx("div",{className:"mt-4",children:a.jsx("textarea",{value:y,onChange:W=>_(W.target.value),rows:3,className:"w-full rounded-lg border-slate-300 text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Add any special instructions or notes for the transporters (optional)..."})}),S&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:S}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsxs("button",{onClick:M,disabled:w,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700 disabled:opacity-60",children:[w?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(Av,{className:"h-4 w-4"}),w?"Sending Request...":"Request Quotation"]})})]})})]}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsxs("button",{type:"button",onClick:()=>t("/calculate"),className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100",children:[a.jsx(Rs,{className:"h-4 w-4"}),"Go back to calculation"]})})]})})},Mu=({title:e,value:t,description:n,icon:r,iconColor:i="text-blue-500"})=>a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:e}),r&&a.jsx(r,{className:`h-5 w-5 ${i}`})]}),a.jsx("p",{className:"mt-4 text-3xl font-bold text-slate-900",children:t}),a.jsx("p",{className:"text-xs text-slate-500",children:n})]}),d$=()=>{const{user:e,api:t}=ke(),n=$a(),[r,i]=A.useState([]),[s,l]=A.useState(!0),[c,d]=A.useState(null),f=["OPERATIONS"].includes(e==null?void 0:e.role),p=["OPERATIONS","TRANSPORTER"].includes(e==null?void 0:e.role);A.useEffect(()=>{(async()=>{var v,N;l(!0),d(null);try{const{data:y}=await t.get("/shipments");i(y)}catch(y){d(((N=(v=y.response)==null?void 0:v.data)==null?void 0:N.error)||y.message||"Failed to load shipments")}finally{l(!1)}})()},[t]);const h=async x=>{var N,y;const v=window.prompt("Enter POD URL");if(v)try{const{queued:_}=await n({request:w=>w.put(`/shipments/${x}/pod`,{podUrl:v}),queue:{entityType:"SHIPMENT",entityId:x,action:"UPLOAD_POD",payload:{shipmentId:x,podUrl:v}}});_?alert("Offline: POD upload queued and will sync automatically."):i(w=>w.map(P=>P.id===x?{...P,pod_status:"Collected"}:P))}catch(_){alert(((y=(N=_.response)==null?void 0:N.data)==null?void 0:y.error)||_.message)}},g=x=>{window.location.href=`/shipments/${x}/invoice`},j=()=>{if(!r.length){alert("No shipments available to download yet.");return}const x=["Shipment ID","Customer","Source","ERP Order","Status","POD Status","Created At"],v=r.map(P=>[P.id,P.customer_name,P.source,P.erp_order_id||"",P.status,P.pod_status,new Date(P.createdAt).toLocaleString()]),N=[x,...v].map(P=>P.map(S=>`"${S??""}"`).join(",")).join(`
`),y=new Blob([N],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(y),w=document.createElement("a");w.href=_,w.download=`shipments-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(_)};return s?a.jsx("p",{className:"text-center text-gray-500",children:"Loading shipments..."}):c?a.jsxs("p",{className:"text-center text-red-500",children:["Error: ",c]}):a.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[a.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-3",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Shipments"}),a.jsx("button",{type:"button",onClick:j,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Download CSV"})]}),a.jsx("ul",{className:"space-y-3",children:r.map(x=>{var v,N;return a.jsxs("li",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-indigo-600",children:x.customer_name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Source:"," ",x.source==="erp"?a.jsxs("span",{className:"text-green-600 font-medium",children:["ERP (",x.erp_order_id||"N/A",")"]}):a.jsx("span",{className:"text-blue-600 font-medium",children:"Manual"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["POD Status: ",x.pod_status]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Invoices:"," ",a.jsx("span",{className:"font-semibold text-gray-800",children:((v=x==null?void 0:x._count)==null?void 0:v.invoices)??((N=x.invoices)==null?void 0:N.length)??0})]})]}),a.jsxs("div",{className:"space-x-3",children:[f&&a.jsx("button",{type:"button",onClick:()=>h(x.id),className:"px-3 py-1 rounded bg-emerald-600 text-white text-sm",children:"Upload POD"}),p&&a.jsx("button",{type:"button",onClick:()=>g(x.id),className:"px-3 py-1 rounded bg-indigo-600 text-white text-sm",children:"Upload Invoice"})]})]},x.id)})})]})},f$=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}),Go=e=>f$.format(e||0),h$={Pending:"bg-amber-50 text-amber-700",Approved:"bg-emerald-50 text-emerald-700",Rejected:"bg-rose-50 text-rose-700","Pending RCM":"bg-indigo-50 text-indigo-700"},VA=()=>{const{api:e,user:t}=ke(),[n,r]=A.useState(null),[i,s]=A.useState(!0),[l,c]=A.useState(""),[d,f]=A.useState(""),p=["COMPANY_ADMIN","FINANCE_APPROVER"].includes(t==null?void 0:t.role);A.useEffect(()=>{let j=!0;return(async()=>{var v,N;if(!p){s(!1);return}try{const y=await e.get("/finance/overview");j&&r(y.data)}catch(y){j&&c(((N=(v=y.response)==null?void 0:v.data)==null?void 0:N.error)||"Failed to load finance analytics.")}finally{j&&s(!1)}})(),()=>{j=!1}},[e,p]);const h=async j=>{var x,v;f(j);try{const N=await e.get(`/finance/export/${j}`,{responseType:"blob"}),y=new Blob([N.data],{type:"text/csv;charset=utf-8;"}),_=window.URL.createObjectURL(y),w=document.createElement("a");w.href=_,w.download=`${j}.csv`,w.click(),window.URL.revokeObjectURL(_)}catch(N){c(((v=(x=N.response)==null?void 0:x.data)==null?void 0:v.error)||"Failed to export dataset.")}finally{f("")}},g=A.useMemo(()=>n!=null&&n.costVariance?n.costVariance.filter(j=>j.variance!==null).sort((j,x)=>Math.abs(x.variance)-Math.abs(j.variance)).slice(0,5):[],[n]);return p?i?a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsx("p",{className:"text-slate-500",children:"Loading finance analytics"})}):l?a.jsx("div",{className:"rounded-2xl border border-rose-100 bg-white p-6 shadow-sm",children:a.jsx("p",{className:"text-rose-600 font-medium",children:l})}):n?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-emerald-500 font-semibold",children:"Finance workspace"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Invoice lifecycle & payouts"}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Updated ",new Date(n.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:opacity-60",onClick:()=>h("invoice-ledger"),disabled:d==="invoice-ledger",children:[a.jsx(Ds,{className:"h-4 w-4"}),d==="invoice-ledger"?"Preparing":"Invoice ledger CSV"]}),a.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:opacity-60",onClick:()=>h("transporter-payouts"),disabled:d==="transporter-payouts",children:[a.jsx(Ds,{className:"h-4 w-4"}),d==="transporter-payouts"?"Preparing":"Transporter payouts CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Invoices"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:n.counts.invoices}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[n.invoiceStats.DRAFT||0," draft  ",n.invoiceStats.ISSUED||0," issued "," ",n.invoiceStats.PAID||0," paid"]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Transporter invoices"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:n.counts.transporterInvoices}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[n.payoutStatus.Pending||0," pending  ",n.payoutStatus.Approved||0," approved "," ",n.payoutStatus.Rejected||0," rejected"]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Compliance alerts"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-amber-600",children:n.taxSummary.rejectedDocs||0}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Rejected / missing documents"})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Pending authorizations"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-600",children:n.taxSummary.pendingAuthorizations||0}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"RCM / payouts awaiting approval"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Invoice lifecycle"}),a.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:n.invoiceKanban.map(j=>a.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-semibold uppercase text-slate-500",children:j.label}),a.jsx("span",{className:"text-xs font-bold text-slate-600",children:j.count})]}),a.jsxs("div",{className:"mt-3 space-y-2",children:[j.invoices.map(x=>a.jsxs("div",{className:"rounded-lg bg-white p-3 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:x.invoiceNumber}),a.jsx("p",{className:"text-xs text-slate-500",children:x.vendor}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 mt-1",children:Go(x.amount)}),x.dueDate&&a.jsxs("p",{className:"text-xs text-slate-500",children:["Due ",new Date(x.dueDate).toLocaleDateString()]})]},x.id)),!j.invoices.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No items in this stage."})]})]},j.status))})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Transporter payouts"}),a.jsx("div",{className:"overflow-x-auto mt-4",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-100 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Invoice #"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Vendor"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Shipment"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Amount"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Status"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.payoutRows.map(j=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-3 py-2 font-semibold text-slate-900",children:j.invoiceNumber}),a.jsx("td",{className:"px-3 py-2 text-slate-600",children:j.vendorName}),a.jsx("td",{className:"px-3 py-2 text-slate-600",children:j.shipmentRef||""}),a.jsx("td",{className:"px-3 py-2 text-right font-semibold text-slate-900",children:Go(j.amount)}),a.jsx("td",{className:"px-3 py-2 text-right",children:a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${h$[j.status]||"bg-slate-100 text-slate-600"}`,children:j.status})})]},j.id)),!n.payoutRows.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-3 py-4 text-center text-slate-500",children:"No transporter invoices available."})})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Cost vs contracted rate"}),a.jsxs("ul",{className:"mt-4 space-y-3",children:[g.map(j=>a.jsxs("li",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-semibold text-slate-800",children:["Shipment #",j.id]}),a.jsxs("span",{className:`text-sm font-bold ${j.variance>0?"text-rose-600":j.variance<0?"text-emerald-600":"text-slate-600"}`,children:[j.variance>0?"+":"",Go(j.variance||0)]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-500",children:[a.jsxs("div",{children:[a.jsx("p",{className:"uppercase tracking-wide",children:"Contracted"}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:j.contracted?Go(j.contracted):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"uppercase tracking-wide",children:"Actual"}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Go(j.actual)})]})]})]},j.id)),!g.length&&a.jsx("li",{className:"text-sm text-slate-500",children:"Not enough shipments to compute variance."})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Tax & compliance"}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"GST invoices issued"}),a.jsx("span",{className:"text-lg font-semibold text-slate-900",children:n.taxSummary.issuedGstInvoices||0})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Pending authorizations"}),a.jsx("span",{className:"text-lg font-semibold text-slate-900",children:n.taxSummary.pendingAuthorizations||0})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Rejected documents"}),a.jsx("span",{className:"text-lg font-semibold text-rose-600",children:n.taxSummary.rejectedDocs||0})]})]})]})]})]}):null:a.jsx("p",{className:"p-6 text-sm text-slate-500",children:"Finance dashboard is restricted to finance roles."})},p$={DELIVERED:"bg-emerald-50 text-emerald-700",IN_TRANSIT:"bg-indigo-50 text-indigo-700",PENDING:"bg-amber-50 text-amber-700",REQUESTED:"bg-amber-50 text-amber-700"},cm=e=>e?new Date(e).toLocaleString():"N/A",m$=()=>{const{api:e,user:t}=ke(),[n,r]=A.useState(null),[i,s]=A.useState(!0),[l,c]=A.useState(""),d=["USER","COMPANY_ADMIN"].includes(t==null?void 0:t.role);return A.useEffect(()=>{let f=!0;return(async()=>{var h,g;if(!d){s(!1);return}try{const j=await e.get("/user/analytics/overview");f&&r(j.data)}catch(j){f&&c(((g=(h=j.response)==null?void 0:h.data)==null?void 0:g.error)||"Unable to load shipment insights.")}finally{f&&s(!1)}})(),()=>{f=!1}},[e,d]),d?i?a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm text-slate-500",children:"Loading your shipment insights"}):l?a.jsx("div",{className:"rounded-2xl border border-rose-100 bg-white p-4 shadow-sm text-rose-600 text-sm",children:l}):n?a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-indigo-500 font-semibold",children:"Shipment tracker"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Latest bookings & vendor quotes"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Total"}),a.jsx("p",{className:"text-xl font-bold text-slate-900",children:n.summary.total})]}),a.jsxs("div",{className:"rounded-xl bg-emerald-50 p-3",children:[a.jsx("p",{className:"text-xs text-emerald-600",children:"Delivered"}),a.jsx("p",{className:"text-xl font-bold text-emerald-700",children:n.summary.delivered})]}),a.jsxs("div",{className:"rounded-xl bg-indigo-50 p-3",children:[a.jsx("p",{className:"text-xs text-indigo-600",children:"In transit"}),a.jsx("p",{className:"text-xl font-bold text-indigo-700",children:n.summary.inTransit})]}),a.jsxs("div",{className:"rounded-xl bg-amber-50 p-3",children:[a.jsx("p",{className:"text-xs text-amber-600",children:"Pending"}),a.jsx("p",{className:"text-xl font-bold text-amber-700",children:n.summary.pending})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Recent shipments"}),a.jsxs("div",{className:"mt-3 space-y-2 max-h-72 overflow-y-auto pr-2",children:[n.shipments.map(f=>a.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:f.trackingNumber||`Shipment #${f.id}`}),a.jsxs("p",{className:"text-xs text-slate-500",children:[f.fromLocation,"  ",f.toLocation]})]}),a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${p$[f.status]||"bg-slate-100 text-slate-700"}`,children:f.status})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-[11px] text-slate-500",children:[a.jsxs("div",{children:[a.jsx("p",{children:"Pickup"}),a.jsx("p",{className:"font-semibold text-slate-700",children:cm(f.pickupTime)})]}),a.jsxs("div",{children:[a.jsx("p",{children:"Delivery"}),a.jsx("p",{className:"font-semibold text-slate-700",children:cm(f.deliveryTime)})]})]})]},f.id)),!n.shipments.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No shipments yet."})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Issue log"}),a.jsxs("div",{className:"mt-3 space-y-2 max-h-72 overflow-y-auto pr-2 text-sm",children:[n.issueLog.map(f=>a.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/80 p-3",children:[a.jsx("p",{className:"font-semibold text-amber-900",children:f.trackingNumber||`Shipment #${f.id}`}),a.jsx("p",{className:"text-xs text-amber-800",children:f.description}),a.jsx("p",{className:"text-[11px] text-amber-600 mt-1",children:cm(f.updatedAt)})]},f.id)),!n.issueLog.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No pending issues "})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Quote comparison"}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[n.quoteInsights.entries.map(f=>a.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:f.route}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Requested ",new Date(f.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-600",children:f.status})]}),a.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[f.responses.map(p=>a.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-3 py-2 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:p.vendorName}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ETA ",p.eta?new Date(p.eta).toLocaleDateString():"N/A"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:p.price?`${p.price.toFixed(0)}`:"N/A"}),a.jsx("p",{className:"text-[11px] text-slate-500",children:p.status})]})]},p.id)),!f.responses.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"Waiting for transporter responses."})]})]},f.id)),!n.quoteInsights.entries.length&&a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center text-xs text-slate-500",children:"Request quotes to compare transporter offers here."})]})]})]}):null:null},um=e=>String(e||"").replace(/_/g," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Lu=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"N/A"}},g$=(e,t="INR")=>{if(e==null)return`${t} 0.00`;try{return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,maximumFractionDigits:2}).format(e)}catch{const r=Number(e)||0;return`${t} ${r.toFixed(2)}`}},x$=e=>({PENDING:"bg-amber-100 text-amber-800 border border-amber-200",PENDING_QUOTE:"bg-purple-100 text-purple-800 border border-purple-200",QUOTE_SUBMITTED:"bg-sky-100 text-sky-800 border border-sky-200",QUOTE_APPROVED:"bg-emerald-100 text-emerald-800 border border-emerald-200",REQUESTED:"bg-amber-100 text-amber-800 border border-amber-200",ASSIGNED:"bg-blue-100 text-blue-800 border border-blue-200",ACCEPTED:"bg-blue-100 text-blue-800 border border-blue-200",REJECTED:"bg-rose-100 text-rose-800 border border-rose-200",IN_TRANSIT:"bg-indigo-100 text-indigo-800 border border-indigo-200",DELIVERED:"bg-emerald-100 text-emerald-800 border border-emerald-200",CANCELLED:"bg-rose-100 text-rose-800 border border-rose-200"})[e]||"bg-slate-100 text-slate-700 border border-slate-200",v$=e=>({PENDING:"bg-amber-100 text-amber-800 border border-amber-200",AUTHORIZED:"bg-sky-100 text-sky-800 border border-sky-200",PAID:"bg-emerald-100 text-emerald-800 border border-emerald-200",FAILED:"bg-rose-100 text-rose-800 border border-rose-200",REFUNDED:"bg-purple-100 text-purple-800 border border-purple-200",CANCELLED:"bg-slate-100 text-slate-600 border border-slate-200"})[e]||"bg-slate-100 text-slate-600 border border-slate-200",y$={primary:"inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold shadow-lg transition hover:bg-white/90",secondary:"inline-flex items-center gap-2 rounded-full bg-white/15 px-4 py-2 text-sm font-semibold text-white shadow-lg ring-1 ring-white/40 transition hover:bg-white/25",ghost:"inline-flex items-center gap-2 rounded-full border border-white/40 px-4 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/20"},Ud={COMPANY_ADMIN:{hero:{badge:"Live control tower",title:"Stay ahead of every shipment",subtitle:"Launch new consignments, monitor fleet performance, and tap Tara for quick recommendations without leaving this dashboard.",gradient:"from-blue-600 via-indigo-600 to-purple-600",actions:[{label:"Create shipment",to:"/calculate",icon:va,variant:"primary",className:"text-blue-700"},{label:"View all shipments",scrollTo:"shipments",icon:rr,variant:"secondary"}]},sections:{stats:!0,shipmentList:!0,finance:!0,billing:!0,actionCenter:!0,recentTable:!0,tara:!0,insights:!1}},FINANCE_APPROVER:{hero:{badge:"Finance desk",title:"Finance control room",subtitle:"Approve POD, unblock pending payouts, and post entries to ERP from a single view.",gradient:"from-emerald-600 via-emerald-700 to-teal-600",actions:[{label:"Review pending invoices",scrollTo:"finance",icon:EA,variant:"primary",className:"text-emerald-700"},{label:"Open finance workspace",navigateTo:"/finance",icon:jl,variant:"ghost"}]},sections:{stats:!1,shipmentList:!1,finance:!0,billing:!0,actionCenter:!1,recentTable:!1,tara:!0,insights:!1}},OPERATIONS:{hero:{badge:"Ops cockpit",title:"Keep assignments moving",subtitle:"Prioritize loads needing confirmation, trigger transporter follow-ups, and log POD from one place.",gradient:"from-amber-500 via-orange-500 to-rose-500",actions:[{label:"Create shipment",to:"/calculate",icon:va,variant:"primary",className:"text-amber-700"},{label:"Open action centre",scrollTo:"action",icon:or,variant:"secondary"}]},sections:{stats:!0,shipmentList:!0,finance:!1,billing:!1,actionCenter:!0,recentTable:!0,tara:!0,insights:!1}},TRANSPORTER:{hero:{badge:"Transporter tools",title:"Your assigned loads",subtitle:"Respond to allocations, upload POD, and manage driver details without switching tabs.",gradient:"from-slate-900 via-slate-800 to-gray-700",actions:[{label:"Open transporter inbox",navigateTo:"/transporter/inbox",icon:jl,variant:"primary"},{label:"View driver directory",navigateTo:"/transporter/drivers",icon:rr,variant:"ghost"}]},sections:{stats:!0,shipmentList:!0,finance:!1,billing:!1,actionCenter:!1,recentTable:!0,tara:!0,insights:!1}},USER:{hero:{badge:"Client workspace",title:"Track awarded shipments",subtitle:"Monitor delivery milestones, review transporter performance, and raise new quote requests.",gradient:"from-cyan-600 via-blue-600 to-indigo-600",actions:[{label:"Request new quotes",to:"/quotes",icon:va,variant:"primary",className:"text-cyan-700"},{label:"Track live shipments",scrollTo:"shipments",icon:rr,variant:"secondary"}]},sections:{stats:!0,shipmentList:!0,finance:!1,billing:!1,actionCenter:!1,recentTable:!0,tara:!0,insights:!0}},SUPER_ADMIN:{hero:{badge:"Platform notice",title:"Switch to platform view",subtitle:"Tenant dashboards are limited. Use the Super Admin workspace for cross-company analytics.",gradient:"from-slate-900 via-purple-900 to-black",actions:[{label:"Open Super Admin",navigateTo:"/super-admin/dashboard",icon:jl,variant:"primary"}]},sections:{stats:!1,shipmentList:!1,finance:!1,billing:!1,actionCenter:!1,recentTable:!1,tara:!1},notice:"Need to review tenant shipments? Impersonate from the Super Admin area to avoid mixing production data."}};Ud.DEFAULT=Ud.USER;const b$=()=>{const{api:e,user:t}=ke(),n=$a(),r=((t==null?void 0:t.role)||"USER").toUpperCase(),i=Ud[r]||Ud.DEFAULT,{hero:s,sections:l,notice:c}=i,d=Or(),f=A.useRef(null),p=A.useRef(null),h=A.useRef(null),[g,j]=A.useState([]),[x,v]=A.useState(!0),[N,y]=A.useState(""),[_,w]=A.useState(null),[P,S]=A.useState({}),E=A.useCallback($=>{var K,ee,le;if($.navigateTo){d($.navigateTo);return}if($.scrollTo==="shipments"){(K=f.current)==null||K.scrollIntoView({behavior:"smooth",block:"start"});return}if($.scrollTo==="finance"){(ee=p.current)==null||ee.scrollIntoView({behavior:"smooth",block:"start"});return}$.scrollTo==="action"&&((le=h.current)==null||le.scrollIntoView({behavior:"smooth",block:"start"}))},[d]),C=A.useCallback(async()=>{var $,K;try{v(!0);const le=(await e.get("/shipments")).data,de=Array.isArray(le)?le:(le==null?void 0:le.shipments)||[];j(de),y("")}catch(ee){y(((K=($=ee.response)==null?void 0:$.data)==null?void 0:K.error)||"Failed to fetch shipments.")}finally{v(!1)}},[e]);A.useEffect(()=>{C()},[C]);const T=A.useMemo(()=>{const $=g.filter(U=>U.status==="DELIVERED").length,K=g.filter(U=>U.status==="IN_TRANSIT").length,ee=g.filter(U=>U.status==="ASSIGNED").length,le=g.filter(U=>U.status==="ACCEPTED").length,de=["PENDING","REQUESTED","QUOTE_APPROVED","PENDING_QUOTE"],se=g.filter(U=>de.includes(U.status)).length;return{total:g.length,delivered:$,live:K+ee+le,attention:se}},[g]),I=A.useMemo(()=>[...g].sort((K,ee)=>{const le=K.updatedAt||K.createdAt||K.estimatedDelivery,de=ee.updatedAt||ee.createdAt||ee.estimatedDelivery;return new Date(de||0)-new Date(le||0)}).slice(0,6),[g]),M=A.useMemo(()=>{const $=["PENDING","REQUESTED","QUOTE_APPROVED","PENDING_QUOTE"];return g.filter(K=>$.includes(K.status)).slice(0,4)},[g]),R=A.useMemo(()=>Array.isArray(g)?g.map($=>{const K=$.invoice||null,ee=Array.isArray($.payments)?$.payments:[],le=ee[0]||null,de=$.paymentStatus||"PENDING",se=(K==null?void 0:K.grandTotal)??$.cost??0,U=(le==null?void 0:le.currency)||"INR",q=K==null?void 0:K.dueDate,Q=new Set(["PENDING","AUTHORIZED"]),H=K&&K.status==="ISSUED"&&!["PAID","REFUNDED","CANCELLED"].includes(de);return{shipment:$,invoice:K,payments:ee,latestPayment:le,paymentStatus:de,amount:se,currency:U,dueDate:q,canInitiatePayment:H,processing:Q.has(de)}}).filter($=>$.invoice||$.paymentStatus!=="PENDING"):[],[g]),F=A.useCallback(async $=>{var K,ee,le;w(null),S(de=>({...de,[$.id]:!0}));try{const de={shipmentId:$.id,amount:((K=$.invoice)==null?void 0:K.grandTotal)??$.cost??void 0,currency:"INR"},se=await n({request:U=>U.post("/payments",de),queue:{entityType:"PAYMENT",action:"CREATE_PAYMENT",payload:de}});w({tone:se.queued?"warning":"success",message:se.queued?"Offline: payment initiation queued and will sync automatically.":"Payment initiated successfully. We will notify you once it is confirmed."}),se.queued||await C()}catch(de){w({tone:"error",message:((le=(ee=de.response)==null?void 0:ee.data)==null?void 0:le.error)||de.message||"Failed to initiate payment."})}finally{S(de=>({...de,[$.id]:!1}))}},[C,n]),W=(s==null?void 0:s.gradient)||"from-blue-600 via-indigo-600 to-purple-600",z=(s==null?void 0:s.badge)||"Live control tower",V=(s==null?void 0:s.title)||"Stay ahead of every shipment",X=(s==null?void 0:s.subtitle)||"Launch new consignments, monitor fleet performance, and tap Tara for quick recommendations.",ne=(s==null?void 0:s.actions)||[],B=$=>{const K=$.icon,le=`${y$[$.variant||"secondary"]} ${$.className||""}`.trim();return $.to?a.jsxs(sr,{to:$.to,className:le,children:[K&&a.jsx(K,{className:"h-4 w-4"}),$.label]},$.label):a.jsxs("button",{type:"button",onClick:()=>E($),className:le,children:[K&&a.jsx(K,{className:"h-4 w-4"}),$.label]},$.label)},J=l.recentTable||l.billing||l.actionCenter||l.tara;return a.jsxs("div",{className:"space-y-6 pb-16",children:[N&&a.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:N}),a.jsxs("section",{className:`grid gap-6 ${l.stats?"lg:grid-cols-2":""}`,children:[a.jsxs("div",{className:`relative overflow-hidden rounded-3xl bg-gradient-to-r ${W} p-8 text-white shadow-xl`,children:[a.jsx("div",{className:"absolute inset-y-0 right-0 w-1/2 rotate-6 rounded-full bg-white/10 blur-3xl"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"inline-flex items-center rounded-full bg-white/15 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white/90 backdrop-blur",children:z}),a.jsx("h1",{className:"mt-4 text-3xl font-semibold",children:V}),a.jsx("p",{className:"mt-3 text-sm text-white/80",children:X}),ne.length>0&&a.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:ne.map(B)})]})]}),l.stats&&a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsx(Mu,{title:"Total shipments",value:T.total,icon:Ti,description:"All time"}),a.jsx(Mu,{title:"Delivered",value:T.delivered,icon:F5,iconColor:"text-emerald-500",description:"Completed consignments"}),a.jsx(Mu,{title:"Live",value:T.live,icon:rr,iconColor:"text-indigo-500",description:"In transit"}),a.jsx(Mu,{title:"Needs attention",value:T.attention,icon:or,iconColor:"text-amber-500",description:"Action items"})]})]}),l.insights&&a.jsx(m$,{}),c&&a.jsx("div",{className:"rounded-3xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:c}),x?a.jsx("div",{className:"flex h-64 items-center justify-center rounded-3xl border border-slate-200 bg-white",children:a.jsx(De,{className:"h-8 w-8 animate-spin text-blue-600"})}):a.jsxs("div",{className:"space-y-8",children:[l.shipmentList&&a.jsx("div",{ref:f,children:a.jsx(d$,{})}),l.finance&&a.jsx("div",{ref:p,children:a.jsx(VA,{})}),J&&a.jsxs("div",{className:"grid gap-6 xl:grid-cols-[2fr,1fr]",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[l.recentTable&&a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent shipments"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Latest updates"})]}),a.jsx("div",{className:"mt-4 overflow-hidden rounded-2xl border border-slate-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Shipment"}),a.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Route"}),a.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"ETA"}),a.jsx("th",{className:"px-6 py-3"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:I.length>0?I.map($=>a.jsxs("tr",{className:"group cursor-pointer transition hover:bg-slate-50",onClick:()=>d(`/shipments/${$.id}`),children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600",children:$.trackingNumber||"N/A"}),a.jsxs("p",{className:"text-xs text-slate-400",children:["Updated ",Lu($.updatedAt||$.createdAt)]})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"text-sm text-slate-900",children:$.fromLocation||"N/A"}),a.jsxs("p",{className:"text-xs text-slate-400",children:["to ",$.toLocation||"N/A"]}),$.notes&&a.jsx("p",{className:"mt-1 text-[11px] text-amber-600",children:$.notes})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${x$($.status)}`,children:um($.status)})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:Lu($.estimatedDelivery)}),a.jsx("td",{className:"px-6 py-4 text-right text-slate-400",children:a.jsx(jl,{className:"h-4 w-4"})})]},$.id)):a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",className:"px-6 py-12 text-center text-sm text-slate-500",children:[a.jsx(Ti,{className:"mx-auto h-12 w-12 text-slate-300"}),a.jsx("p",{className:"mt-2 font-semibold text-slate-600",children:"No shipments yet"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Kickstart operations by creating your first shipment."})]})})})]})})]}),l.billing&&a.jsxs(a.Fragment,{children:[_&&a.jsx("div",{className:`rounded-3xl border px-4 py-3 text-sm ${_.tone==="success"?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-rose-200 bg-rose-50 text-rose-800"}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsx("p",{children:_.message}),a.jsx("button",{type:"button",onClick:()=>w(null),className:"text-xs font-semibold uppercase tracking-wide",children:"Dismiss"})]})}),a.jsxs("div",{className:"rounded-3xl border border-emerald-200 bg-emerald-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-emerald-900",children:"Billing & payments"}),a.jsx("p",{className:"mt-1 text-xs text-emerald-700",children:"Track invoice status and settle dues instantly."})]}),a.jsx(EA,{className:"h-6 w-6 text-emerald-500"})]}),a.jsx("div",{className:"mt-4 space-y-3",children:R.length>0?R.map($=>a.jsxs("div",{className:"rounded-2xl border border-emerald-200 bg-white/90 px-4 py-4 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:$.shipment.trackingNumber||`Shipment #${$.shipment.id}`}),a.jsxs("p",{className:"text-xs text-slate-500",children:[$.shipment.fromLocation||"Origin"," ","->"," ",$.shipment.toLocation||"Destination"]}),$.dueDate&&a.jsxs("p",{className:"text-xs text-emerald-600",children:["Due ",Lu($.dueDate)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-700",children:g$($.amount,$.currency)}),$.invoice&&a.jsxs("p",{className:"text-xs text-slate-500",children:["Invoice #",$.invoice.invoiceNumber]})]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3",children:[a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${v$($.paymentStatus)}`,children:um($.paymentStatus||"PENDING")}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[$.latestPayment&&a.jsxs("span",{className:"text-[11px] text-slate-500",children:["Last update ",Lu($.latestPayment.createdAt)]}),$.canInitiatePayment?a.jsxs("button",{type:"button",onClick:()=>F($.shipment),disabled:P[$.shipment.id],className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-emerald-700 disabled:opacity-50",children:[P[$.shipment.id]?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(vI,{className:"h-4 w-4"}),"Pay now"]}):$.processing?a.jsxs("button",{type:"button",disabled:!0,className:"inline-flex items-center gap-2 rounded-full bg-amber-200 px-4 py-2 text-xs font-semibold text-amber-800",children:[a.jsx(De,{className:"h-4 w-4 animate-spin"}),"Processing"]}):a.jsx("button",{type:"button",onClick:()=>d(`/shipments/${$.shipment.id}`),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 px-4 py-2 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100",children:"View details"})]})]})]},$.shipment.id)):a.jsx("div",{className:"rounded-2xl border border-emerald-100 bg-white/70 px-4 py-6 text-center text-xs text-emerald-700",children:"All invoices are settled. New bills will appear here once generated."})})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-6",children:[l.actionCenter&&a.jsxs("div",{ref:h,className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Action centre"}),a.jsxs("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-700",children:[M.length," pending"]})]}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Shipments that need confirmation, assignment, or transporter follow-up."}),a.jsx("div",{className:"mt-4 space-y-3",children:M.length>0?M.map($=>a.jsxs("button",{type:"button",onClick:()=>d(`/shipments/${$.id}`),className:"w-full rounded-2xl border border-amber-100 bg-amber-50 px-4 py-3 text-left transition hover:border-amber-200 hover:bg-amber-100",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-900",children:$.trackingNumber||"Shipment"}),a.jsxs("p",{className:"text-xs text-amber-800",children:[$.fromLocation||"Origin"," ","->"," ",$.toLocation||"Destination"]}),a.jsx("span",{className:"mt-2 inline-flex items-center rounded-full bg-white/70 px-2.5 py-1 text-xs font-semibold text-amber-700",children:um($.status)})]},$.id)):a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center text-xs text-slate-500",children:"All shipments are on track. Tara will alert you if anything needs attention."})})]}),l.tara&&a.jsxs("div",{className:"rounded-3xl border border-blue-200 bg-blue-50 p-6 shadow-sm",children:[a.jsx("h3",{className:"text-base font-semibold text-blue-900",children:"Ask Tara for help"}),a.jsx("p",{className:"mt-2 text-xs text-blue-700",children:"Need a quick lane analysis or SLA reminder? Open the Tara assistant from the widget and keep the momentum going."}),a.jsxs("ul",{className:"mt-4 space-y-2 text-xs text-blue-800",children:[a.jsx("li",{children:"- Ask for a performance summary for the week."}),a.jsx("li",{children:"- Check which agreements are nearing expiry."}),a.jsx("li",{children:"- Draft a rate card for your next corridor."})]})]})]})]})]})]})},w$=e=>{var X;const{api:t,user:n}=ke(),[r,i]=A.useState(null),[s,l]=A.useState(!0),[c,d]=A.useState(""),[f,p]=A.useState(""),[h,g]=A.useState(""),[j,x]=A.useState(""),[v,N]=A.useState(null),[y,_]=A.useState(null),[w,P]=A.useState([]),[S,E]=A.useState([]),C=(n==null?void 0:n.role)==="ADMIN",T=((X=r==null?void 0:r.user)==null?void 0:X.id)===(n==null?void 0:n.id),I=C||T,M=A.useCallback(async()=>{var ne,B;try{l(!0);const J=await t.get(`/shipments/${e}`);i(J.data.shipment||J.data),d("")}catch(J){d(((B=(ne=J.response)==null?void 0:ne.data)==null?void 0:B.error)||"Failed to fetch shipment details.")}finally{l(!1)}},[t,e]);A.useEffect(()=>{e&&M()},[M,e]),A.useEffect(()=>{if(!r)return;(async()=>{var U,q,Q,H;const B=Number(r==null?void 0:r.fromLat),J=Number(r==null?void 0:r.fromLng),$=Number(r==null?void 0:r.toLat),K=Number(r==null?void 0:r.toLng),ee=r==null?void 0:r.driverLastKnownLat,le=r==null?void 0:r.driverLastKnownLng,de=typeof ee=="number"&&typeof le=="number"&&!Number.isNaN(ee)&&!Number.isNaN(le);if(Number.isNaN(B)||Number.isNaN(J)||Number.isNaN($)||Number.isNaN(K)){P([]),E([]);return}const se=[{label:"origin",position:[B,J]},{label:"destination",position:[$,K]}];de&&se.push({label:"driver",position:[ee,le]}),P(se);try{const ce=((H=(Q=(q=(U=(await ft.get(`https://router.project-osrm.org/route/v1/driving/${J},${B};${K},${$}`,{params:{overview:"full",geometries:"geojson"}})).data)==null?void 0:U.routes)==null?void 0:q[0])==null?void 0:Q.geometry)==null?void 0:H.coordinates)||[];E(ce.map(([Z,_e])=>[_e,Z]))}catch(oe){console.warn("Unable to fetch shipment route",oe),E([])}})()},[r]);const R=async ne=>{var B,J,$;if(ne){if(!I){g("You can only download documents for shipments linked to your account.");return}try{N(ne.id),g("");const K=await t.get(`/compliance/documents/${ne.id}/download`,{responseType:"blob"}),ee=new Blob([K.data],{type:"application/json"}),le=window.URL.createObjectURL(ee),de=document.createElement("a");de.href=le,de.setAttribute("download",`${((B=ne.type)==null?void 0:B.toLowerCase())||"document"}-${ne.id}.json`),document.body.appendChild(de),de.click(),de.remove(),window.URL.revokeObjectURL(le)}catch(K){g((($=(J=K.response)==null?void 0:J.data)==null?void 0:$.error)||"Failed to download document.")}finally{N(null)}}},F=async ne=>{var B,J;if(ne)try{_(ne.id),g(""),await t.post(`/compliance/documents/${ne.id}/approve`),x("KYC document approved."),await M()}catch($){g(((J=(B=$.response)==null?void 0:B.data)==null?void 0:J.error)||"Failed to approve document.")}finally{_(null)}},W=async ne=>{var $,K;if(!r||!C)return;const J={gst:()=>t.post("/compliance/gst",{shipmentId:r.id}),rcm:()=>t.post("/compliance/rcm",{shipmentId:r.id}),eway:()=>t.post("/compliance/eway/create",{shipmentId:r.id})}[ne];if(J)try{p(ne),g("");const ee=await J();(ee==null?void 0:ee.status)===204?x("RCM self-invoice not required for this shipment."):x("Compliance document generated successfully."),await M()}catch(ee){g(((K=($=ee.response)==null?void 0:$.data)==null?void 0:K.error)||"Failed to process compliance request.")}finally{p("")}},z=()=>{x(""),g("")},V=A.useMemo(()=>typeof(r==null?void 0:r.driverLastKnownLat)=="number"&&typeof(r==null?void 0:r.driverLastKnownLng)=="number"?[r.driverLastKnownLat,r.driverLastKnownLng]:null,[r==null?void 0:r.driverLastKnownLat,r==null?void 0:r.driverLastKnownLng]);return{shipment:r,loading:s,error:c,mapMarkers:w,mapPolyline:S,driverPosition:V,user:n,isAdmin:C,complianceAction:f,complianceError:h,complianceSuccess:j,downloadingDocId:v,approvingDocId:y,downloadDocument:R,approveDocument:F,runComplianceAction:W,clearMessages:z,refresh:M}},ba=e=>String(e||"").replace(/_/g," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),aa=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",_$=e=>({PENDING:"bg-yellow-100 text-yellow-800 border-yellow-200",ASSIGNED:"bg-blue-100 text-blue-800 border-blue-200",PICKED_UP:"bg-purple-100 text-purple-800 border-purple-200",IN_TRANSIT:"bg-indigo-100 text-indigo-800 border-indigo-200",DELIVERED:"bg-green-100 text-green-800 border-green-200",CANCELLED:"bg-red-100 text-red-800 border-red-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200",j$=e=>({PENDING:"bg-amber-100 text-amber-800 border-amber-200",SUBMITTED:"bg-sky-100 text-sky-800 border-sky-200",APPROVED:"bg-emerald-100 text-emerald-800 border-emerald-200",REJECTED:"bg-rose-100 text-rose-800 border-rose-200",EXEMPT:"bg-purple-100 text-purple-800 border-purple-200"})[e]||"bg-slate-100 text-slate-600 border-slate-200",N$=({shipment:e,navigate:t,bookingReference:n})=>a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:()=>t("/dashboard"),className:"mb-6 inline-flex items-center gap-2 text-gray-600 transition hover:text-gray-900",children:[a.jsx(Rs,{className:"h-4 w-4"}),"Back to dashboard"]}),a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Shipment #",e.trackingNumber||e.id]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",aa(e.createdAt)]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["CRN: ",n]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("span",{className:`inline-flex items-center rounded-full border px-4 py-1 text-sm font-semibold ${_$(e.status)}`,children:ba(e.status)}),a.jsxs("span",{className:`inline-flex items-center rounded-full border px-4 py-1 text-xs font-semibold ${j$(e.complianceStatus)}`,children:["Compliance: ",ba(e.complianceStatus)]})]})]})]}),S$=({shipment:e,handleShareBooking:t,driverPosition:n})=>{var f,p;const r=A.useMemo(()=>[{label:"Route",value:`${(e==null?void 0:e.fromLocation)||"N/A"} -> ${(e==null?void 0:e.toLocation)||"N/A"}`,icon:Qr},{label:"Weight",value:typeof(e==null?void 0:e.weight)=="number"?`${e.weight} kg`:"N/A",icon:Ti},{label:"Urgency",value:ba(e==null?void 0:e.urgency),icon:Pr},{label:"Shipment type",value:ba(e==null?void 0:e.shipmentType),icon:rr},{label:"Estimated delivery",value:aa(e==null?void 0:e.estimatedDelivery),icon:$s},{label:"Cost",value:typeof(e==null?void 0:e.cost)=="number"?`INR ${e.cost.toLocaleString("en-IN")}`:"N/A",icon:OA}],[e]),i=(e==null?void 0:e.trackingNumber)||`SHP-${e==null?void 0:e.id}`,s=!!(e!=null&&e.assignedDriver)&&!!(e!=null&&e.driverPhone)&&!!(e!=null&&e.vehicleRegistration),l=e!=null&&e.driverLocationUpdatedAt?aa(e.driverLocationUpdatedAt):null,c=e!=null&&e.driverEta?aa(e.driverEta):aa(e==null?void 0:e.estimatedDelivery),d=n?`${n[0].toFixed(3)}, ${n[1].toFixed(3)}`:null;return a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-800",children:"Shipment summary"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:r.map(({label:h,value:g,icon:j})=>a.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-slate-100 px-4 py-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-50 text-blue-600",children:a.jsx(j,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:h}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:g})]})]},h))})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-800",children:"Operational details"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-slate-100 px-4 py-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-50 text-purple-600",children:a.jsx(ya,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Pickup time"}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:aa(e.pickupTime)})]})]}),a.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-slate-100 px-4 py-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-teal-50 text-teal-600",children:a.jsx(Ta,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Insurance"}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:e.insuranceStatus?ba(e.insuranceStatus):"Not provided"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-slate-100 px-4 py-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-50 text-orange-600",children:a.jsx(Nl,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Contact"}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:e.contactName||"N/A"}),a.jsx("p",{className:"text-xs text-slate-500",children:e.contactPhone||"N/A"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-slate-100 px-4 py-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-rose-50 text-rose-600",children:a.jsx(rr,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Carrier"}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:((f=e.vendor)==null?void 0:f.name)||e.vendorName||"Unassigned"}),a.jsx("p",{className:"text-xs text-slate-500",children:((p=e.vendor)==null?void 0:p.phone)||e.vendorPhone||""})]})]}),a.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-slate-100 px-4 py-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-sky-50 text-sky-600",children:a.jsx(_v,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Driver"}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:e.assignedDriver||"Awaiting assignment"}),a.jsx("p",{className:"text-xs text-slate-500",children:e.driverPhone||""})]})]})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-20 w-20 overflow-hidden rounded-2xl bg-slate-100 shadow-inner",children:e.driverPhotoUrl?a.jsx("img",{src:e.driverPhotoUrl,alt:e.assignedDriver||"Driver photo",className:"h-full w-full object-cover"}):a.jsx("div",{className:"flex h-full w-full items-center justify-center text-lg font-semibold text-slate-500",children:(e.assignedDriver||"Driver").charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Driver"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:e.assignedDriver||"Awaiting assignment"}),a.jsx("p",{className:"text-sm text-slate-500",children:e.driverPhone||"Transporter will share contact soon."})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-700 transition hover:border-blue-500 hover:text-blue-600",children:[a.jsx(kA,{className:"h-4 w-4"}),"Share booking"]}),e.driverPhone?a.jsxs("a",{href:`tel:${e.driverPhone}`,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-emerald-700",children:[a.jsx(Nl,{className:"h-4 w-4"}),"Call driver"]}):a.jsxs("button",{type:"button",disabled:!0,className:"inline-flex items-center gap-2 rounded-full bg-slate-200 px-4 py-2 text-xs font-semibold text-slate-500",children:[a.jsx(Nl,{className:"h-4 w-4"}),"Call driver"]})]})]}),s?a.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Booking reference"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:i}),a.jsx("p",{className:"text-xs text-slate-500",children:"Share this CRN with operations & security."})]}),a.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Vehicle"}),a.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[e.vehicleType||"N/A"," ",e.vehicleModel?` ${e.vehicleModel}`:""]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Registration: ",e.vehicleRegistration||"Pending"]})]}),a.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Driver ETA"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:c||"N/A"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Updated whenever the transporter shares a live ping."})]}),a.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Last known position"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:d||"Awaiting GPS ping"}),a.jsx("p",{className:"text-xs text-slate-500",children:l?`Updated ${l}`:"No live update yet."})]})]}):a.jsx("div",{className:"mt-6 rounded-xl border border-dashed border-slate-300 bg-slate-50 px-4 py-6 text-sm text-slate-600",children:"The transporter is preparing driver and vehicle details. You will see the call and tracking controls once the assignment is published."})]})]})},P$=({shipment:e,outstandingActions:t,handleDownloadDocument:n,handleApproveDocument:r,handleComplianceAction:i,isAdmin:s,complianceAction:l,downloadingDocId:c,approvingDocId:d})=>{const f=A.useMemo(()=>(e==null?void 0:e.complianceDocs)??[],[e==null?void 0:e.complianceDocs]);return a.jsxs("div",{className:"space-y-6",children:[t.length>0&&a.jsxs("section",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-amber-800",children:"Outstanding actions"}),a.jsx("ul",{className:"mt-3 list-disc space-y-2 pl-5 text-sm text-amber-800",children:t.map(p=>a.jsx("li",{children:p},p))})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Compliance overview"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Track statutory documents linked to this shipment."})]}),s&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>i("gst"),disabled:l==="gst",className:"rounded-lg bg-blue-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:bg-blue-300",children:[l==="gst"?a.jsx(De,{className:"mr-1 inline h-3 w-3 animate-spin"}):null,"Generate GST"]}),a.jsxs("button",{type:"button",onClick:()=>i("rcm"),disabled:l==="rcm",className:"rounded-lg bg-purple-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-purple-700 disabled:cursor-not-allowed disabled:bg-purple-300",children:[l==="rcm"?a.jsx(De,{className:"mr-1 inline h-3 w-3 animate-spin"}):null,"Generate RCM"]}),a.jsxs("button",{type:"button",onClick:()=>i("eway"),disabled:l==="eway",className:"rounded-lg bg-teal-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-teal-700 disabled:cursor-not-allowed disabled:bg-teal-300",children:[l==="eway"?a.jsx(De,{className:"mr-1 inline h-3 w-3 animate-spin"}):null,"Generate E-way"]})]})]}),a.jsxs("div",{className:"mt-6 overflow-hidden rounded-xl border border-slate-200",children:[a.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-100 bg-slate-50 px-4 py-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[a.jsx("div",{className:"col-span-4",children:"Document Type"}),a.jsx("div",{className:"col-span-3",children:"Status"}),a.jsx("div",{className:"col-span-3",children:"Issued Date"}),a.jsx("div",{className:"col-span-2 text-right",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:f.length===0?a.jsxs("div",{className:"px-4 py-8 text-center text-sm text-slate-500",children:[a.jsx(jv,{className:"mx-auto mb-2 h-8 w-8 text-slate-300"}),"No compliance documents generated yet."]}):f.map(p=>a.jsxs("div",{className:"grid grid-cols-12 items-center px-4 py-3 text-sm transition hover:bg-slate-50",children:[a.jsx("div",{className:"col-span-4 font-medium text-slate-900",children:ba(p.type)}),a.jsx("div",{className:"col-span-3",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${p.status==="APPROVED"?"bg-emerald-100 text-emerald-800":p.status==="REJECTED"?"bg-rose-100 text-rose-800":"bg-amber-100 text-amber-800"}`,children:ba(p.status)})}),a.jsx("div",{className:"col-span-3 text-slate-500",children:aa(p.issuedAt||p.createdAt)}),a.jsxs("div",{className:"col-span-2 flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>n(p),disabled:c===p.id,className:"text-slate-400 transition hover:text-blue-600 disabled:opacity-50",title:"Download",children:c===p.id?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(Ds,{className:"h-4 w-4"})}),s&&p.status==="SUBMITTED"&&a.jsx("button",{type:"button",onClick:()=>r(p),disabled:d===p.id,className:"text-slate-400 transition hover:text-emerald-600 disabled:opacity-50",title:"Approve",children:d===p.id?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(_v,{className:"h-4 w-4"})})]})]},p.id))})]})]})]})},A$=()=>{const{id:e}=AL(),t=Or(),[n,r]=A.useState("overview"),{shipment:i,loading:s,error:l,mapMarkers:c,mapPolyline:d,driverPosition:f,isAdmin:p,complianceAction:h,complianceSuccess:g,complianceError:j,downloadingDocId:x,approvingDocId:v,downloadDocument:N,approveDocument:y,runComplianceAction:_}=w$(e),w=async()=>{var R;if(!i)return;const I=[`Booking ${i.trackingNumber||`SHP-${e}`}`,`Route: ${i.fromLocation||"N/A"} -> ${i.toLocation||"N/A"}`];i.assignedDriver&&I.push(`Driver: ${i.assignedDriver}${i.driverPhone?` (${i.driverPhone})`:""}`);const M=I.join(`
`);try{typeof navigator<"u"&&typeof navigator.share=="function"?await navigator.share({title:`Shipment ${i.trackingNumber}`,text:M}):typeof navigator<"u"&&((R=navigator.clipboard)!=null&&R.writeText)&&(await navigator.clipboard.writeText(M),alert("Booking details copied to clipboard."))}catch(F){console.error("Share failed",F)}},P=A.useMemo(()=>(i==null?void 0:i.complianceDocs)??[],[i==null?void 0:i.complianceDocs]),S=A.useMemo(()=>{const I={};return P.forEach(M=>{I[M.type]||(I[M.type]=M)}),I},[P]),E=A.useMemo(()=>{const I=[],M=S.DRIVER_KYC,R=S.VEHICLE_KYC,F=S.SELF_INVOICE_RCM,W=S.EWAY_BILL;return(!M||M.status!=="APPROVED")&&I.push("Driver KYC must be approved before pickup."),(!R||R.status!=="APPROVED")&&I.push("Vehicle KYC must be approved before pickup."),(!F||F.status==="REJECTED")&&I.push("Generate and review RCM self-invoice."),(!W||W.status==="REJECTED")&&I.push("Generate an active e-way bill for this shipment."),I},[S]);if(s)return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(De,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-blue-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading shipment details..."})]})});if(l)return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pr,{className:"mx-auto mb-4 h-16 w-16 text-red-600"}),a.jsx("h2",{className:"mb-2 text-2xl font-bold text-gray-900",children:"Error"}),a.jsx("p",{className:"mb-6 text-gray-600",children:l}),a.jsx("button",{type:"button",onClick:()=>t("/dashboard"),className:"rounded-lg bg-blue-600 px-6 py-3 text-white transition hover:bg-blue-700",children:"Back to dashboard"})]})});if(!i)return null;const C=[{key:"overview",label:"Overview"},{key:"compliance",label:"Compliance"}],T=i.trackingNumber||`SHP-${e}`;return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[a.jsx(N$,{shipment:i,navigate:t,bookingReference:T}),g&&a.jsx("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:g}),j&&a.jsx("div",{className:"mb-4 rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:j}),a.jsx("div",{className:"mb-8 inline-flex flex-wrap gap-2 rounded-full border border-slate-200 bg-white p-1",children:C.map(I=>{const M=n===I.key;return a.jsx("button",{type:"button",onClick:()=>r(I.key),className:`rounded-full px-4 py-2 text-sm font-medium transition ${M?"bg-blue-600 text-white shadow":"text-slate-600 hover:bg-slate-100"}`,children:I.label},I.key)})}),n==="overview"&&a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsx(S$,{shipment:i,handleShareBooking:w,driverPosition:f}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-800",children:"Live route"}),a.jsx(WA,{markers:c,polyline:d,driverPosition:f}),a.jsxs("div",{className:"mt-4 space-y-2 text-sm text-slate-500",children:[a.jsxs("p",{children:["E-way bill: ",i.ewayBillNumber||"Not generated"]}),a.jsxs("p",{children:["GST document ID: ",i.gstInvoiceId||"Pending"]})]})]})]}),n==="compliance"&&a.jsx(P$,{shipment:i,outstandingActions:E,handleDownloadDocument:N,handleApproveDocument:y,handleComplianceAction:_,isAdmin:p,complianceAction:h,downloadingDocId:x,approvingDocId:v})]})})},E$=e=>{if(!e)return"";try{return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}},O$=()=>{const{entries:e,errorEntries:t,pendingCount:n,errorCount:r,loading:i,error:s,refreshQueue:l,lastUpdated:c,isOffline:d}=SA()||{},{api:f}=ke(),[p,h]=A.useState(!1),[g,j]=A.useState(null),[x,v]=A.useState("");if(!n&&!r&&!d&&!s)return a.jsxs("div",{className:"hidden rounded-2xl border border-emerald-100 bg-emerald-50 px-4 py-2 text-xs font-semibold text-emerald-700 sm:flex sm:items-center sm:gap-2",children:[a.jsx(Sl,{className:"h-4 w-4"}),"Synced"]});const N=async(w,P)=>{var S,E;try{j(w),v(""),await f.patch(`/sync/queue/${w}`,P),await l()}catch(C){v(((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.error)||C.message||"Failed to update sync entry.")}finally{j(null)}},y=w=>N(w.id,{status:"PENDING",errorMessage:null}),_=(w,P="Manually discarded via desktop shell")=>N(w.id,{status:"ERROR",errorMessage:P});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm shadow-sm sm:min-w-[240px]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Sync status"}),a.jsxs("button",{type:"button",onClick:l,disabled:i,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:[a.jsx(Nv,{className:"h-3.5 w-3.5"}),"Refresh"]})]}),a.jsx("div",{className:"mt-1 flex items-center gap-1 text-xs",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Gg,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"text-amber-600",children:"Offline  queue paused"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sl,{className:"h-4 w-4 text-emerald-600"}),a.jsx("span",{className:"text-emerald-600",children:"Online"})]})}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Pending jobs: ",n]}),r>0&&a.jsxs("div",{className:"mt-1 inline-flex items-center gap-1 rounded-full bg-rose-50 px-2 py-1 text-[11px] font-semibold text-rose-700",children:[a.jsx(or,{className:"h-3.5 w-3.5"}),r," failed"]}),s&&a.jsx("div",{className:"mt-2 rounded-lg bg-rose-50 px-2 py-1 text-xs text-rose-700",children:s}),(n>0||r>0)&&a.jsx("button",{type:"button",onClick:()=>h(!0),className:"mt-2 text-xs font-semibold text-blue-600 hover:underline",children:"View queue details"}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-400",children:["Updated ",E$(c)]})]}),p&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50 px-4 pb-6 sm:items-center",children:a.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white p-4 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Sync queue details"}),a.jsxs("p",{className:"text-xs text-slate-500",children:[n," pending  ",r," failed"]})]}),a.jsx("button",{type:"button",onClick:()=>h(!1),className:"rounded-full border border-slate-200 p-2 text-slate-500 hover:text-slate-900",children:a.jsx(Fs,{className:"h-4 w-4"})})]}),x&&a.jsx("div",{className:"mt-3 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:x}),a.jsxs("div",{className:"mt-3 max-h-[320px] space-y-3 overflow-y-auto",children:[e.length===0&&t.length===0&&a.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Queue is empty."}),e.map(w=>a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:w.action}),a.jsx("p",{className:"text-[11px] text-slate-500",children:w.entityType})]}),a.jsx("span",{className:"rounded-full bg-blue-50 px-2 py-1 text-[10px] font-semibold uppercase text-blue-600",children:"Pending"})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-500",children:["Created ",new Date(w.createdAt).toLocaleString(),"  Attempts ",w.attempts]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.jsxs("button",{type:"button",disabled:g===w.id,onClick:()=>_(w),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500 hover:border-rose-300 hover:text-rose-600 disabled:opacity-50",children:[a.jsx(Jl,{className:"h-3.5 w-3.5"}),"Discard"]})})]},`pending-${w.id}`)),t.map(w=>a.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-3 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-rose-900",children:w.action}),a.jsx("p",{className:"text-[11px] text-rose-600",children:w.entityType})]}),a.jsx("span",{className:"rounded-full bg-rose-100 px-2 py-1 text-[10px] font-semibold uppercase text-rose-700",children:"Failed"})]}),a.jsx("p",{className:"mt-1 text-[11px] text-rose-700",children:w.errorMessage||"Worker reported an error."}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsxs("button",{type:"button",disabled:g===w.id,onClick:()=>y(w),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-white px-2 py-1 text-[11px] font-semibold text-emerald-600 hover:border-emerald-400 disabled:opacity-50",children:[a.jsx(TA,{className:"h-3.5 w-3.5"}),"Retry"]}),a.jsxs("button",{type:"button",disabled:g===w.id,onClick:()=>_(w,"Manually dismissed"),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500 hover:border-slate-400 disabled:opacity-50",children:[a.jsx(Jl,{className:"h-3.5 w-3.5"}),"Dismiss"]})]})]},`error-${w.id}`))]})]})})]})},C$="http://localhost:5000".replace(/\/$/,""),T$=15e3,k$=({online:e,backendReachable:t})=>t&&e?"online":t&&!e?"lan":!t&&e?"degraded":"offline",M$=()=>{const[e,t]=A.useState({online:navigator.onLine,backendReachable:!1,lastChecked:null}),n=A.useRef();return A.useEffect(()=>{const r=()=>{t(i=>({...i,online:navigator.onLine}))};return window.addEventListener("online",r),window.addEventListener("offline",r),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),A.useEffect(()=>{const r=async()=>{try{const s=new AbortController;n.current=s;const c=(await fetch(`${C$}/health`,{signal:s.signal,cache:"no-store"})).ok;t(d=>({...d,backendReachable:c,lastChecked:new Date}))}catch{t(l=>({...l,backendReachable:!1,lastChecked:new Date}))}};r();const i=setInterval(r,T$);return()=>{clearInterval(i),n.current&&n.current.abort()}},[]),A.useMemo(()=>({status:k$(e),lastChecked:e.lastChecked,online:e.online,backendReachable:e.backendReachable}),[e])},j1={online:{label:"Online",description:"Internet + LAN available",className:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Sl},lan:{label:"LAN Mode",description:"Host reachable over Wi-Fi",className:"bg-amber-100 text-amber-700 border-amber-200",icon:Sl},degraded:{label:"Degraded",description:"Internet ok, backend unreachable",className:"bg-rose-50 text-rose-700 border-rose-200",icon:Gg},offline:{label:"Offline",description:"No internet/LAN detected",className:"bg-slate-100 text-slate-600 border-slate-200",icon:Gg},default:{label:"Checking",description:"Probing connectivity",className:"bg-slate-100 text-slate-600 border-slate-200",icon:Sl}},L$=()=>{const{status:e,lastChecked:t}=M$(),n=j1[e]||j1.default,r=n.icon;return a.jsxs("div",{className:`flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-medium transition ${n.className}`,title:`${n.description}${t?`  Last checked ${t.toLocaleTimeString()}`:""}`,children:[a.jsx(r,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:n.label})]})},N1={info:"bg-blue-600 text-white",success:"bg-emerald-600 text-white",warning:"bg-amber-500 text-white",error:"bg-red-600 text-white"},ki=({message:e,tone:t="info",onClose:n})=>(A.useEffect(()=>{if(!e)return;const r=setTimeout(()=>{n&&n()},4e3);return()=>clearTimeout(r)},[e,n]),e?a.jsxs("div",{className:Ie("fixed top-5 right-5 z-50 flex items-start gap-3 rounded-2xl px-4 py-3 shadow-2xl transition transform-gpu",N1[t]??N1.info),role:"alert",children:[a.jsx("span",{className:"text-sm leading-5",children:e}),n&&a.jsx("button",{type:"button",onClick:n,className:"ml-auto text-lg leading-none opacity-70 transition hover:opacity-100","aria-label":"Close notification",children:""})]}):null),kv=({label:e="Loading",className:t})=>a.jsxs("div",{className:Ie("flex flex-col items-center justify-center gap-3 py-12",t),children:[a.jsxs("svg",{className:"h-8 w-8 animate-spin text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e&&a.jsx("span",{className:"text-sm font-medium text-slate-600",children:e})]}),I$="Hi! I'm Tara, on deck for freight. Ask me to analyse shipments, compliance queues, or rate cards - I'll respond with live data and insights.",dm=[{id:"operations",label:"Operations Pulse",roles:["SUPER_ADMIN","ADMIN","COMPANY_ADMIN","OPERATIONS","AGENT","USER","FINANCE_APPROVER"],questions:["What shipments are awaiting pickup today?","Which shipments are delayed beyond SLA?","List high priority shipments requiring action now.","How many shipments were delivered in the last 24 hours?","What is the average door-to-door cycle time this week?","Any shipments missing driver allocation?"]},{id:"compliance",label:"Compliance & Documentation",roles:["SUPER_ADMIN","ADMIN","COMPANY_ADMIN","OPERATIONS","FINANCE_APPROVER"],questions:["Which shipments have pending compliance review?","How many GST invoices are outstanding?","Any permits or documents expiring this week?","Which transporters need RC or insurance updates?","What compliance tasks require admin follow-up today?","Share compliance health score for this week."]},{id:"finance",label:"Finance & Billing",roles:["SUPER_ADMIN","ADMIN","COMPANY_ADMIN","FINANCE_APPROVER"],questions:["What invoices await customer approval?","Summarise payments collected this week.","Highlight shipments with cash flow risk.","Any PODs pending for billing release?","What is the outstanding receivables aging?","Share fuel surcharge variance for the week."]},{id:"transporters",label:"Transporter Performance",roles:["SUPER_ADMIN","ADMIN","COMPANY_ADMIN","TRANSPORTER"],questions:["Which transporters have best on-time performance?","List transporters needing capacity reminders.","Who is idle for more than five days?","What driver safety issues were logged this month?","How many vehicles are due for maintenance?","Share transporter engagement summary."]}],R$=/```json([\s\S]*?)```/gi,$$={PENDING:"bg-amber-100 text-amber-800 border border-amber-200",PENDING_QUOTE:"bg-purple-100 text-purple-800 border border-purple-200",QUOTE_SUBMITTED:"bg-sky-100 text-sky-800 border border-sky-200",RESPONDED:"bg-sky-100 text-sky-800 border border-sky-200",APPROVED:"bg-emerald-100 text-emerald-800 border border-emerald-200",CLOSED:"bg-slate-100 text-slate-600 border border-slate-200",ASSIGNED:"bg-blue-100 text-blue-800 border border-blue-200",IN_TRANSIT:"bg-indigo-100 text-indigo-800 border border-indigo-200",DELIVERED:"bg-emerald-100 text-emerald-800 border border-emerald-200",REJECTED:"bg-rose-100 text-rose-800 border border-rose-200",SUBMITTED:"bg-blue-100 text-blue-800 border border-blue-200",FAILED:"bg-rose-100 text-rose-800 border border-rose-200",OVERDUE:"bg-rose-100 text-rose-800 border border-rose-200"},D$=e=>$$[String(e||"").toUpperCase()]||"",B$=e=>{if(!e)return{text:"",tables:[],alerts:[]};const t=[],n=[];return{text:e.replace(R$,(i,s)=>{try{const l=JSON.parse(s.trim());(Array.isArray(l)?l:[l]).forEach(d=>{!d||typeof d!="object"||(d.type==="table"?t.push(d):d.type==="alert"&&n.push(d))})}catch(l){console.warn("Tara JSON block parse error",l)}return""}).trim(),tables:t,alerts:n}},F$=e=>{const t=Array.isArray(e.rows)?e.rows:[],n=Array.isArray(e.headers)&&e.headers.length?e.headers:Array.from(t.reduce((r,i)=>(Object.keys(i||{}).forEach(s=>r.add(s)),r),new Set));return{title:e.title||e.name||"Data",headers:n,rows:t}},z$=({layout:e="sidebar",onClose:t})=>{var $,K,ee,le,de;const{api:n,user:r}=ke(),i=((r==null?void 0:r.role)||"USER").toUpperCase(),s=A.useMemo(()=>dm.filter(se=>!se.roles||!se.roles.length||i==="SUPER_ADMIN"?!0:se.roles.includes(i)),[i]),l=(($=s[0])==null?void 0:$.id)??((K=dm[0])==null?void 0:K.id)??"",[c,d]=A.useState([{role:"assistant",content:I$}]),[f,p]=A.useState(""),[h,g]=A.useState(!1),[j,x]=A.useState({message:"",tone:"info"}),[v,N]=A.useState(null),[y,_]=A.useState(null),[w,P]=A.useState(""),[S,E]=A.useState(!0),[C,T]=A.useState(l),I=A.useRef(!1),M=A.useMemo(()=>s.find(se=>se.id===C)||s[0]||dm[0],[s,C]);A.useEffect(()=>{if(!s.length)return;s.some(U=>U.id===C)||T(s[0].id)},[s,C]);const R=A.useMemo(()=>h||f.trim().length===0,[f,h]),F=()=>x({message:"",tone:"info"}),W=A.useCallback((se,{refresh:U}={})=>{d(q=>{const Q={role:"assistant",...se};if(U){const H=[...q],oe=[...H].reverse().findIndex(ce=>ce.role==="assistant");if(oe!==-1){const ce=H.length-1-oe;return H[ce]=Q,H}}return[...q,Q]})},[]),z=A.useCallback(async(se,{echoUser:U=!0,refresh:q=!1}={})=>{var H,oe,ce,Z,_e,je,$e;const Q=se.trim();if(!(!Q||I.current)){U&&d(Pe=>[...Pe,{role:"user",content:Q}]),I.current=!0,g(!0);try{const Pe=await n.post("/assistant/query",{query:Q}),Xe=((H=Pe.data)==null?void 0:H.text)||((oe=Pe.data)==null?void 0:oe.answer)||"",lt=((ce=Pe.data)==null?void 0:ce.data)||null,xt=B$(Xe);W({content:xt.text||Xe||"Tara could not find anything new right now.",tables:xt.tables.map(F$),alerts:xt.alerts,timestamp:new Date().toISOString()},{refresh:q}),N((lt==null?void 0:lt.highlights)||null),_(lt),P(Q)}catch(Pe){console.error("Assistant error:",Pe),W({content:((_e=(Z=Pe.response)==null?void 0:Z.data)==null?void 0:_e.error)||"Tara couldn't reach the AI co-pilot right now. Please try again shortly."},{refresh:q}),x({message:(($e=(je=Pe.response)==null?void 0:je.data)==null?void 0:$e.error)||"Tara could not process that request.",tone:"error"})}finally{I.current=!1,g(!1)}}},[n,W]);A.useEffect(()=>{if(!S||!w)return;const se=setInterval(()=>{z(w,{echoUser:!1,refresh:!0})},3e4);return()=>clearInterval(se)},[S,w,z]);const V=async se=>{se.preventDefault();const U=f.trim();U&&(p(""),await z(U))},X=se=>{T(se.target.value)},ne=async se=>{!se||h||await z(se)},B=()=>E(se=>!se),J=A.useMemo(()=>{if(!v)return[];const se=[];return typeof v.celebrations=="number"&&se.push({id:"celebrations",label:"Celebrations",value:v.celebrations,icon:WI,tone:v.celebrations>0?"success":"neutral",helper:v.celebrations>0?"Delivered shipments worth celebrating.":"No fresh wins yet - keep the fleet moving."}),typeof v.complianceFollowUps=="number"&&se.push({id:"compliance-follow-ups",label:"Compliance follow-ups",value:v.complianceFollowUps,icon:or,tone:v.complianceFollowUps>0?"warning":"neutral",helper:v.complianceFollowUps>0?"Review pending compliance actions.":"Compliance queue is clear for now."}),typeof v.pendingQuotes=="number"&&se.push({id:"pending-quotes",label:"Pending quotations",value:v.pendingQuotes,icon:Nv,tone:v.pendingQuotes>0?"warning":"neutral",helper:v.pendingQuotes>0?"Review pending quote approvals.":"All recent quotes have been addressed."}),Array.isArray(v.transporterAlerts)&&v.transporterAlerts.length&&se.push({id:"transporter-alerts",label:"Transporter alerts",value:v.transporterAlerts.length,icon:or,tone:"warning",helper:v.transporterAlerts[0]}),se},[v]);return a.jsxs("div",{className:`flex h-full w-full flex-col gap-4 ${e==="sidebar"?"mx-auto max-w-5xl":""}`,children:[J.length>0&&a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:J.map(({id:se,label:U,value:q,icon:Q,tone:H,helper:oe})=>a.jsxs("div",{className:`rounded-3xl border px-4 py-4 shadow-sm ${H==="warning"?"border-amber-200 bg-amber-50":H==="success"?"border-emerald-200 bg-emerald-50":"border-slate-200 bg-white"}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:U}),a.jsx("p",{className:"mt-1 text-2xl font-semibold text-slate-900",children:q})]}),a.jsx(Q,{className:"h-5 w-5 text-slate-400"})]}),a.jsx("p",{className:"mt-2 text-xs text-slate-600",children:oe})]},se))}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",children:[a.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-5",children:[c.map((se,U)=>a.jsx("div",{className:`flex ${se.role==="assistant"?"justify-start":"justify-end"}`,children:a.jsxs("div",{className:`max-w-full rounded-2xl px-4 py-3 text-sm shadow ${se.role==="assistant"?"bg-slate-50 text-slate-800":"bg-blue-600 text-white"}`,children:[a.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:se.content}),Array.isArray(se.tables)&&se.tables.map((q,Q)=>a.jsxs("div",{className:"mt-3 overflow-hidden rounded-2xl border border-slate-200 bg-white text-slate-900 shadow-sm",children:[a.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:q.title}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-xs",children:[a.jsx("thead",{className:"bg-slate-100 text-slate-600",children:a.jsx("tr",{children:q.headers.map(H=>a.jsx("th",{className:"px-3 py-2 text-left font-semibold uppercase tracking-wide",children:H},H))})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:q.rows.map((H,oe)=>a.jsx("tr",{className:"hover:bg-slate-50",children:q.headers.map(ce=>{const Z=H==null?void 0:H[ce],_e=D$(Z);return a.jsx("td",{className:"px-3 py-2",children:_e?a.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-[11px] font-semibold ${_e}`,children:Z}):a.jsx("span",{className:"text-slate-700",children:Z??"-"})},ce)})},oe))})]})})]},`table-${Q}`)),Array.isArray(se.alerts)&&se.alerts.map((q,Q)=>a.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:q.message||q.text||""},`alert-${Q}`)),se.timestamp&&a.jsxs("p",{className:"mt-2 text-[10px] uppercase tracking-wide text-slate-400",children:["Updated ",new Date(se.timestamp).toLocaleTimeString()]})]})},`chat-${U}`)),h&&a.jsx(kv,{label:"Tara is thinking...",className:"py-3"})]}),a.jsxs("form",{onSubmit:V,className:"border-t border-slate-200 bg-slate-50 px-4 py-4",children:[a.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[a.jsx("label",{htmlFor:"tara-segment",className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Focus area"}),a.jsx("select",{id:"tara-segment",value:C,onChange:X,disabled:h,className:"rounded-full border border-slate-200 bg-white px-3 py-1 text-xs text-slate-600 outline-none transition focus:border-blue-400 focus:text-blue-600 disabled:opacity-50",children:s.map(se=>a.jsx("option",{value:se.id,children:se.label},se.id))}),a.jsxs("button",{type:"button",onClick:B,disabled:h,className:"ml-auto inline-flex items-center gap-2 rounded-full border border-slate-300 bg-white px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-blue-400 hover:text-blue-600 disabled:opacity-50",children:[S?a.jsx(dR,{className:"h-4 w-4"}):a.jsx(cR,{className:"h-4 w-4"}),"Auto-refresh"]})]}),(ee=M==null?void 0:M.questions)!=null&&ee.length?a.jsx("div",{className:"mb-3 grid gap-2 sm:grid-cols-2",children:M.questions.map(se=>a.jsx("button",{type:"button",onClick:()=>ne(se),disabled:h,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-left text-xs font-medium text-slate-600 transition hover:border-blue-400 hover:text-blue-600 disabled:opacity-50",children:se},se))}):a.jsx("p",{className:"mb-3 text-xs text-slate-500",children:"No quick prompts are configured for your role yet. Ask Tara anything in the box below."}),a.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-inner focus-within:border-blue-500",children:[a.jsx("textarea",{className:"max-h-32 min-h-[48px] flex-1 resize-none border-0 bg-transparent p-2 text-sm text-slate-800 placeholder-slate-400 focus:outline-none",rows:1,placeholder:"Ask Tara about shipments, compliance, or transporter performance...",value:f,onChange:se=>p(se.target.value),disabled:h}),a.jsx("button",{type:"submit",className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-blue-600 text-white shadow-lg transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:bg-blue-300",disabled:R,"aria-label":"Send message",children:a.jsx(Av,{className:"h-5 w-5 -rotate-45"})})]})]})]}),((de=(le=y==null?void 0:y.highlights)==null?void 0:le.transporterAlerts)==null?void 0:de.length)>1&&a.jsxs("div",{className:"rounded-3xl border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-800",children:[a.jsx("p",{className:"font-semibold",children:"Additional transporter alerts"}),a.jsx("ul",{className:"mt-1 list-disc space-y-1 pl-4",children:y.highlights.transporterAlerts.slice(1).map((se,U)=>a.jsx("li",{children:se},`transporter-alert-${U}`))})]}),a.jsx(ki,{message:j.message,tone:j.tone,onClose:F}),e==="sidebar"&&t&&a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{type:"button",onClick:t,className:"text-xs font-semibold text-slate-400 underline underline-offset-4 transition hover:text-slate-500",children:"Close Tara sidebar"})})]})},U$=()=>{const[e,t]=A.useState(!1),n=()=>t(!1);return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:()=>t(!0),className:"fixed bottom-5 right-5 z-50 flex items-center gap-2 rounded-full bg-blue-600 px-4 py-3 text-sm font-semibold text-white shadow-xl transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2","aria-expanded":e,"aria-controls":"tara-sidebar",children:" Tara"}),e&&a.jsx("div",{id:"tara-sidebar",className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-900/50 px-4 py-8",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"flex h-full w-full max-w-3xl flex-col overflow-hidden rounded-3xl bg-white shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Tara  AI operations assistant"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Live shipment insights, compliance alerts, and celebratory wins updated every 30 seconds."})]}),a.jsx("button",{type:"button",onClick:n,className:"rounded-full px-3 py-1 text-sm font-semibold text-slate-500 transition hover:bg-slate-100 hover:text-slate-700","aria-label":"Close Tara assistant",children:""})]}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 p-4",children:a.jsx(z$,{layout:"sidebar",onClose:n})})]})})]})},q$=[{id:"ops",title:"Execution hub",helper:"Plan, book, and monitor shipments."},{id:"network",title:"Transporter network",helper:"Collaborate with transport partners."},{id:"finance",title:"Finance & compliance",helper:"Approve payouts and stay audit ready."},{id:"admin",title:"Admin & security",helper:"Control access, settings, and policies."}],W$=[{path:"/dashboard",label:"Shipment overview",helper:"Track live loads and status updates",icon:rr,section:"ops",roles:["COMPANY_ADMIN","FINANCE_APPROVER","OPERATIONS","TRANSPORTER","USER","SUPER_ADMIN"]},{path:"/calculate",label:"Create shipment",helper:"Calculate rates and schedule pickup",icon:Vg,section:"ops",roles:["COMPANY_ADMIN","OPERATIONS","USER","SUPER_ADMIN"]},{path:"/operations",label:"Operations board",helper:"Monitor live execution & drivers",icon:Zg,section:"ops",roles:["COMPANY_ADMIN","OPERATIONS","SUPER_ADMIN"]},{path:"/quotes",label:"Quote board",helper:"Review transporter quotations",icon:CA,section:"ops",roles:["COMPANY_ADMIN","USER","SUPER_ADMIN"]},{path:"/transporter/inbox",label:"Transporter inbox",helper:"Respond to quotes and jobs",icon:kI,section:"network",roles:["TRANSPORTER","COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/transporter/dashboard",label:"Transporter console",helper:"Pipeline, assignments, compliance",icon:Ta,section:"network",roles:["TRANSPORTER","COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/transporter/drivers",label:"Driver directory",helper:"Maintain driver & vehicle contacts",icon:vR,section:"network",roles:["TRANSPORTER","COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/finance",label:"Finance approvals",helper:"Approve POD and transporter invoices",icon:AA,section:"finance",roles:["COMPANY_ADMIN","FINANCE_APPROVER","SUPER_ADMIN"]},{path:"/admin/analytics",label:"Analytics & downloads",helper:"Monitor spend, SLA, and export reports",icon:Ev,section:"finance",roles:["COMPANY_ADMIN","FINANCE_APPROVER","SUPER_ADMIN"]},{path:"/admin/users",label:"Legacy user management",helper:"Approve external registrations",icon:zd,section:"admin",roles:["COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/company/users",label:"Company users",helper:"Invite teammates & manage access",icon:zd,section:"admin",roles:["COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/company/settings",label:"Company settings",helper:"Manage billing & ERP webhook secret",icon:eR,section:"admin",roles:["COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/admin/agreements",label:"Agreements workspace",helper:"Draft and approve transporter contracts",icon:jv,section:"network",roles:["COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/admin/vendors",label:"Transporter registry",helper:"Onboard and maintain vendor profiles",icon:LA,section:"network",roles:["COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/admin/compliance",label:"Compliance queue",helper:"Review GST, RCM, and e-way bill tasks",icon:Ta,section:"finance",roles:["COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/agent/kyc",label:"KYC uploads",helper:"Submit driver & vehicle compliance packs",icon:Zg,section:"ops",roles:["OPERATIONS","COMPANY_ADMIN","SUPER_ADMIN"]},{path:"/account/security",label:"Account security",helper:"Update 2FA, IP rules, and alerts",icon:MA,section:"admin",roles:["SUPER_ADMIN","COMPANY_ADMIN","FINANCE_APPROVER","OPERATIONS","TRANSPORTER","USER","AGENT"]}],H$=[{path:"/super-admin/dashboard",label:"Platform overview",helper:"Active companies, users, activity",icon:Ev},{path:"/super-admin/companies",label:"Company console",helper:"Manage tenants & webhook secrets",icon:CA},{path:"/super-admin/company-users",label:"Company user management",helper:"Create or suspend tenant users",icon:LA},{path:"/super-admin/platform-users",label:"Super admin users",helper:"Manage platform staff accounts",icon:zd}],V$=()=>{var w;const{user:e,logout:t}=ke(),n=Or(),r=Di(),[i,s]=A.useState(!1),[l,c]=A.useState(null),d=async()=>{t(),n("/login")},f=A.useMemo(()=>{const P=new Date().getHours();return P<12?"Good morning":P<17?"Good afternoon":"Good evening"},[]),p=A.useMemo(()=>{var P;return((P=e==null?void 0:e.name)==null?void 0:P.split(" ")[0])??"there"},[e]),h=A.useMemo(()=>(e==null?void 0:e.role)==="VENDOR"?"TRANSPORTER":(e==null?void 0:e.role)||"",[e]),g=P=>P==="/calculate"?r.pathname==="/calculate"||r.pathname==="/select-vendor":P==="/dashboard"?r.pathname==="/dashboard"||r.pathname.startsWith("/shipments/"):P==="/quotes"?r.pathname.startsWith("/quotes"):P==="/transporter/inbox"?r.pathname.startsWith("/transporter"):P==="/admin/agreements"?r.pathname.startsWith("/admin/agreements"):P==="/admin/users"?r.pathname.startsWith("/admin/users"):P==="/admin/compliance"?r.pathname.startsWith("/admin/compliance"):P==="/admin/analytics"?r.pathname.startsWith("/admin/analytics"):P==="/agent/kyc"?r.pathname.startsWith("/agent/kyc"):r.pathname===P,j=(e==null?void 0:e.role)==="SUPER_ADMIN",x=j?H$:W$,v=A.useMemo(()=>j?x:x.filter(P=>P.roles.includes(e==null?void 0:e.role)),[j,x,e]),N=A.useMemo(()=>j?[]:q$.map(P=>({...P,items:v.filter(S=>S.section===P.id)})).filter(P=>P.items.length>0),[v,j]);A.useEffect(()=>{var S;if(j)return;if(!N.length){c(null);return}const P=(S=N.find(E=>E.items.some(C=>g(C.path))))==null?void 0:S.id;if(P){c(E=>E===P?E:P);return}c(E=>{var C;return E&&N.some(T=>T.id===E)?E:((C=N[0])==null?void 0:C.id)??null})},[N,j,r.pathname]);const y=P=>{c(S=>S===P?null:P)},_=P=>{const S=E=>{const C=E.icon,T=g(E.path);return a.jsxs(sr,{to:E.path,onClick:P,className:`group flex flex-col rounded-2xl border px-4 py-3 transition ${T?"border-blue-500 bg-blue-50 text-blue-700 shadow-sm":"border-transparent bg-white/5 text-slate-300 hover:border-blue-400 hover:bg-blue-500/10 hover:text-white"}`,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"flex items-center gap-3 text-sm font-semibold",children:[a.jsx("span",{className:`rounded-xl bg-white/10 p-2 ${T?"text-blue-700":"text-blue-200"}`,children:a.jsx(C,{className:"h-4 w-4"})}),E.label]}),a.jsx(AA,{className:`h-4 w-4 ${T?"text-blue-600":"text-slate-400 group-hover:text-white"}`})]}),a.jsx("p",{className:`mt-2 text-xs leading-5 ${T?"text-blue-600":"text-slate-400 group-hover:text-slate-200"}`,children:E.helper})]},E.path)};return j?v.map(E=>S(E)):N.map(E=>{const C=l===E.id;return a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 shadow-inner shadow-black/10",children:[a.jsxs("button",{type:"button",onClick:()=>y(E.id),className:"flex w-full items-center justify-between px-4 py-3 text-left",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-blue-200",children:E.title}),a.jsx("p",{className:"text-[11px] text-blue-300/80",children:E.helper})]}),a.jsx(eI,{className:`h-4 w-4 text-blue-200 transition duration-200 ${C?"rotate-180 text-blue-100":""}`})]}),C&&a.jsx("div",{className:"flex flex-col gap-3 border-t border-white/10 px-4 py-3",children:E.items.map(T=>S(T))})]},E.id)})};return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsxs("div",{className:"flex min-h-screen",children:[a.jsxs("aside",{className:"relative hidden w-72 flex-col justify-between bg-gradient-to-b from-slate-900 via-slate-900 to-slate-800 px-6 pb-8 pt-6 text-white lg:flex",children:[a.jsxs("div",{children:[a.jsxs(sr,{to:"/dashboard",className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-blue-500 text-white shadow-lg",children:a.jsx(rr,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-blue-200",children:"FreightOS"}),a.jsx("h1",{className:"text-lg font-bold",children:"Command Centre"})]})]}),a.jsx("div",{className:"mt-8 flex flex-col gap-3",children:_()})]}),a.jsxs("div",{className:"rounded-3xl bg-white/5 p-4 text-sm leading-5",children:[a.jsx("p",{className:"font-semibold text-blue-100",children:"Need a co-pilot?"}),a.jsx("p",{className:"mt-1 text-blue-200",children:"Tara is docked in the corner. Open the chat to get live assistance on routes, pricing, and compliance."})]})]}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 bg-white/90 backdrop-blur",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>s(P=>!P),className:"rounded-xl border border-slate-200 bg-white p-2 text-slate-500 transition hover:text-slate-900 lg:hidden",children:i?a.jsx(Fs,{className:"h-5 w-5"}):a.jsx(FI,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:f}),a.jsxs("h2",{className:"text-xl font-semibold text-slate-900",children:["Welcome back, ",p,"!"]}),a.jsx("p",{className:"text-sm text-slate-500",children:"Monitor shipments, trigger new bookings, or ask Tara to plan the next move."})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-3",children:[a.jsx(O$,{}),a.jsx(L$,{}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"hidden text-right sm:block",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-slate-500",children:e==null?void 0:e.email})]}),a.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-lg font-semibold text-white shadow",children:(w=e==null?void 0:e.name)==null?void 0:w.charAt(0).toUpperCase()}),a.jsx("span",{className:"hidden rounded-full bg-blue-100 px-3 py-1 text-xs font-medium uppercase text-blue-700 sm:inline-block",children:h||(e==null?void 0:e.role)}),a.jsxs("button",{onClick:d,className:"inline-flex items-center gap-2 rounded-full border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 transition hover:bg-red-50",children:[a.jsx(II,{className:"h-4 w-4"}),"Logout"]})]})]})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-6 sm:px-6 lg:px-8",children:a.jsx(zL,{})})}),a.jsx("footer",{className:"border-t border-slate-200 bg-white/80 backdrop-blur",children:a.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col items-center justify-between gap-4 px-4 py-6 text-sm text-slate-500 sm:flex-row sm:px-6 lg:px-8",children:[a.jsx("div",{children:" 2025 Freight Management System. All rights reserved."}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("a",{href:"#",className:"transition hover:text-blue-600",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"transition hover:text-blue-600",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"transition hover:text-blue-600",children:"Contact Support"})]})]})})]})]}),i&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm lg:hidden",onClick:()=>s(!1),children:a.jsxs("div",{className:"absolute inset-y-0 left-0 w-72 bg-slate-900 px-6 py-6 text-white shadow-xl",onClick:P=>P.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-blue-500 text-white",children:a.jsx(rr,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-200",children:"FreightOS"}),a.jsx("p",{className:"text-sm font-semibold",children:"Command Centre"})]})]}),a.jsx("button",{type:"button",onClick:()=>s(!1),className:"rounded-full border border-white/30 p-2 text-white transition hover:bg-white/10",children:a.jsx(Fs,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"mt-8 flex flex-col gap-3",children:_(()=>s(!1))}),a.jsx("div",{className:"mt-6 rounded-3xl bg-white/10 p-4 text-sm text-blue-100",children:"Open Tara from the floating button for instant help."})]})}),a.jsx(U$,{})]})},Z$=["Per Trip","Per KM","Per Hour","Per Day","Per Load"],K$=({draft:e,onFieldChange:t,onSubmit:n,onCancelEdit:r,isEditing:i,agreementOptions:s,selectedAgreementLabel:l,resolveTransporterName:c})=>{const d=A.useMemo(()=>{const f=e.origin.trim(),p=e.destination.trim();if(!f||!p)return"";const h=c(e.agreementId),g=`${f} -> ${p}`;return h?`${g} | ${h}`:g},[e.origin,e.destination,e.agreementId,c]);return A.useEffect(()=>{e.routeName!==d&&t({target:{name:"routeName",value:d}})},[d,e.routeName,t]),a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Rate Cards"}),i&&a.jsx("button",{type:"button",onClick:r,className:"text-sm text-blue-600 hover:text-blue-700",children:"Cancel edit"})]}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Define route-specific rates. These entries drive freight quote recommendations."}),a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Route Name *"}),a.jsx("input",{type:"text",name:"routeName",value:e.routeName,readOnly:!0,className:"block w-full rounded-lg border border-gray-300 bg-slate-100 py-2 px-3 text-slate-600 focus:outline-none",placeholder:"Auto-generated"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Vehicle Type *"}),a.jsx("input",{type:"text",name:"vehicleType",value:e.vehicleType,onChange:t,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"Trailer / 32FT SXL"})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Origin *"}),a.jsx("input",{type:"text",name:"origin",value:e.origin,onChange:t,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"Mumbai"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Destination *"}),a.jsx("input",{type:"text",name:"destination",value:e.destination,onChange:t,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"Chennai"})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Distance (KM)"}),a.jsx("input",{type:"number",name:"distanceKm",value:e.distanceKm,onChange:t,min:"0",className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"1150"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Rate Amount *"}),a.jsx("input",{type:"number",name:"ratePerKm",value:e.ratePerKm,onChange:t,min:"0",step:"0.01",className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"14.5"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Effective From"}),a.jsx("input",{type:"date",name:"effectiveFrom",value:e.effectiveFrom,onChange:t,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Unit of Measure *"}),a.jsxs("select",{name:"uomSelection",value:e.uomSelection,onChange:t,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[Z$.map(f=>a.jsx("option",{value:f,children:f},f)),a.jsx("option",{value:"CUSTOM",children:"Custom..."})]}),e.uomSelection==="CUSTOM"&&a.jsx("input",{type:"text",name:"uom",value:e.uom,onChange:t,className:"mt-2 block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Per Container, Per Load"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Linked Agreement *"}),a.jsxs("select",{name:"agreementId",value:e.agreementId,onChange:t,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",disabled:s.length===0,children:[a.jsx("option",{value:"",children:"Select agreement"}),s]}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:l})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Remarks"}),a.jsx("textarea",{name:"remarks",value:e.remarks,onChange:t,rows:2,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"Weekend surcharge, toll conditions, etc."})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-blue-700",children:[a.jsx(va,{className:"h-5 w-5"}),i?"Update Rate Card":"Add Rate Card"]})})]})]})},G$=({rateCards:e,onEdit:t,onClone:n,onDelete:r,selectedAgreement:i})=>a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Rate Cards (",e.length,")"]}),i&&a.jsxs("span",{className:"text-xs text-slate-500",children:["Editing: ",i.title]})]}),e.length===0?a.jsx("div",{className:"mt-4 rounded-2xl border border-dashed border-slate-200 p-6 text-center text-sm text-slate-500",children:"Add rate cards to define route-specific pricing for this agreement."}):a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Route"}),a.jsx("th",{className:"px-4 py-3",children:"Origin"}),a.jsx("th",{className:"px-4 py-3",children:"Destination"}),a.jsx("th",{className:"px-4 py-3",children:"Rate"}),a.jsx("th",{className:"px-4 py-3",children:"Vehicle"}),a.jsx("th",{className:"px-4 py-3",children:"Effective"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 text-slate-700",children:e.map((s,l)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:s.routeName}),a.jsx("td",{className:"px-4 py-3",children:s.origin}),a.jsx("td",{className:"px-4 py-3",children:s.destination}),a.jsxs("td",{className:"px-4 py-3",children:[s.ratePerKm," / ",s.uom]}),a.jsx("td",{className:"px-4 py-3",children:s.vehicleType}),a.jsx("td",{className:"px-4 py-3",children:s.effectiveFrom?new Date(s.effectiveFrom).toLocaleDateString():""}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>t(l),className:"rounded-lg border border-blue-200 p-1 text-blue-600 hover:bg-blue-50",title:"Edit",children:a.jsx(Fd,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>n(l),className:"rounded-lg border border-amber-200 p-1 text-amber-600 hover:bg-amber-50",title:"Clone",children:a.jsx(gI,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>r(l),className:"rounded-lg border border-red-200 p-1 text-red-600 hover:bg-red-50",title:"Delete",children:a.jsx(Jl,{className:"h-4 w-4"})})]})})]},l))})]})})]}),S1=()=>({id:null,vendorId:"",title:"",referenceCode:"",status:"Draft",effectiveFrom:"",effectiveTo:"",notes:""}),P1=["Per Trip","Per KM","Per Hour","Per Day","Per Load"],A1=()=>({id:null,routeName:"",origin:"",destination:"",distanceKm:"",ratePerKm:"",uom:"Per KM",uomSelection:"Per KM",vehicleType:"",effectiveFrom:"",remarks:"",agreementId:""}),E1=["Draft","Active","Expired"],O1=()=>({name:"",email:"",phone:"",baseRate:"",rating:"4.0",speed:"60",isActive:!0}),Y$=()=>{const{api:e,user:t}=ke(),n=$a(),[r,i]=A.useState([]),[s,l]=A.useState([]),[c,d]=A.useState("all"),[f,p]=A.useState("all"),[h,g]=A.useState(S1()),[j,x]=A.useState([]),[v,N]=A.useState(A1()),[y,_]=A.useState(null),w=A.useCallback((te={})=>{N({...A1(),agreementId:h.id?String(h.id):"",...te})},[h.id]);A.useEffect(()=>{N(te=>({...te,agreementId:h.id?te.agreementId||String(h.id):""}))},[h.id]);const[P,S]=A.useState(!0),[E,C]=A.useState(!1),[T,I]=A.useState({message:"",tone:"info"}),[M,R]=A.useState(!1),[F,W]=A.useState(!1),[z,V]=A.useState(O1()),X=A.useMemo(()=>r.filter(te=>{const he=c==="all"||String(te.vendorId)===c,be=f==="all"||te.status===f;return he&&be}),[r,c,f]),ne=A.useMemo(()=>r.find(te=>te.id===h.id)??null,[r,h.id]),B=A.useMemo(()=>{const te=new Map;return r.forEach(he=>{te.set(String(he.id),he.title||`Agreement #${he.id}`)}),te},[r]),J=A.useMemo(()=>{if(v.agreementId)return B.get(v.agreementId)||`Agreement #${v.agreementId}`;if(h.id){const te=B.get(String(h.id));return te||(h.title?h.title:`Agreement #${h.id}`)}return"Will link automatically after this agreement is saved."},[B,h.id,h.title,v.agreementId]),$=()=>{if(X.length===0){K("No agreements to export for current filters.","info");return}const te=["Agreement ID","Title","Transporter","Status","Reference Code","Effective From","Effective To","Rate Card Count"],he=X.map(vt=>{var xn,Wi,qa;return[vt.id,`"${vt.title.replace(/"/g,'""')}"`,`"${((Wi=(xn=vt.vendor)==null?void 0:xn.name)==null?void 0:Wi.replace(/"/g,'""'))||""}"`,vt.status||"",vt.referenceCode||"",vt.effectiveFrom?new Date(vt.effectiveFrom).toISOString().split("T")[0]:"",vt.effectiveTo?new Date(vt.effectiveTo).toISOString().split("T")[0]:"",((qa=vt.rateCards)==null?void 0:qa.length)??0]}),be=[te.join(","),...he.map(vt=>vt.join(","))].join(`
`),ye=new Blob([be],{type:"text/csv;charset=utf-8;"}),Me=URL.createObjectURL(ye),He=document.createElement("a");He.href=Me,He.setAttribute("download",`agreements_export_${Date.now()}.csv`),document.body.appendChild(He),He.click(),document.body.removeChild(He),URL.revokeObjectURL(Me)},K=A.useCallback((te,he="info")=>I({message:te,tone:he}),[]),ee=A.useCallback(()=>I({message:"",tone:"info"}),[]),le=te=>{if(!te)return"";const he=new Date(te);return Number.isNaN(he.valueOf())?"":he.toISOString().split("T")[0]},de=te=>{if(te===""||te===null||te===void 0)return null;const he=Number(te);return Number.isNaN(he)?null:he},se=A.useCallback(te=>{var he,be;if(te){const ye=r.find(He=>String(He.id)===String(te));if((he=ye==null?void 0:ye.vendor)!=null&&he.name)return ye.vendor.name;const Me=s.find(He=>He.id===(ye==null?void 0:ye.vendorId));if(Me!=null&&Me.name)return Me.name}if(h.id){const ye=r.find(Me=>Me.id===h.id);if((be=ye==null?void 0:ye.vendor)!=null&&be.name)return ye.vendor.name}if(h.vendorId){const ye=s.find(Me=>String(Me.id)===h.vendorId);if(ye!=null&&ye.name)return ye.name}return""},[r,h.id,h.vendorId,s]),U=A.useCallback(async()=>{var te,he;try{const{data:be}=await e.get("/admin/agreements");i(be.agreements||[])}catch(be){console.error(be),K(((he=(te=be.response)==null?void 0:te.data)==null?void 0:he.error)||"Failed to load agreements.","error")}},[e,K]),q=A.useCallback(async()=>{var te,he;try{if((t==null?void 0:t.role)==="AGENT"&&t.vendorId){const{data:be}=await e.get("/freight/vendors"),ye=(be.vendors||[]).find(Me=>Number(Me.id)===Number(t.vendorId))||null;l(ye?[ye]:[]),ye?(g(Me=>({...Me,vendorId:String(ye.id)})),d(String(ye.id))):K("Assigned transporter profile not found. Contact an administrator.","warning");return}if((t==null?void 0:t.role)==="ADMIN"){const{data:be}=await e.get("/admin/vendors/list");l(be.vendors||[])}else{const{data:be}=await e.get("/freight/vendors");l(be.vendors||[])}}catch(be){console.error(be),K(((he=(te=be.response)==null?void 0:te.data)==null?void 0:he.error)||"Failed to load transporters.","error")}},[e,K,t]),Q=()=>{V(O1()),R(!0)},H=()=>{R(!1)},oe=te=>{const{name:he,value:be,type:ye,checked:Me}=te.target;V(He=>({...He,[he]:ye==="checkbox"?Me:be}))},ce=async te=>{var he,be;if(te.preventDefault(),!z.name.trim()){K("Transporter name is required.","warning");return}try{W(!0);const ye={name:z.name.trim(),email:z.email.trim()||void 0,phone:z.phone.trim()||void 0,baseRate:de(z.baseRate)??void 0,rating:de(z.rating)??void 0,speed:de(z.speed)??void 0,isActive:z.isActive},{response:Me,error:He,queued:vt}=await n({request:xn=>xn.post("/admin/vendors",ye),queue:{entityType:"vendors",action:"CREATE",payload:ye}});if(He)throw He;if(vt){K("Transporter creation queued (offline).","info"),R(!1);return}Me!=null&&Me.data&&(await q(),g(xn=>({...xn,vendorId:String(Me.data.vendor.id)})),d(String(Me.data.vendor.id)),K("Transporter created successfully.","success"),R(!1))}catch(ye){console.error(ye),K(((be=(he=ye.response)==null?void 0:he.data)==null?void 0:be.error)||"Failed to create transporter.","error")}finally{W(!1)}};A.useEffect(()=>{t&&(async()=>{S(!0),await Promise.all([U(),q()]),S(!1)})()},[t,U,q]);const Z=te=>{const{name:he,value:be}=te.target;g(ye=>({...ye,[he]:be}))},_e=te=>{const{name:he,value:be}=te.target;N(ye=>{if(he==="uomSelection"){const Me=be==="CUSTOM",He=Me&&ye.uomSelection==="CUSTOM"?ye.uom:"";return{...ye,uomSelection:be,uom:Me?He:be}}return he==="agreementId"?{...ye,agreementId:be}:he==="uom"?{...ye,uom:be}:{...ye,[he]:be}})},je=te=>{g({id:te.id,vendorId:String(te.vendorId),title:te.title,referenceCode:te.referenceCode??"",status:te.status??"Draft",effectiveFrom:le(te.effectiveFrom),effectiveTo:le(te.effectiveTo),notes:te.notes??""}),x((te.rateCards||[]).map(he=>({id:he.id,routeName:he.routeName,origin:he.origin,destination:he.destination,distanceKm:he.distanceKm??"",ratePerKm:he.ratePerKm,uom:he.uom||"Per KM",uomSelection:P1.includes(he.uom)?he.uom:"CUSTOM",vehicleType:he.vehicleType,effectiveFrom:le(he.effectiveFrom),remarks:he.remarks??"",agreementId:String(he.agreementId??te.id)}))),w(),_(null),ee()},$e=()=>{g(S1()),x([]),w({agreementId:""}),_(null),ee()},Pe=()=>{if(!h.vendorId)return K("Please select a transporter.","warning"),!1;if(!h.title.trim())return K("Agreement title is required.","warning"),!1;const te=h.effectiveFrom?new Date(h.effectiveFrom):null,he=h.effectiveTo?new Date(h.effectiveTo):null;return te&&he&&te>he?(K("Agreement start date must be before the end date.","warning"),!1):!0},Xe=()=>{if(!v.routeName.trim())return K("Route name/description is required.","warning"),!1;if(!v.origin.trim()||!v.destination.trim())return K("Origin and destination are required.","warning"),!1;if(!v.ratePerKm)return K("Rate amount is required.","warning"),!1;if(!v.vehicleType.trim())return K("Vehicle type is required.","warning"),!1;if(!(v.uomSelection==="CUSTOM"?v.uom.trim():(v.uomSelection||"").trim()))return K("Please choose or enter a unit of measure.","warning"),!1;if(!(v.agreementId||(h.id?String(h.id):""))&&h.id)return K("Please link the rate card to an agreement.","warning"),!1;const be=v.effectiveFrom?new Date(v.effectiveFrom):null,ye=h.effectiveFrom?new Date(h.effectiveFrom):null,Me=h.effectiveTo?new Date(h.effectiveTo):null;return be&&ye&&be<ye?(K("Rate card date cannot be before the agreement start date.","warning"),!1):be&&Me&&be>Me?(K("Rate card date must fall within the agreement period.","warning"),!1):!0},lt=()=>{if(!Xe())return;const te=v.uomSelection==="CUSTOM"?v.uom.trim():(v.uomSelection||"").trim(),he=v.agreementId||(h.id?String(h.id):""),be={...v,distanceKm:v.distanceKm===""?"":v.distanceKm,ratePerKm:v.ratePerKm,uom:te,uomSelection:v.uomSelection==="CUSTOM"&&te?"CUSTOM":te||"Per KM",agreementId:he};y!==null?(x(ye=>ye.map((Me,He)=>He===y?{...Me,...be}:Me)),K("Rate card updated.","success")):(x(ye=>[...ye,be]),K("Rate card added.","success")),w(),_(null)},xt=te=>{const he=j[te];N({...he,uomSelection:he.uomSelection||(P1.includes(he.uom)?he.uom:"CUSTOM"),agreementId:he.agreementId||(h.id?String(h.id):"")}),_(te)},rn=te=>{const he={...j[te],id:null};x(be=>[...be,he]),K("Rate card cloned. Adjust details and save the agreement to persist.","info")},gn=te=>{x(he=>he.filter((be,ye)=>ye!==te)),y===te&&(w(),_(null))},An=()=>({vendorId:Number(h.vendorId),title:h.title.trim(),referenceCode:h.referenceCode.trim()||null,status:h.status,effectiveFrom:h.effectiveFrom||null,effectiveTo:h.effectiveTo||null,notes:h.notes.trim()||null,rateCards:j.map(te=>({id:te.id,routeName:te.routeName.trim(),origin:te.origin.trim(),destination:te.destination.trim(),distanceKm:de(te.distanceKm),ratePerKm:Number(te.ratePerKm),uom:te.uom,vehicleType:te.vehicleType.trim(),effectiveFrom:te.effectiveFrom||null,remarks:te.remarks.trim()||null,...te.agreementId?{agreementId:Number(te.agreementId)}:{}}))}),oi=async()=>{var te,he;if(Pe()){C(!0);try{const be=An(),ye=!!h.id,{response:Me,error:He,queued:vt}=await n({request:xn=>ye?xn.put(`/admin/agreements/${h.id}`,be):xn.post("/admin/agreements",be),queue:{entityType:"agreements",action:ye?"UPDATE":"CREATE",payload:be,entityId:ye?h.id:void 0}});if(He)throw He;if(vt){K(`Agreement ${ye?"update":"creation"} queued (offline).`,"info"),$e();return}K(`Agreement ${ye?"updated":"created"} successfully.`,"success"),await U(),await q(),$e()}catch(be){console.error(be),K(((he=(te=be.response)==null?void 0:te.data)==null?void 0:he.error)||"Failed to save agreement.","error")}finally{C(!1)}}},Ua=async te=>{var ye,Me;const he=r.find(He=>He.id===te);if(window.confirm(`Are you sure you want to delete agreement "${(he==null?void 0:he.title)||te}"? This action cannot be undone.`))try{const{response:He,error:vt,queued:xn}=await n({request:Wi=>Wi.delete(`/admin/agreements/${te}`),queue:{entityType:"agreements",action:"DELETE",entityId:te,payload:{id:te}}});if(vt)throw vt;if(xn){K("Agreement deletion queued (offline).","info");return}K("Agreement deleted successfully.","success"),await U(),h.id===te&&$e()}catch(He){console.error(He),K(((Me=(ye=He.response)==null?void 0:ye.data)==null?void 0:Me.error)||"Failed to delete agreement.","error")}};return P?a.jsx(kv,{label:"Loading agreements..."}):a.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-8 py-8",children:[a.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4 rounded-3xl bg-slate-900 px-6 py-6 text-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-500/20 text-blue-200",children:a.jsx(jv,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Transporter Agreements & Rate Cards"}),a.jsx("p",{className:"text-sm text-slate-300",children:"Maintain master agreements and detailed route pricing that fuel instant freight quotes."})]})]}),a.jsxs("button",{type:"button",onClick:$e,className:"inline-flex items-center gap-2 rounded-2xl bg-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-blue-600",children:[a.jsx(TA,{className:"h-5 w-5"}),"New Agreement"]})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-[2fr,3fr]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Agreement Details"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Fill in transporter contract details, then add granular route-level rate cards."}),a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Transporter *"}),(t==null?void 0:t.role)==="ADMIN"&&a.jsx("button",{type:"button",onClick:Q,className:"text-xs font-semibold text-blue-600 transition hover:text-blue-700",children:"+ New transporter"})]}),a.jsxs("select",{name:"vendorId",value:h.vendorId,onChange:Z,disabled:(t==null?void 0:t.role)==="AGENT",className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select transporter"}),s.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Agreement Title *"}),a.jsx("input",{type:"text",name:"title",value:h.title,onChange:Z,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"e.g. FY25 Pan-India Contract",required:!0}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Automatically generated from origin, destination, and transporter."})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Reference Code"}),a.jsx("input",{type:"text",name:"referenceCode",value:h.referenceCode,onChange:Z,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"AG-2025-01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Status"}),a.jsx("select",{name:"status",value:h.status,onChange:Z,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:E1.map(te=>a.jsx("option",{value:te,children:te},te))})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Effective From"}),a.jsx("input",{type:"date",name:"effectiveFrom",value:h.effectiveFrom,onChange:Z,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Effective To"}),a.jsx("input",{type:"date",name:"effectiveTo",value:h.effectiveTo,onChange:Z,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Notes"}),a.jsx("textarea",{name:"notes",value:h.notes,onChange:Z,rows:3,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"Important clauses, service levels, etc."})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{type:"button",onClick:oi,disabled:E,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-5 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60",children:E?"Saving...":h.id?"Update Agreement":"Create Agreement"})})]}),a.jsx(K$,{draft:v,onFieldChange:_e,onSubmit:lt,onCancelEdit:()=>{w(),_(null)},isEditing:y!==null,agreementOptions:r.map(te=>{var he;return a.jsxs("option",{value:String(te.id),children:[te.title," ",(he=te.vendor)!=null&&he.name?`- ${te.vendor.name}`:""]},te.id)}),selectedAgreementLabel:J,resolveTransporterName:se})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Agreement Summary"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Review all agreements. Select one to edit or manage rate cards."})]}),a.jsxs("button",{type:"button",onClick:$,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-blue-400 hover:text-blue-600",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Export CSV"]})]}),a.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-slate-500",children:"Filter by Transporter"}),a.jsxs("select",{value:c,disabled:(t==null?void 0:t.role)==="AGENT",onChange:te=>d(te.target.value),className:"w-full rounded-lg border border-slate-200 py-2 px-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All transporters"}),s.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-slate-500",children:"Filter by Status"}),a.jsxs("select",{value:f,onChange:te=>p(te.target.value),className:"w-full rounded-lg border border-slate-200 py-2 px-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All statuses"}),E1.map(te=>a.jsx("option",{value:te,children:te},te))]})]})]}),X.length===0?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-slate-200 p-6 text-center text-sm text-slate-500",children:"No agreements match your filters. Adjust the filters or create a new contract."}):a.jsx("div",{className:"mt-4 space-y-3",children:X.map(te=>{var he,be;return a.jsxs("div",{className:`rounded-2xl border p-4 transition ${h.id===te.id?"border-blue-500 bg-blue-50":"border-slate-200 bg-white hover:border-blue-300"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:te.title}),a.jsxs("p",{className:"text-xs text-slate-500",children:[((he=te.vendor)==null?void 0:he.name)||"Unknown transporter"," - "," ",((be=te.rateCards)==null?void 0:be.length)||0," rate cards"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>je(te),className:"rounded-lg border border-blue-200 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50",children:"Edit"}),a.jsx("button",{type:"button",onClick:()=>Ua(te.id),className:"rounded-lg border border-red-200 px-2 py-1 text-xs text-red-600 hover:bg-red-50",children:"Delete"})]})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-[11px] text-slate-500",children:[te.referenceCode&&a.jsxs("span",{children:["Ref: ",te.referenceCode]}),te.status&&a.jsxs("span",{children:["Status: ",te.status]}),te.effectiveFrom&&a.jsxs("span",{children:["From: ",new Date(te.effectiveFrom).toLocaleDateString()]}),te.effectiveTo&&a.jsxs("span",{children:["To: ",new Date(te.effectiveTo).toLocaleDateString()]}),te.updatedAt&&a.jsxs("span",{children:["Updated: ",new Date(te.updatedAt).toLocaleDateString()]})]})]},te.id)})})]}),a.jsx(G$,{rateCards:j,agreementTitleById:B,agreementForm:h,onEdit:xt,onClone:rn,onDelete:gn,selectedAgreement:ne})]})]}),(t==null?void 0:t.role)==="ADMIN"&&M&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-6",children:a.jsxs("div",{className:"w-full max-w-lg rounded-3xl bg-white p-6 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create transporter"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Add a transporter profile to unlock instant quoting from this agreement workspace."})]}),a.jsx("button",{type:"button",onClick:H,className:"rounded-full border border-slate-200 p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700","aria-label":"Close transporter form",children:a.jsx(Fs,{className:"h-4 w-4"})})]}),a.jsxs("form",{onSubmit:ce,className:"mt-4 space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Transporter name *"}),a.jsx("input",{type:"text",name:"name",value:z.name,onChange:oe,required:!0,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Contact email"}),a.jsx("input",{type:"email",name:"email",value:z.email,onChange:oe,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:z.phone,onChange:oe,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Base rate (per km)"}),a.jsx("input",{type:"number",step:"0.01",name:"baseRate",value:z.baseRate,onChange:oe,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Rating"}),a.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",name:"rating",value:z.rating,onChange:oe,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Avg. speed (km/h)"}),a.jsx("input",{type:"number",step:"1",min:"0",name:"speed",value:z.speed,onChange:oe,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx("input",{type:"checkbox",name:"isActive",checked:z.isActive,onChange:oe,className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Active transporter"]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:H,className:"rounded-lg border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:F,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-700 disabled:opacity-60",children:[F?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(Pv,{className:"h-4 w-4"}),F?"Saving...":"Create transporter"]})]})]})]})}),a.jsx(ki,{message:T.message,tone:T.tone,onClose:ee})]})},lh=()=>{if(typeof window>"u")return null;try{return window.sessionStorage.getItem("authToken")}catch{return null}},X$=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!0),[i,s]=A.useState(null),l=lh();return A.useEffect(()=>{l&&(async()=>{try{const d=await fetch("/api/v1/reports/accrued-costs",{headers:{Authorization:`Bearer ${l}`}});if(!d.ok){const p=await d.json().catch(()=>({}));throw new Error(p.error||"Failed to load accrued costs report")}const f=await d.json();t(f)}catch(d){s(d.message)}finally{r(!1)}})()},[l]),l?n?a.jsx("p",{className:"text-sm text-gray-500",children:"Loading accrued costs..."}):i?a.jsxs("p",{className:"text-sm text-red-500",children:["Error: ",i]}):a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Accrued Costs (Un-invoiced Delivered Shipments)"}),a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Shipment ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Delivered On"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"px-6 py-4 text-center text-gray-500",children:"No un-invoiced shipments found."})}),e.map(c=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 text-sm text-indigo-600",children:c.erp_order_id||c.id}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:c.customer_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(c.updatedAt).toLocaleDateString()})]},c.id))]})]})})]}):null};var Q$=Array.isArray,mn=Q$,J$=typeof ol=="object"&&ol&&ol.Object===Object&&ol,ZA=J$,eD=ZA,tD=typeof self=="object"&&self&&self.Object===Object&&self,nD=eD||tD||Function("return this")(),Cr=nD,rD=Cr,iD=rD.Symbol,Wc=iD,C1=Wc,KA=Object.prototype,aD=KA.hasOwnProperty,sD=KA.toString,Yo=C1?C1.toStringTag:void 0;function oD(e){var t=aD.call(e,Yo),n=e[Yo];try{e[Yo]=void 0;var r=!0}catch{}var i=sD.call(e);return r&&(t?e[Yo]=n:delete e[Yo]),i}var lD=oD,cD=Object.prototype,uD=cD.toString;function dD(e){return uD.call(e)}var fD=dD,T1=Wc,hD=lD,pD=fD,mD="[object Null]",gD="[object Undefined]",k1=T1?T1.toStringTag:void 0;function xD(e){return e==null?e===void 0?gD:mD:k1&&k1 in Object(e)?hD(e):pD(e)}var ri=xD;function vD(e){return e!=null&&typeof e=="object"}var ii=vD,yD=ri,bD=ii,wD="[object Symbol]";function _D(e){return typeof e=="symbol"||bD(e)&&yD(e)==wD}var go=_D,jD=mn,ND=go,SD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PD=/^\w*$/;function AD(e,t){if(jD(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ND(e)?!0:PD.test(e)||!SD.test(e)||t!=null&&e in Object(t)}var Mv=AD;function ED(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bi=ED;const xo=Ke(Bi);var OD=ri,CD=Bi,TD="[object AsyncFunction]",kD="[object Function]",MD="[object GeneratorFunction]",LD="[object Proxy]";function ID(e){if(!CD(e))return!1;var t=OD(e);return t==kD||t==MD||t==TD||t==LD}var Lv=ID;const Te=Ke(Lv);var RD=Cr,$D=RD["__core-js_shared__"],DD=$D,fm=DD,M1=function(){var e=/[^.]+$/.exec(fm&&fm.keys&&fm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function BD(e){return!!M1&&M1 in e}var FD=BD,zD=Function.prototype,UD=zD.toString;function qD(e){if(e!=null){try{return UD.call(e)}catch{}try{return e+""}catch{}}return""}var GA=qD,WD=Lv,HD=FD,VD=Bi,ZD=GA,KD=/[\\^$.*+?()[\]{}|]/g,GD=/^\[object .+?Constructor\]$/,YD=Function.prototype,XD=Object.prototype,QD=YD.toString,JD=XD.hasOwnProperty,e6=RegExp("^"+QD.call(JD).replace(KD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t6(e){if(!VD(e)||HD(e))return!1;var t=WD(e)?e6:GD;return t.test(ZD(e))}var n6=t6;function r6(e,t){return e==null?void 0:e[t]}var i6=r6,a6=n6,s6=i6;function o6(e,t){var n=s6(e,t);return a6(n)?n:void 0}var Da=o6,l6=Da,c6=l6(Object,"create"),ch=c6,L1=ch;function u6(){this.__data__=L1?L1(null):{},this.size=0}var d6=u6;function f6(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var h6=f6,p6=ch,m6="__lodash_hash_undefined__",g6=Object.prototype,x6=g6.hasOwnProperty;function v6(e){var t=this.__data__;if(p6){var n=t[e];return n===m6?void 0:n}return x6.call(t,e)?t[e]:void 0}var y6=v6,b6=ch,w6=Object.prototype,_6=w6.hasOwnProperty;function j6(e){var t=this.__data__;return b6?t[e]!==void 0:_6.call(t,e)}var N6=j6,S6=ch,P6="__lodash_hash_undefined__";function A6(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=S6&&t===void 0?P6:t,this}var E6=A6,O6=d6,C6=h6,T6=y6,k6=N6,M6=E6;function vo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vo.prototype.clear=O6;vo.prototype.delete=C6;vo.prototype.get=T6;vo.prototype.has=k6;vo.prototype.set=M6;var L6=vo;function I6(){this.__data__=[],this.size=0}var R6=I6;function $6(e,t){return e===t||e!==e&&t!==t}var Iv=$6,D6=Iv;function B6(e,t){for(var n=e.length;n--;)if(D6(e[n][0],t))return n;return-1}var uh=B6,F6=uh,z6=Array.prototype,U6=z6.splice;function q6(e){var t=this.__data__,n=F6(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():U6.call(t,n,1),--this.size,!0}var W6=q6,H6=uh;function V6(e){var t=this.__data__,n=H6(t,e);return n<0?void 0:t[n][1]}var Z6=V6,K6=uh;function G6(e){return K6(this.__data__,e)>-1}var Y6=G6,X6=uh;function Q6(e,t){var n=this.__data__,r=X6(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var J6=Q6,e8=R6,t8=W6,n8=Z6,r8=Y6,i8=J6;function yo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yo.prototype.clear=e8;yo.prototype.delete=t8;yo.prototype.get=n8;yo.prototype.has=r8;yo.prototype.set=i8;var dh=yo,a8=Da,s8=Cr,o8=a8(s8,"Map"),Rv=o8,I1=L6,l8=dh,c8=Rv;function u8(){this.size=0,this.__data__={hash:new I1,map:new(c8||l8),string:new I1}}var d8=u8;function f8(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var h8=f8,p8=h8;function m8(e,t){var n=e.__data__;return p8(t)?n[typeof t=="string"?"string":"hash"]:n.map}var fh=m8,g8=fh;function x8(e){var t=g8(this,e).delete(e);return this.size-=t?1:0,t}var v8=x8,y8=fh;function b8(e){return y8(this,e).get(e)}var w8=b8,_8=fh;function j8(e){return _8(this,e).has(e)}var N8=j8,S8=fh;function P8(e,t){var n=S8(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var A8=P8,E8=d8,O8=v8,C8=w8,T8=N8,k8=A8;function bo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bo.prototype.clear=E8;bo.prototype.delete=O8;bo.prototype.get=C8;bo.prototype.has=T8;bo.prototype.set=k8;var $v=bo,YA=$v,M8="Expected a function";function Dv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(M8);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(Dv.Cache||YA),n}Dv.Cache=YA;var XA=Dv;const L8=Ke(XA);var I8=XA,R8=500;function $8(e){var t=I8(e,function(r){return n.size===R8&&n.clear(),r}),n=t.cache;return t}var D8=$8,B8=D8,F8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z8=/\\(\\)?/g,U8=B8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(F8,function(n,r,i,s){t.push(i?s.replace(z8,"$1"):r||n)}),t}),q8=U8;function W8(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Bv=W8,R1=Wc,H8=Bv,V8=mn,Z8=go,$1=R1?R1.prototype:void 0,D1=$1?$1.toString:void 0;function QA(e){if(typeof e=="string")return e;if(V8(e))return H8(e,QA)+"";if(Z8(e))return D1?D1.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var K8=QA,G8=K8;function Y8(e){return e==null?"":G8(e)}var JA=Y8,X8=mn,Q8=Mv,J8=q8,eB=JA;function tB(e,t){return X8(e)?e:Q8(e,t)?[e]:J8(eB(e))}var eE=tB,nB=go;function rB(e){if(typeof e=="string"||nB(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var hh=rB,iB=eE,aB=hh;function sB(e,t){t=iB(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[aB(t[n++])];return n&&n==r?e:void 0}var Fv=sB,oB=Fv;function lB(e,t,n){var r=e==null?void 0:oB(e,t);return r===void 0?n:r}var tE=lB;const ir=Ke(tE);function cB(e){return e==null}var uB=cB;const Be=Ke(uB);var dB=ri,fB=mn,hB=ii,pB="[object String]";function mB(e){return typeof e=="string"||!fB(e)&&hB(e)&&dB(e)==pB}var gB=mB;const Hc=Ke(gB);var nE={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=Symbol.for("react.element"),Uv=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),mh=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),vh=Symbol.for("react.context"),xB=Symbol.for("react.server_context"),yh=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),_h=Symbol.for("react.memo"),jh=Symbol.for("react.lazy"),vB=Symbol.for("react.offscreen"),rE;rE=Symbol.for("react.module.reference");function Hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zv:switch(e=e.type,e){case ph:case gh:case mh:case bh:case wh:return e;default:switch(e=e&&e.$$typeof,e){case xB:case vh:case yh:case jh:case _h:case xh:return e;default:return t}}case Uv:return t}}}Ge.ContextConsumer=vh;Ge.ContextProvider=xh;Ge.Element=zv;Ge.ForwardRef=yh;Ge.Fragment=ph;Ge.Lazy=jh;Ge.Memo=_h;Ge.Portal=Uv;Ge.Profiler=gh;Ge.StrictMode=mh;Ge.Suspense=bh;Ge.SuspenseList=wh;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(e){return Hn(e)===vh};Ge.isContextProvider=function(e){return Hn(e)===xh};Ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zv};Ge.isForwardRef=function(e){return Hn(e)===yh};Ge.isFragment=function(e){return Hn(e)===ph};Ge.isLazy=function(e){return Hn(e)===jh};Ge.isMemo=function(e){return Hn(e)===_h};Ge.isPortal=function(e){return Hn(e)===Uv};Ge.isProfiler=function(e){return Hn(e)===gh};Ge.isStrictMode=function(e){return Hn(e)===mh};Ge.isSuspense=function(e){return Hn(e)===bh};Ge.isSuspenseList=function(e){return Hn(e)===wh};Ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ph||e===gh||e===mh||e===bh||e===wh||e===vB||typeof e=="object"&&e!==null&&(e.$$typeof===jh||e.$$typeof===_h||e.$$typeof===xh||e.$$typeof===vh||e.$$typeof===yh||e.$$typeof===rE||e.getModuleId!==void 0)};Ge.typeOf=Hn;nE.exports=Ge;var yB=nE.exports,bB=ri,wB=ii,_B="[object Number]";function jB(e){return typeof e=="number"||wB(e)&&bB(e)==_B}var iE=jB;const NB=Ke(iE);var SB=iE;function PB(e){return SB(e)&&e!=+e}var AB=PB;const Vc=Ke(AB);var Bn=function(t){return t===0?0:t>0?1:-1},da=function(t){return Hc(t)&&t.indexOf("%")===t.length-1},ge=function(t){return NB(t)&&!Vc(t)},Mt=function(t){return ge(t)||Hc(t)},EB=0,Nh=function(t){var n=++EB;return"".concat(t||"").concat(n)},ln=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!Hc(t))return r;var s;if(da(t)){var l=t.indexOf("%");s=n*parseFloat(t.slice(0,l))/100}else s=+t;return Vc(s)&&(s=r),i&&s>n&&(s=n),s},rs=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},OB=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},B1=function(t,n){return ge(t)&&ge(n)?function(r){return t+r*(n-t)}:function(){return n}};function Qg(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ir(r,t))===n})}function Jg(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}var CB=["viewBox","children"],TB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F1=["points","pathLength"],hm={svg:CB,polygon:F1,polyline:F1},qv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),!xo(r))return null;var i={};return Object.keys(r).forEach(function(s){qv.includes(s)&&(i[s]=n||function(l){return r[s](r,l)})}),i},kB=function(t,n,r){return function(i){return t(n,r,i),null}},Sh=function(t,n,r){if(!xo(t)||e0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var l=t[s];qv.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=kB(l,n,r))}),i},MB=["children"],LB=["children"];function z1(e,t){if(e==null)return{};var n=IB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var U1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},q1=null,pm=null,Wv=function e(t){if(t===q1&&Array.isArray(pm))return pm;var n=[];return A.Children.forEach(t,function(r){Be(r)||(yB.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),pm=n,q1=t,n};function jr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Hr(i)}):r=[Hr(t)],Wv(e).forEach(function(i){var s=ir(i,"type.displayName")||ir(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Ln(e,t){var n=jr(e,t);return n&&n[0]}var W1=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},RB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$B=function(t){return t&&t.type&&Hc(t.type)&&RB.indexOf(t.type)>=0},DB=function(t,n,r,i){var s,l=(s=hm==null?void 0:hm[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Te(t)&&(i&&l.includes(n)||TB.includes(n))||r&&qv.includes(n)},Ce=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(A.isValidElement(t)&&(i=t.props),!xo(i))return null;var s={};return Object.keys(i).forEach(function(l){var c;DB((c=i)===null||c===void 0?void 0:c[l],l,n,r)&&(s[l]=i[l])}),s},t0=function e(t,n){if(t===n)return!0;var r=A.Children.count(t);if(r!==A.Children.count(n))return!1;if(r===0)return!0;if(r===1)return H1(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=t[i],l=n[i];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!H1(s,l))return!1}return!0},H1=function(t,n){if(Be(t)&&Be(n))return!0;if(!Be(t)&&!Be(n)){var r=t.props||{},i=r.children,s=z1(r,MB),l=n.props||{},c=l.children,d=z1(l,LB);return i&&c?Jg(s,d)&&t0(i,c):!i&&!c?Jg(s,d):!1}return!1},V1=function(t,n){var r=[],i={};return Wv(t).forEach(function(s,l){if($B(s))r.push(s);else if(s){var c=Hr(s.type),d=n[c]||{},f=d.handler,p=d.once;if(f&&(!p||!i[c])){var h=f(s,c,l);r.push(h),i[c]=!0}}}),r},BB=function(t){var n=t&&t.type;return n&&U1[n]?U1[n]:null},FB=function(t,n){return Wv(n).indexOf(t)},zB=["children","width","height","viewBox","className","style","title","desc"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(this,arguments)}function UB(e,t){if(e==null)return{};var n=qB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function r0(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,s=e.className,l=e.style,c=e.title,d=e.desc,f=UB(e,zB),p=i||{width:n,height:r,x:0,y:0},h=Ie("recharts-surface",s);return G.createElement("svg",n0({},Ce(f,!0,"svg"),{className:h,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,c),G.createElement("desc",null,d),t)}var WB=["children","className"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(this,arguments)}function HB(e,t){if(e==null)return{};var n=VB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var wt=G.forwardRef(function(e,t){var n=e.children,r=e.className,i=HB(e,WB),s=Ie("recharts-layer",r);return G.createElement("g",i0({className:s},Ce(i,!0),{ref:t}),n)}),Vr=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function ZB(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var KB=ZB,GB=KB;function YB(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:GB(e,t,n)}var XB=YB,QB="\\ud800-\\udfff",JB="\\u0300-\\u036f",eF="\\ufe20-\\ufe2f",tF="\\u20d0-\\u20ff",nF=JB+eF+tF,rF="\\ufe0e\\ufe0f",iF="\\u200d",aF=RegExp("["+iF+QB+nF+rF+"]");function sF(e){return aF.test(e)}var aE=sF;function oF(e){return e.split("")}var lF=oF,sE="\\ud800-\\udfff",cF="\\u0300-\\u036f",uF="\\ufe20-\\ufe2f",dF="\\u20d0-\\u20ff",fF=cF+uF+dF,hF="\\ufe0e\\ufe0f",pF="["+sE+"]",a0="["+fF+"]",s0="\\ud83c[\\udffb-\\udfff]",mF="(?:"+a0+"|"+s0+")",oE="[^"+sE+"]",lE="(?:\\ud83c[\\udde6-\\uddff]){2}",cE="[\\ud800-\\udbff][\\udc00-\\udfff]",gF="\\u200d",uE=mF+"?",dE="["+hF+"]?",xF="(?:"+gF+"(?:"+[oE,lE,cE].join("|")+")"+dE+uE+")*",vF=dE+uE+xF,yF="(?:"+[oE+a0+"?",a0,lE,cE,pF].join("|")+")",bF=RegExp(s0+"(?="+s0+")|"+yF+vF,"g");function wF(e){return e.match(bF)||[]}var _F=wF,jF=lF,NF=aE,SF=_F;function PF(e){return NF(e)?SF(e):jF(e)}var AF=PF,EF=XB,OF=aE,CF=AF,TF=JA;function kF(e){return function(t){t=TF(t);var n=OF(t)?CF(t):void 0,r=n?n[0]:t.charAt(0),i=n?EF(n,1).join(""):t.slice(1);return r[e]()+i}}var MF=kF,LF=MF,IF=LF("toUpperCase"),RF=IF;const Ph=Ke(RF);function tt(e){return function(){return e}}const fE=Math.cos,Wd=Math.sin,cr=Math.sqrt,Hd=Math.PI,Ah=2*Hd,o0=Math.PI,l0=2*o0,na=1e-6,$F=l0-na;function hE(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function DF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hE;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class BF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hE:DF(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-t,f=i-n,p=l-t,h=c-n,g=p*p+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>na)if(!(Math.abs(h*d-f*p)>na)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let j=r-l,x=i-c,v=d*d+f*f,N=j*j+x*x,y=Math.sqrt(v),_=Math.sqrt(g),w=s*Math.tan((o0-Math.acos((v+g-N)/(2*y*_)))/2),P=w/_,S=w/y;Math.abs(P-1)>na&&this._append`L${t+P*p},${n+P*h}`,this._append`A${s},${s},0,0,${+(h*j>p*x)},${this._x1=t+S*d},${this._y1=n+S*f}`}}arc(t,n,r,i,s,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=t+c,p=n+d,h=1^l,g=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>na||Math.abs(this._y1-p)>na)&&this._append`L${f},${p}`,r&&(g<0&&(g=g%l0+l0),g>$F?this._append`A${r},${r},0,1,${h},${t-c},${n-d}A${r},${r},0,1,${h},${this._x1=f},${this._y1=p}`:g>na&&this._append`A${r},${r},0,${+(g>=o0)},${h},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Hv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new BF(t)}function Vv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pE(e){this._context=e}pE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eh(e){return new pE(e)}function mE(e){return e[0]}function gE(e){return e[1]}function xE(e,t){var n=tt(!0),r=null,i=Eh,s=null,l=Hv(c);e=typeof e=="function"?e:e===void 0?mE:tt(e),t=typeof t=="function"?t:t===void 0?gE:tt(t);function c(d){var f,p=(d=Vv(d)).length,h,g=!1,j;for(r==null&&(s=i(j=l())),f=0;f<=p;++f)!(f<p&&n(h=d[f],f,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(h,f,d),+t(h,f,d));if(j)return s=null,j+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:tt(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:tt(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:tt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function Iu(e,t,n){var r=null,i=tt(!0),s=null,l=Eh,c=null,d=Hv(f);e=typeof e=="function"?e:e===void 0?mE:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?gE:tt(+n);function f(h){var g,j,x,v=(h=Vv(h)).length,N,y=!1,_,w=new Array(v),P=new Array(v);for(s==null&&(c=l(_=d())),g=0;g<=v;++g){if(!(g<v&&i(N=h[g],g,h))===y)if(y=!y)j=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=g-1;x>=j;--x)c.point(w[x],P[x]);c.lineEnd(),c.areaEnd()}y&&(w[g]=+e(N,g,h),P[g]=+t(N,g,h),c.point(r?+r(N,g,h):w[g],n?+n(N,g,h):P[g]))}if(_)return c=null,_+""||null}function p(){return xE().defined(i).curve(l).context(s)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:tt(+h),r=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:tt(+h),f):e},f.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:tt(+h),f):r},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:tt(+h),n=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:tt(+h),f):t},f.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:tt(+h),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:tt(!!h),f):i},f.curve=function(h){return arguments.length?(l=h,s!=null&&(c=l(s)),f):l},f.context=function(h){return arguments.length?(h==null?s=c=null:c=l(s=h),f):s},f}class vE{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function FF(e){return new vE(e,!0)}function zF(e){return new vE(e,!1)}const Zv={draw(e,t){const n=cr(t/Hd);e.moveTo(n,0),e.arc(0,0,n,0,Ah)}},UF={draw(e,t){const n=cr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},yE=cr(1/3),qF=yE*2,WF={draw(e,t){const n=cr(t/qF),r=n*yE;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},HF={draw(e,t){const n=cr(t),r=-n/2;e.rect(r,r,n,n)}},VF=.8908130915292852,bE=Wd(Hd/10)/Wd(7*Hd/10),ZF=Wd(Ah/10)*bE,KF=-fE(Ah/10)*bE,GF={draw(e,t){const n=cr(t*VF),r=ZF*n,i=KF*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const l=Ah*s/5,c=fE(l),d=Wd(l);e.lineTo(d*n,-c*n),e.lineTo(c*r-d*i,d*r+c*i)}e.closePath()}},mm=cr(3),YF={draw(e,t){const n=-cr(t/(mm*3));e.moveTo(0,n*2),e.lineTo(-mm*n,-n),e.lineTo(mm*n,-n),e.closePath()}},Tn=-.5,kn=cr(3)/2,c0=1/cr(12),XF=(c0/2+1)*3,QF={draw(e,t){const n=cr(t/XF),r=n/2,i=n*c0,s=r,l=n*c0+n,c=-s,d=l;e.moveTo(r,i),e.lineTo(s,l),e.lineTo(c,d),e.lineTo(Tn*r-kn*i,kn*r+Tn*i),e.lineTo(Tn*s-kn*l,kn*s+Tn*l),e.lineTo(Tn*c-kn*d,kn*c+Tn*d),e.lineTo(Tn*r+kn*i,Tn*i-kn*r),e.lineTo(Tn*s+kn*l,Tn*l-kn*s),e.lineTo(Tn*c+kn*d,Tn*d-kn*c),e.closePath()}};function JF(e,t){let n=null,r=Hv(i);e=typeof e=="function"?e:tt(e||Zv),t=typeof t=="function"?t:tt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:tt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:tt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Vd(){}function Zd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wE(e){this._context=e}wE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ez(e){return new wE(e)}function _E(e){this._context=e}_E.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tz(e){return new _E(e)}function jE(e){this._context=e}jE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nz(e){return new jE(e)}function NE(e){this._context=e}NE.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rz(e){return new NE(e)}function Z1(e){return e<0?-1:1}function K1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(Z1(s)+Z1(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function G1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gm(e,t,n){var r=e._x0,i=e._y0,s=e._x1,l=e._y1,c=(s-r)/3;e._context.bezierCurveTo(r+c,i+c*t,s-c,l-c*n,s,l)}function Kd(e){this._context=e}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gm(this,this._t0,G1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gm(this,G1(this,n=K1(this,e,t)),n);break;default:gm(this,this._t0,n=K1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function SE(e){this._context=new PE(e)}(SE.prototype=Object.create(Kd.prototype)).point=function(e,t){Kd.prototype.point.call(this,t,e)};function PE(e){this._context=e}PE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function iz(e){return new Kd(e)}function az(e){return new SE(e)}function AE(e){this._context=e}AE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Y1(e),i=Y1(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y1(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function sz(e){return new AE(e)}function Oh(e,t){this._context=e,this._t=t}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function oz(e){return new Oh(e,.5)}function lz(e){return new Oh(e,0)}function cz(e){return new Oh(e,1)}function zs(e,t){if((l=e.length)>1)for(var n=1,r,i,s=e[t[0]],l,c=s.length;n<l;++n)for(i=s,s=e[t[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function u0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function uz(e,t){return e[t]}function dz(e){const t=[];return t.key=e,t}function fz(){var e=tt([]),t=u0,n=zs,r=uz;function i(s){var l=Array.from(e.apply(this,arguments),dz),c,d=l.length,f=-1,p;for(const h of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(h,l[c].key,f,s)]).data=h;for(c=0,p=Vv(t(l));c<d;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:tt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?u0:typeof s=="function"?s:tt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??zs,i):n},i}function hz(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}zs(e,t)}}function pz(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=e[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}zs(e,t)}}function mz(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var p=e[t[c]],h=p[r][1]||0,g=p[r-1][1]||0,j=(h-g)/2,x=0;x<c;++x){var v=e[t[x]],N=v[r][1]||0,y=v[r-1][1]||0;j+=N-y}d+=h,f+=j*h}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,zs(e,t)}}function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}var gz=["type","size","sizeType"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(this,arguments)}function X1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(n),!0).forEach(function(r){xz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xz(e,t,n){return t=vz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vz(e){var t=yz(e,"string");return ec(t)=="symbol"?t:t+""}function yz(e,t){if(ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bz(e,t){if(e==null)return{};var n=wz(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wz(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var EE={symbolCircle:Zv,symbolCross:UF,symbolDiamond:WF,symbolSquare:HF,symbolStar:GF,symbolTriangle:YF,symbolWye:QF},_z=Math.PI/180,jz=function(t){var n="symbol".concat(Ph(t));return EE[n]||Zv},Nz=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*_z;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Sz=function(t,n){EE["symbol".concat(Ph(t))]=n},Kv=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,s=i===void 0?64:i,l=t.sizeType,c=l===void 0?"area":l,d=bz(t,gz),f=Q1(Q1({},d),{},{type:r,size:s,sizeType:c}),p=function(){var N=jz(r),y=JF().type(N).size(Nz(s,c,r));return y()},h=f.className,g=f.cx,j=f.cy,x=Ce(f,!0);return g===+g&&j===+j&&s===+s?G.createElement("path",d0({},x,{className:Ie("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(j,")"),d:p()})):null};Kv.registerSymbol=Sz;function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(this,arguments)}function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(n),!0).forEach(function(r){tc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Az(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ez(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CE(r.key),r)}}function Oz(e,t,n){return t&&Ez(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cz(e,t,n){return t=Gd(t),Tz(e,OE()?Reflect.construct(t,n||[],Gd(e).constructor):t.apply(e,n))}function Tz(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kz(e)}function kz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OE=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(e)}function Mz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h0(e,t)}function h0(e,t){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h0(e,t)}function tc(e,t,n){return t=CE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CE(e){var t=Lz(e,"string");return Us(t)=="symbol"?t:t+""}function Lz(e,t){if(Us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mn=32,Gv=function(e){function t(){return Az(this,t),Cz(this,t,arguments)}return Mz(t,e),Oz(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Mn/2,l=Mn/6,c=Mn/3,d=r.inactive?i:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Mn,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Mn,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-Mn,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var f=Pz({},r);return delete f.legendIcon,G.cloneElement(r.legendIcon,f)}return G.createElement(Kv,{fill:d,cx:s,cy:s,size:Mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,l=i.iconSize,c=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Mn,height:Mn},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(j,x){var v=j.formatter||d,N=Ie(tc(tc({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",j.inactive));if(j.type==="none")return null;var y=Te(j.value)?null:j.value;Vr(!Te(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=j.inactive?f:j.color;return G.createElement("li",f0({className:N,style:h,key:"legend-item-".concat(x)},Sh(r.props,j,x)),G.createElement(r0,{width:l,height:l,viewBox:p,style:g},r.renderIcon(j)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(y,j,x):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,l=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(A.PureComponent);tc(Gv,"displayName","Legend");tc(Gv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Iz=dh;function Rz(){this.__data__=new Iz,this.size=0}var $z=Rz;function Dz(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Bz=Dz;function Fz(e){return this.__data__.get(e)}var zz=Fz;function Uz(e){return this.__data__.has(e)}var qz=Uz,Wz=dh,Hz=Rv,Vz=$v,Zz=200;function Kz(e,t){var n=this.__data__;if(n instanceof Wz){var r=n.__data__;if(!Hz||r.length<Zz-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vz(r)}return n.set(e,t),this.size=n.size,this}var Gz=Kz,Yz=dh,Xz=$z,Qz=Bz,Jz=zz,eU=qz,tU=Gz;function wo(e){var t=this.__data__=new Yz(e);this.size=t.size}wo.prototype.clear=Xz;wo.prototype.delete=Qz;wo.prototype.get=Jz;wo.prototype.has=eU;wo.prototype.set=tU;var TE=wo,nU="__lodash_hash_undefined__";function rU(e){return this.__data__.set(e,nU),this}var iU=rU;function aU(e){return this.__data__.has(e)}var sU=aU,oU=$v,lU=iU,cU=sU;function Yd(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new oU;++t<n;)this.add(e[t])}Yd.prototype.add=Yd.prototype.push=lU;Yd.prototype.has=cU;var kE=Yd;function uU(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var ME=uU;function dU(e,t){return e.has(t)}var LE=dU,fU=kE,hU=ME,pU=LE,mU=1,gU=2;function xU(e,t,n,r,i,s){var l=n&mU,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var h=-1,g=!0,j=n&gU?new fU:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var x=e[h],v=t[h];if(r)var N=l?r(v,x,h,t,e,s):r(x,v,h,e,t,s);if(N!==void 0){if(N)continue;g=!1;break}if(j){if(!hU(t,function(y,_){if(!pU(j,_)&&(x===y||i(x,y,n,r,s)))return j.push(_)})){g=!1;break}}else if(!(x===v||i(x,v,n,r,s))){g=!1;break}}return s.delete(e),s.delete(t),g}var IE=xU,vU=Cr,yU=vU.Uint8Array,bU=yU;function wU(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var _U=wU;function jU(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Yv=jU,e_=Wc,t_=bU,NU=Iv,SU=IE,PU=_U,AU=Yv,EU=1,OU=2,CU="[object Boolean]",TU="[object Date]",kU="[object Error]",MU="[object Map]",LU="[object Number]",IU="[object RegExp]",RU="[object Set]",$U="[object String]",DU="[object Symbol]",BU="[object ArrayBuffer]",FU="[object DataView]",n_=e_?e_.prototype:void 0,xm=n_?n_.valueOf:void 0;function zU(e,t,n,r,i,s,l){switch(n){case FU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case BU:return!(e.byteLength!=t.byteLength||!s(new t_(e),new t_(t)));case CU:case TU:case LU:return NU(+e,+t);case kU:return e.name==t.name&&e.message==t.message;case IU:case $U:return e==t+"";case MU:var c=PU;case RU:var d=r&EU;if(c||(c=AU),e.size!=t.size&&!d)return!1;var f=l.get(e);if(f)return f==t;r|=OU,l.set(e,t);var p=SU(c(e),c(t),r,i,s,l);return l.delete(e),p;case DU:if(xm)return xm.call(e)==xm.call(t)}return!1}var UU=zU;function qU(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var RE=qU,WU=RE,HU=mn;function VU(e,t,n){var r=t(e);return HU(e)?r:WU(r,n(e))}var ZU=VU;function KU(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var l=e[n];t(l,n,e)&&(s[i++]=l)}return s}var GU=KU;function YU(){return[]}var XU=YU,QU=GU,JU=XU,e7=Object.prototype,t7=e7.propertyIsEnumerable,r_=Object.getOwnPropertySymbols,n7=r_?function(e){return e==null?[]:(e=Object(e),QU(r_(e),function(t){return t7.call(e,t)}))}:JU,r7=n7;function i7(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var a7=i7,s7=ri,o7=ii,l7="[object Arguments]";function c7(e){return o7(e)&&s7(e)==l7}var u7=c7,i_=u7,d7=ii,$E=Object.prototype,f7=$E.hasOwnProperty,h7=$E.propertyIsEnumerable,p7=i_(function(){return arguments}())?i_:function(e){return d7(e)&&f7.call(e,"callee")&&!h7.call(e,"callee")},Xv=p7,Xd={exports:{}};function m7(){return!1}var g7=m7;Xd.exports;(function(e,t){var n=Cr,r=g7,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===i,c=l?n.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||r;e.exports=f})(Xd,Xd.exports);var DE=Xd.exports,x7=9007199254740991,v7=/^(?:0|[1-9]\d*)$/;function y7(e,t){var n=typeof e;return t=t??x7,!!t&&(n=="number"||n!="symbol"&&v7.test(e))&&e>-1&&e%1==0&&e<t}var Qv=y7,b7=9007199254740991;function w7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=b7}var Jv=w7,_7=ri,j7=Jv,N7=ii,S7="[object Arguments]",P7="[object Array]",A7="[object Boolean]",E7="[object Date]",O7="[object Error]",C7="[object Function]",T7="[object Map]",k7="[object Number]",M7="[object Object]",L7="[object RegExp]",I7="[object Set]",R7="[object String]",$7="[object WeakMap]",D7="[object ArrayBuffer]",B7="[object DataView]",F7="[object Float32Array]",z7="[object Float64Array]",U7="[object Int8Array]",q7="[object Int16Array]",W7="[object Int32Array]",H7="[object Uint8Array]",V7="[object Uint8ClampedArray]",Z7="[object Uint16Array]",K7="[object Uint32Array]",at={};at[F7]=at[z7]=at[U7]=at[q7]=at[W7]=at[H7]=at[V7]=at[Z7]=at[K7]=!0;at[S7]=at[P7]=at[D7]=at[A7]=at[B7]=at[E7]=at[O7]=at[C7]=at[T7]=at[k7]=at[M7]=at[L7]=at[I7]=at[R7]=at[$7]=!1;function G7(e){return N7(e)&&j7(e.length)&&!!at[_7(e)]}var Y7=G7;function X7(e){return function(t){return e(t)}}var BE=X7,Qd={exports:{}};Qd.exports;(function(e,t){var n=ZA,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,l=s&&n.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();e.exports=c})(Qd,Qd.exports);var Q7=Qd.exports,J7=Y7,e9=BE,a_=Q7,s_=a_&&a_.isTypedArray,t9=s_?e9(s_):J7,FE=t9,n9=a7,r9=Xv,i9=mn,a9=DE,s9=Qv,o9=FE,l9=Object.prototype,c9=l9.hasOwnProperty;function u9(e,t){var n=i9(e),r=!n&&r9(e),i=!n&&!r&&a9(e),s=!n&&!r&&!i&&o9(e),l=n||r||i||s,c=l?n9(e.length,String):[],d=c.length;for(var f in e)(t||c9.call(e,f))&&!(l&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||s9(f,d)))&&c.push(f);return c}var d9=u9,f9=Object.prototype;function h9(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||f9;return e===n}var p9=h9;function m9(e,t){return function(n){return e(t(n))}}var zE=m9,g9=zE,x9=g9(Object.keys,Object),v9=x9,y9=p9,b9=v9,w9=Object.prototype,_9=w9.hasOwnProperty;function j9(e){if(!y9(e))return b9(e);var t=[];for(var n in Object(e))_9.call(e,n)&&n!="constructor"&&t.push(n);return t}var N9=j9,S9=Lv,P9=Jv;function A9(e){return e!=null&&P9(e.length)&&!S9(e)}var Ch=A9,E9=d9,O9=N9,C9=Ch;function T9(e){return C9(e)?E9(e):O9(e)}var ey=T9,k9=ZU,M9=r7,L9=ey;function I9(e){return k9(e,L9,M9)}var R9=I9,o_=R9,$9=1,D9=Object.prototype,B9=D9.hasOwnProperty;function F9(e,t,n,r,i,s){var l=n&$9,c=o_(e),d=c.length,f=o_(t),p=f.length;if(d!=p&&!l)return!1;for(var h=d;h--;){var g=c[h];if(!(l?g in t:B9.call(t,g)))return!1}var j=s.get(e),x=s.get(t);if(j&&x)return j==t&&x==e;var v=!0;s.set(e,t),s.set(t,e);for(var N=l;++h<d;){g=c[h];var y=e[g],_=t[g];if(r)var w=l?r(_,y,g,t,e,s):r(y,_,g,e,t,s);if(!(w===void 0?y===_||i(y,_,n,r,s):w)){v=!1;break}N||(N=g=="constructor")}if(v&&!N){var P=e.constructor,S=t.constructor;P!=S&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof S=="function"&&S instanceof S)&&(v=!1)}return s.delete(e),s.delete(t),v}var z9=F9,U9=Da,q9=Cr,W9=U9(q9,"DataView"),H9=W9,V9=Da,Z9=Cr,K9=V9(Z9,"Promise"),G9=K9,Y9=Da,X9=Cr,Q9=Y9(X9,"Set"),UE=Q9,J9=Da,eq=Cr,tq=J9(eq,"WeakMap"),nq=tq,p0=H9,m0=Rv,g0=G9,x0=UE,v0=nq,qE=ri,_o=GA,l_="[object Map]",rq="[object Object]",c_="[object Promise]",u_="[object Set]",d_="[object WeakMap]",f_="[object DataView]",iq=_o(p0),aq=_o(m0),sq=_o(g0),oq=_o(x0),lq=_o(v0),ra=qE;(p0&&ra(new p0(new ArrayBuffer(1)))!=f_||m0&&ra(new m0)!=l_||g0&&ra(g0.resolve())!=c_||x0&&ra(new x0)!=u_||v0&&ra(new v0)!=d_)&&(ra=function(e){var t=qE(e),n=t==rq?e.constructor:void 0,r=n?_o(n):"";if(r)switch(r){case iq:return f_;case aq:return l_;case sq:return c_;case oq:return u_;case lq:return d_}return t});var cq=ra,vm=TE,uq=IE,dq=UU,fq=z9,h_=cq,p_=mn,m_=DE,hq=FE,pq=1,g_="[object Arguments]",x_="[object Array]",Ru="[object Object]",mq=Object.prototype,v_=mq.hasOwnProperty;function gq(e,t,n,r,i,s){var l=p_(e),c=p_(t),d=l?x_:h_(e),f=c?x_:h_(t);d=d==g_?Ru:d,f=f==g_?Ru:f;var p=d==Ru,h=f==Ru,g=d==f;if(g&&m_(e)){if(!m_(t))return!1;l=!0,p=!1}if(g&&!p)return s||(s=new vm),l||hq(e)?uq(e,t,n,r,i,s):dq(e,t,d,n,r,i,s);if(!(n&pq)){var j=p&&v_.call(e,"__wrapped__"),x=h&&v_.call(t,"__wrapped__");if(j||x){var v=j?e.value():e,N=x?t.value():t;return s||(s=new vm),i(v,N,n,r,s)}}return g?(s||(s=new vm),fq(e,t,n,r,i,s)):!1}var xq=gq,vq=xq,y_=ii;function WE(e,t,n,r,i){return e===t?!0:e==null||t==null||!y_(e)&&!y_(t)?e!==e&&t!==t:vq(e,t,n,r,WE,i)}var ty=WE,yq=TE,bq=ty,wq=1,_q=2;function jq(e,t,n,r){var i=n.length,s=i,l=!r;if(e==null)return!s;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){c=n[i];var d=c[0],f=e[d],p=c[1];if(l&&c[2]){if(f===void 0&&!(d in e))return!1}else{var h=new yq;if(r)var g=r(f,p,d,e,t,h);if(!(g===void 0?bq(p,f,wq|_q,r,h):g))return!1}}return!0}var Nq=jq,Sq=Bi;function Pq(e){return e===e&&!Sq(e)}var HE=Pq,Aq=HE,Eq=ey;function Oq(e){for(var t=Eq(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Aq(i)]}return t}var Cq=Oq;function Tq(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var VE=Tq,kq=Nq,Mq=Cq,Lq=VE;function Iq(e){var t=Mq(e);return t.length==1&&t[0][2]?Lq(t[0][0],t[0][1]):function(n){return n===e||kq(n,e,t)}}var Rq=Iq;function $q(e,t){return e!=null&&t in Object(e)}var Dq=$q,Bq=eE,Fq=Xv,zq=mn,Uq=Qv,qq=Jv,Wq=hh;function Hq(e,t,n){t=Bq(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var l=Wq(t[r]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&qq(i)&&Uq(l,i)&&(zq(e)||Fq(e)))}var Vq=Hq,Zq=Dq,Kq=Vq;function Gq(e,t){return e!=null&&Kq(e,t,Zq)}var Yq=Gq,Xq=ty,Qq=tE,Jq=Yq,eW=Mv,tW=HE,nW=VE,rW=hh,iW=1,aW=2;function sW(e,t){return eW(e)&&tW(t)?nW(rW(e),t):function(n){var r=Qq(n,e);return r===void 0&&r===t?Jq(n,e):Xq(t,r,iW|aW)}}var oW=sW;function lW(e){return e}var jo=lW;function cW(e){return function(t){return t==null?void 0:t[e]}}var uW=cW,dW=Fv;function fW(e){return function(t){return dW(t,e)}}var hW=fW,pW=uW,mW=hW,gW=Mv,xW=hh;function vW(e){return gW(e)?pW(xW(e)):mW(e)}var yW=vW,bW=Rq,wW=oW,_W=jo,jW=mn,NW=yW;function SW(e){return typeof e=="function"?e:e==null?_W:typeof e=="object"?jW(e)?wW(e[0],e[1]):bW(e):NW(e)}var Fi=SW;function PW(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var AW=PW;function EW(e){return e!==e}var OW=EW;function CW(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var TW=CW,kW=AW,MW=OW,LW=TW;function IW(e,t,n){return t===t?LW(e,t,n):kW(e,MW,n)}var RW=IW,$W=RW;function DW(e,t){var n=e==null?0:e.length;return!!n&&$W(e,t,0)>-1}var BW=DW;function FW(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var zW=FW;function UW(){}var qW=UW,ym=UE,WW=qW,HW=Yv,VW=1/0,ZW=ym&&1/HW(new ym([,-0]))[1]==VW?function(e){return new ym(e)}:WW,KW=ZW,GW=kE,YW=BW,XW=zW,QW=LE,JW=KW,eH=Yv,tH=200;function nH(e,t,n){var r=-1,i=YW,s=e.length,l=!0,c=[],d=c;if(n)l=!1,i=XW;else if(s>=tH){var f=t?null:JW(e);if(f)return eH(f);l=!1,i=QW,d=new GW}else d=t?[]:c;e:for(;++r<s;){var p=e[r],h=t?t(p):p;if(p=n||p!==0?p:0,l&&h===h){for(var g=d.length;g--;)if(d[g]===h)continue e;t&&d.push(h),c.push(p)}else i(d,h,n)||(d!==c&&d.push(h),c.push(p))}return c}var rH=nH,iH=Fi,aH=rH;function sH(e,t){return e&&e.length?aH(e,iH(t)):[]}var oH=sH;const b_=Ke(oH);function ZE(e,t,n){return t===!0?b_(e,n):Te(t)?b_(e,t):e}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}var lH=["ref"];function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(r){Th(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GE(r.key),r)}}function uH(e,t,n){return t&&__(e.prototype,t),n&&__(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dH(e,t,n){return t=Jd(t),fH(e,KE()?Reflect.construct(t,n||[],Jd(e).constructor):t.apply(e,n))}function fH(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hH(e)}function hH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KE=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(e)}function pH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y0(e,t)}function y0(e,t){return y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y0(e,t)}function Th(e,t,n){return t=GE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GE(e){var t=mH(e,"string");return qs(t)=="symbol"?t:t+""}function mH(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gH(e,t){if(e==null)return{};var n=xH(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xH(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vH(e){return e.value}function yH(e,t){if(G.isValidElement(e))return G.cloneElement(e,t);if(typeof e=="function")return G.createElement(e,t);t.ref;var n=gH(t,lH);return G.createElement(Gv,n)}var j_=1,wa=function(e){function t(){var n;cH(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=dH(this,t,[].concat(i)),Th(n,"lastBoundingBox",{width:-1,height:-1}),n}return pH(t,e),uH(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>j_||Math.abs(i.height-this.lastBoundingBox.height)>j_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ir({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,l=i.align,c=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,h,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&s==="vertical"){var j=this.getBBoxSnapshot();h={left:((f||0)-j.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var x=this.getBBoxSnapshot();g={top:((p||0)-x.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ir(Ir({},h),g)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,l=i.width,c=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,h=Ir(Ir({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return G.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(j){r.wrapperNode=j}},yH(s,Ir(Ir({},this.props),{},{payload:ZE(p,f,vH)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ir(Ir({},this.defaultProps),r.props),l=s.layout;return l==="vertical"&&ge(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||i}:null}}])}(A.PureComponent);Th(wa,"displayName","Legend");Th(wa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var N_=Wc,bH=Xv,wH=mn,S_=N_?N_.isConcatSpreadable:void 0;function _H(e){return wH(e)||bH(e)||!!(S_&&e&&e[S_])}var jH=_H,NH=RE,SH=jH;function YE(e,t,n,r,i){var s=-1,l=e.length;for(n||(n=SH),i||(i=[]);++s<l;){var c=e[s];t>0&&n(c)?t>1?YE(c,t-1,n,r,i):NH(i,c):r||(i[i.length]=c)}return i}var XE=YE;function PH(e){return function(t,n,r){for(var i=-1,s=Object(t),l=r(t),c=l.length;c--;){var d=l[e?c:++i];if(n(s[d],d,s)===!1)break}return t}}var AH=PH,EH=AH,OH=EH(),CH=OH,TH=CH,kH=ey;function MH(e,t){return e&&TH(e,t,kH)}var QE=MH,LH=Ch;function IH(e,t){return function(n,r){if(n==null)return n;if(!LH(n))return e(n,r);for(var i=n.length,s=t?i:-1,l=Object(n);(t?s--:++s<i)&&r(l[s],s,l)!==!1;);return n}}var RH=IH,$H=QE,DH=RH,BH=DH($H),ny=BH,FH=ny,zH=Ch;function UH(e,t){var n=-1,r=zH(e)?Array(e.length):[];return FH(e,function(i,s,l){r[++n]=t(i,s,l)}),r}var JE=UH;function qH(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var WH=qH,P_=go;function HH(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=P_(e),l=t!==void 0,c=t===null,d=t===t,f=P_(t);if(!c&&!f&&!s&&e>t||s&&l&&d&&!c&&!f||r&&l&&d||!n&&d||!i)return 1;if(!r&&!s&&!f&&e<t||f&&n&&i&&!r&&!s||c&&n&&i||!l&&i||!d)return-1}return 0}var VH=HH,ZH=VH;function KH(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,l=i.length,c=n.length;++r<l;){var d=ZH(i[r],s[r]);if(d){if(r>=c)return d;var f=n[r];return d*(f=="desc"?-1:1)}}return e.index-t.index}var GH=KH,bm=Bv,YH=Fv,XH=Fi,QH=JE,JH=WH,eV=BE,tV=GH,nV=jo,rV=mn;function iV(e,t,n){t.length?t=bm(t,function(s){return rV(s)?function(l){return YH(l,s.length===1?s[0]:s)}:s}):t=[nV];var r=-1;t=bm(t,eV(XH));var i=QH(e,function(s,l,c){var d=bm(t,function(f){return f(s)});return{criteria:d,index:++r,value:s}});return JH(i,function(s,l){return tV(s,l,n)})}var aV=iV;function sV(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var oV=sV,lV=oV,A_=Math.max;function cV(e,t,n){return t=A_(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=A_(r.length-t,0),l=Array(s);++i<s;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(l),lV(e,this,c)}}var uV=cV;function dV(e){return function(){return e}}var fV=dV,hV=Da,pV=function(){try{var e=hV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),eO=pV,mV=fV,E_=eO,gV=jo,xV=E_?function(e,t){return E_(e,"toString",{configurable:!0,enumerable:!1,value:mV(t),writable:!0})}:gV,vV=xV,yV=800,bV=16,wV=Date.now;function _V(e){var t=0,n=0;return function(){var r=wV(),i=bV-(r-n);if(n=r,i>0){if(++t>=yV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var jV=_V,NV=vV,SV=jV,PV=SV(NV),AV=PV,EV=jo,OV=uV,CV=AV;function TV(e,t){return CV(OV(e,t,EV),e+"")}var kV=TV,MV=Iv,LV=Ch,IV=Qv,RV=Bi;function $V(e,t,n){if(!RV(n))return!1;var r=typeof t;return(r=="number"?LV(n)&&IV(t,n.length):r=="string"&&t in n)?MV(n[t],e):!1}var kh=$V,DV=XE,BV=aV,FV=kV,O_=kh,zV=FV(function(e,t){if(e==null)return[];var n=t.length;return n>1&&O_(e,t[0],t[1])?t=[]:n>2&&O_(t[0],t[1],t[2])&&(t=[t[0]]),BV(e,DV(t,1),[])}),UV=zV;const ry=Ke(UV);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(this,arguments)}function qV(e,t){return ZV(e)||VV(e,t)||HV(e,t)||WV()}function WV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HV(e,t){if(e){if(typeof e=="string")return C_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(e,t)}}function C_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function ZV(e){if(Array.isArray(e))return e}function T_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(n),!0).forEach(function(r){KV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KV(e,t,n){return t=GV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var t=YV(e,"string");return nc(t)=="symbol"?t:t+""}function YV(e,t){if(nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XV(e){return Array.isArray(e)&&Mt(e[0])&&Mt(e[1])?e.join(" ~ "):e}var QV=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,s=i===void 0?{}:i,l=t.itemStyle,c=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,h=t.formatter,g=t.itemSorter,j=t.wrapperClassName,x=t.labelClassName,v=t.label,N=t.labelFormatter,y=t.accessibilityLayer,_=y===void 0?!1:y,w=function(){if(p&&p.length){var F={padding:0,margin:0},W=(g?ry(p,g):p).map(function(z,V){if(z.type==="none")return null;var X=wm({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},c),ne=z.formatter||h||XV,B=z.value,J=z.name,$=B,K=J;if(ne&&$!=null&&K!=null){var ee=ne(B,J,z,V,p);if(Array.isArray(ee)){var le=qV(ee,2);$=le[0],K=le[1]}else $=ee}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:X},Mt(K)?G.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Mt(K)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},$),G.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:F},W)}return null},P=wm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=wm({margin:0},f),E=!Be(v),C=E?v:"",T=Ie("recharts-default-tooltip",j),I=Ie("recharts-tooltip-label",x);E&&N&&p!==void 0&&p!==null&&(C=N(v,p));var M=_?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",b0({className:T,style:P},M),G.createElement("p",{className:I,style:S},G.isValidElement(C)?C:"".concat(C)),w())};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function $u(e,t,n){return t=JV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=eZ(e,"string");return rc(t)=="symbol"?t:t+""}function eZ(e,t){if(rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xo="recharts-tooltip-wrapper",tZ={visibility:"hidden"};function nZ(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ie(Xo,$u($u($u($u({},"".concat(Xo,"-right"),ge(n)&&t&&ge(t.x)&&n>=t.x),"".concat(Xo,"-left"),ge(n)&&t&&ge(t.x)&&n<t.x),"".concat(Xo,"-bottom"),ge(r)&&t&&ge(t.y)&&r>=t.y),"".concat(Xo,"-top"),ge(r)&&t&&ge(t.y)&&r<t.y))}function k_(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,s=e.position,l=e.reverseDirection,c=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(s&&ge(s[r]))return s[r];var p=n[r]-c-i,h=n[r]+i;if(t[r])return l[r]?p:h;if(l[r]){var g=p,j=d[r];return g<j?Math.max(h,d[r]):Math.max(p,d[r])}var x=h+c,v=d[r]+f;return x>v?Math.max(p,d[r]):Math.max(h,d[r])}function rZ(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function iZ(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox,f,p,h;return l.height>0&&l.width>0&&n?(p=k_({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=k_({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=rZ({translateX:p,translateY:h,useTranslate3d:c})):f=tZ,{cssProperties:f,cssClasses:nZ({translateX:p,translateY:h,coordinate:n})}}function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function M_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(n),!0).forEach(function(r){_0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nO(r.key),r)}}function oZ(e,t,n){return t&&sZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lZ(e,t,n){return t=ef(t),cZ(e,tO()?Reflect.construct(t,n||[],ef(e).constructor):t.apply(e,n))}function cZ(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uZ(e)}function uZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(e)}function dZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w0(e,t)}function w0(e,t){return w0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w0(e,t)}function _0(e,t,n){return t=nO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nO(e){var t=fZ(e,"string");return Ws(t)=="symbol"?t:t+""}function fZ(e,t){if(Ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I_=1,hZ=function(e){function t(){var n;aZ(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=lZ(this,t,[].concat(i)),_0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_0(n,"handleKeyDown",function(l){if(l.key==="Escape"){var c,d,f,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),n}return dZ(t,e),oZ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>I_||Math.abs(r.height-this.state.lastBoundingBox.height)>I_)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,j=i.offset,x=i.position,v=i.reverseDirection,N=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,w=iZ({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:j,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:y}),P=w.cssClasses,S=w.cssProperties,E=L_(L_({transition:g&&s?"transform ".concat(c,"ms ").concat(d):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return G.createElement("div",{tabIndex:-1,className:P,style:E,ref:function(T){r.wrapperNode=T}},f)}}])}(A.PureComponent),pZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mh={isSsr:pZ()};function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function R_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(n),!0).forEach(function(r){iy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iO(r.key),r)}}function xZ(e,t,n){return t&&gZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vZ(e,t,n){return t=tf(t),yZ(e,rO()?Reflect.construct(t,n||[],tf(e).constructor):t.apply(e,n))}function yZ(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bZ(e)}function bZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rO=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(e)}function wZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j0(e,t)}function j0(e,t){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j0(e,t)}function iy(e,t,n){return t=iO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iO(e){var t=_Z(e,"string");return Hs(t)=="symbol"?t:t+""}function _Z(e,t){if(Hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jZ(e){return e.dataKey}function NZ(e,t){return G.isValidElement(e)?G.cloneElement(e,t):typeof e=="function"?G.createElement(e,t):G.createElement(QV,t)}var xr=function(e){function t(){return mZ(this,t),vZ(this,t,arguments)}return wZ(t,e),xZ(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,h=i.filterNull,g=i.isAnimationActive,j=i.offset,x=i.payload,v=i.payloadUniqBy,N=i.position,y=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,P=i.wrapperStyle,S=x??[];h&&S.length&&(S=ZE(x.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),v,jZ));var E=S.length>0;return G.createElement(hZ,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:g,active:s,coordinate:p,hasPayload:E,offset:j,position:N,reverseDirection:y,useTranslate3d:_,viewBox:w,wrapperStyle:P},NZ(f,$_($_({},this.props),{},{payload:S})))}}])}(A.PureComponent);iy(xr,"displayName","Tooltip");iy(xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var SZ=Cr,PZ=function(){return SZ.Date.now()},AZ=PZ,EZ=/\s/;function OZ(e){for(var t=e.length;t--&&EZ.test(e.charAt(t)););return t}var CZ=OZ,TZ=CZ,kZ=/^\s+/;function MZ(e){return e&&e.slice(0,TZ(e)+1).replace(kZ,"")}var LZ=MZ,IZ=LZ,D_=Bi,RZ=go,B_=NaN,$Z=/^[-+]0x[0-9a-f]+$/i,DZ=/^0b[01]+$/i,BZ=/^0o[0-7]+$/i,FZ=parseInt;function zZ(e){if(typeof e=="number")return e;if(RZ(e))return B_;if(D_(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=D_(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=IZ(e);var n=DZ.test(e);return n||BZ.test(e)?FZ(e.slice(2),n?2:8):$Z.test(e)?B_:+e}var aO=zZ,UZ=Bi,_m=AZ,F_=aO,qZ="Expected a function",WZ=Math.max,HZ=Math.min;function VZ(e,t,n){var r,i,s,l,c,d,f=0,p=!1,h=!1,g=!0;if(typeof e!="function")throw new TypeError(qZ);t=F_(t)||0,UZ(n)&&(p=!!n.leading,h="maxWait"in n,s=h?WZ(F_(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g);function j(E){var C=r,T=i;return r=i=void 0,f=E,l=e.apply(T,C),l}function x(E){return f=E,c=setTimeout(y,t),p?j(E):l}function v(E){var C=E-d,T=E-f,I=t-C;return h?HZ(I,s-T):I}function N(E){var C=E-d,T=E-f;return d===void 0||C>=t||C<0||h&&T>=s}function y(){var E=_m();if(N(E))return _(E);c=setTimeout(y,v(E))}function _(E){return c=void 0,g&&r?j(E):(r=i=void 0,l)}function w(){c!==void 0&&clearTimeout(c),f=0,r=d=i=c=void 0}function P(){return c===void 0?l:_(_m())}function S(){var E=_m(),C=N(E);if(r=arguments,i=this,d=E,C){if(c===void 0)return x(d);if(h)return clearTimeout(c),c=setTimeout(y,t),j(d)}return c===void 0&&(c=setTimeout(y,t)),l}return S.cancel=w,S.flush=P,S}var ZZ=VZ,KZ=ZZ,GZ=Bi,YZ="Expected a function";function XZ(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(YZ);return GZ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),KZ(e,t,{leading:r,maxWait:t,trailing:i})}var QZ=XZ;const sO=Ke(QZ);function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(n),!0).forEach(function(r){JZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JZ(e,t,n){return t=eK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=tK(e,"string");return ic(t)=="symbol"?t:t+""}function tK(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nK(e,t){return sK(e)||aK(e,t)||iK(e,t)||rK()}function rK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iK(e,t){if(e){if(typeof e=="string")return U_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function sK(e){if(Array.isArray(e))return e}var oK=A.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=e.width,l=s===void 0?"100%":s,c=e.height,d=c===void 0?"100%":c,f=e.minWidth,p=f===void 0?0:f,h=e.minHeight,g=e.maxHeight,j=e.children,x=e.debounce,v=x===void 0?0:x,N=e.id,y=e.className,_=e.onResize,w=e.style,P=w===void 0?{}:w,S=A.useRef(null),E=A.useRef();E.current=_,A.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=A.useState({containerWidth:i.width,containerHeight:i.height}),T=nK(C,2),I=T[0],M=T[1],R=A.useCallback(function(W,z){M(function(V){var X=Math.round(W),ne=Math.round(z);return V.containerWidth===X&&V.containerHeight===ne?V:{containerWidth:X,containerHeight:ne}})},[]);A.useEffect(function(){var W=function(J){var $,K=J[0].contentRect,ee=K.width,le=K.height;R(ee,le),($=E.current)===null||$===void 0||$.call(E,ee,le)};v>0&&(W=sO(W,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(W),V=S.current.getBoundingClientRect(),X=V.width,ne=V.height;return R(X,ne),z.observe(S.current),function(){z.disconnect()}},[R,v]);var F=A.useMemo(function(){var W=I.containerWidth,z=I.containerHeight;if(W<0||z<0)return null;Vr(da(l)||da(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Vr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=da(l)?W:l,X=da(d)?z:d;n&&n>0&&(V?X=V/n:X&&(V=X*n),g&&X>g&&(X=g)),Vr(V>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,X,l,d,p,h,n);var ne=!Array.isArray(j)&&Hr(j.type).endsWith("Chart");return G.Children.map(j,function(B){return G.isValidElement(B)?A.cloneElement(B,Du({width:V,height:X},ne?{style:Du({height:"100%",width:"100%",maxHeight:X,maxWidth:V},B.props.style)}:{})):B})},[n,j,d,g,h,p,I,l]);return G.createElement("div",{id:N?"".concat(N):void 0,className:Ie("recharts-responsive-container",y),style:Du(Du({},P),{},{width:l,height:d,minWidth:p,minHeight:h,maxHeight:g}),ref:S},F)}),ay=function(t){return null};ay.displayName="Cell";function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(n),!0).forEach(function(r){lK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lK(e,t,n){return t=cK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=uK(e,"string");return ac(t)=="symbol"?t:t+""}function uK(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts={widthCache:{},cacheCount:0},dK=2e3,fK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},W_="recharts_measurement_span";function hK(e){var t=N0({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var H_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mh.isSsr)return{width:0,height:0};var r=hK(n),i=JSON.stringify({text:t,copyStyle:r});if(ts.widthCache[i])return ts.widthCache[i];try{var s=document.getElementById(W_);s||(s=document.createElement("span"),s.setAttribute("id",W_),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=N0(N0({},fK),r);Object.assign(s.style,l),s.textContent="".concat(t);var c=s.getBoundingClientRect(),d={width:c.width,height:c.height};return ts.widthCache[i]=d,++ts.cacheCount>dK&&(ts.cacheCount=0,ts.widthCache={}),d}catch{return{width:0,height:0}}},pK=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function nf(e,t){return vK(e)||xK(e,t)||gK(e,t)||mK()}function mK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gK(e,t){if(e){if(typeof e=="string")return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function vK(e){if(Array.isArray(e))return e}function yK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wK(r.key),r)}}function bK(e,t,n){return t&&Z_(e.prototype,t),n&&Z_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wK(e){var t=_K(e,"string");return sc(t)=="symbol"?t:t+""}function _K(e,t){if(sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var K_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SK=Object.keys(oO),gs="NaN";function PK(e,t){return e*oO[t]}var Bu=function(){function e(t,n){yK(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!jK.test(n)&&(this.num=NaN,this.unit=""),SK.includes(n)&&(this.num=PK(t,n),this.unit="px")}return bK(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=NK.exec(n))!==null&&r!==void 0?r:[],s=nf(i,3),l=s[1],c=s[2];return new e(parseFloat(l),c??"")}}])}();function lO(e){if(e.includes(gs))return gs;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=K_.exec(t))!==null&&n!==void 0?n:[],i=nf(r,4),s=i[1],l=i[2],c=i[3],d=Bu.parse(s??""),f=Bu.parse(c??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return gs;t=t.replace(K_,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=G_.exec(t))!==null&&h!==void 0?h:[],j=nf(g,4),x=j[1],v=j[2],N=j[3],y=Bu.parse(x??""),_=Bu.parse(N??""),w=v==="+"?y.add(_):y.subtract(_);if(w.isNaN())return gs;t=t.replace(G_,w.toString())}return t}var Y_=/\(([^()]*)\)/;function AK(e){for(var t=e;t.includes("(");){var n=Y_.exec(t),r=nf(n,2),i=r[1];t=t.replace(Y_,lO(i))}return t}function EK(e){var t=e.replace(/\s+/g,"");return t=AK(t),t=lO(t),t}function OK(e){try{return EK(e)}catch{return gs}}function jm(e){var t=OK(e.slice(5,-1));return t===gs?"":t}var CK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],TK=["dx","dy","angle","className","breakAll"];function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(this,arguments)}function X_(e,t){if(e==null)return{};var n=kK(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q_(e,t){return RK(e)||IK(e,t)||LK(e,t)||MK()}function MK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LK(e,t){if(e){if(typeof e=="string")return J_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(e,t)}}function J_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function RK(e){if(Array.isArray(e))return e}var cO=/[ \f\n\r\t\v\u2028\u2029]+/,uO=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var s=[];Be(n)||(r?s=n.toString().split(""):s=n.toString().split(cO));var l=s.map(function(d){return{word:d,width:H_(d,i).width}}),c=r?0:H_("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},$K=function(t,n,r,i,s){var l=t.maxLines,c=t.children,d=t.style,f=t.breakAll,p=ge(l),h=c,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(X,ne){var B=ne.word,J=ne.width,$=X[X.length-1];if($&&(i==null||s||$.width+J+r<Number(i)))$.words.push(B),$.width+=J+r;else{var K={words:[B],width:J};X.push(K)}return X},[])},j=g(n),x=function(V){return V.reduce(function(X,ne){return X.width>ne.width?X:ne})};if(!p)return j;for(var v="",N=function(V){var X=h.slice(0,V),ne=uO({breakAll:f,style:d,children:X+v}).wordsWithComputedWidth,B=g(ne),J=B.length>l||x(B).width>Number(i);return[J,B]},y=0,_=h.length-1,w=0,P;y<=_&&w<=h.length-1;){var S=Math.floor((y+_)/2),E=S-1,C=N(E),T=Q_(C,2),I=T[0],M=T[1],R=N(S),F=Q_(R,1),W=F[0];if(!I&&!W&&(y=S+1),I&&W&&(_=S-1),!I&&W){P=M;break}w++}return P||j},ej=function(t){var n=Be(t)?[]:t.toString().split(cO);return[{words:n}]},DK=function(t){var n=t.width,r=t.scaleToFit,i=t.children,s=t.style,l=t.breakAll,c=t.maxLines;if((n||r)&&!Mh.isSsr){var d,f,p=uO({breakAll:l,children:i,style:s});if(p){var h=p.wordsWithComputedWidth,g=p.spaceWidth;d=h,f=g}else return ej(i);return $K({breakAll:l,children:i,maxLines:c,style:s},d,f,n,r)}return ej(i)},tj="#808080",Vs=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,l=t.lineHeight,c=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,h=p===void 0?!1:p,g=t.textAnchor,j=g===void 0?"start":g,x=t.verticalAnchor,v=x===void 0?"end":x,N=t.fill,y=N===void 0?tj:N,_=X_(t,CK),w=A.useMemo(function(){return DK({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),P=_.dx,S=_.dy,E=_.angle,C=_.className,T=_.breakAll,I=X_(_,TK);if(!Mt(r)||!Mt(s))return null;var M=r+(ge(P)?P:0),R=s+(ge(S)?S:0),F;switch(v){case"start":F=jm("calc(".concat(f,")"));break;case"middle":F=jm("calc(".concat((w.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:F=jm("calc(".concat(w.length-1," * -").concat(c,")"));break}var W=[];if(h){var z=w[0].width,V=_.width;W.push("scale(".concat((ge(V)?V/z:1)/z,")"))}return E&&W.push("rotate(".concat(E,", ").concat(M,", ").concat(R,")")),W.length&&(I.transform=W.join(" ")),G.createElement("text",S0({},Ce(I,!0),{x:M,y:R,className:Ie("recharts-text",C),textAnchor:j,fill:y.includes("url")?tj:y}),w.map(function(X,ne){var B=X.words.join(T?"":" ");return G.createElement("tspan",{x:M,dy:ne===0?F:c,key:"".concat(B,"-").concat(ne)},B)}))};function Ei(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sy(e){let t,n,r;e.length!==2?(t=Ei,n=(c,d)=>Ei(e(c),d),r=(c,d)=>e(c)-d):(t=e===Ei||e===BK?e:FK,n=e,r=e);function i(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;n(c[h],d)<0?f=h+1:p=h}while(f<p)}return f}function s(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;n(c[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function l(c,d,f=0,p=c.length){const h=i(c,d,f,p-1);return h>f&&r(c[h-1],d)>-r(c[h],d)?h-1:h}return{left:i,center:l,right:s}}function FK(){return 0}function dO(e){return e===null?NaN:+e}function*zK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const UK=sy(Ei),Zc=UK.right;sy(dO).center;class nj extends Map{constructor(t,n=HK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rj(this,t))}has(t){return super.has(rj(this,t))}set(t,n){return super.set(qK(this,t),n)}delete(t){return super.delete(WK(this,t))}}function rj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function WK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function HK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VK(e=Ei){if(e===Ei)return fO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function fO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ZK=Math.sqrt(50),KK=Math.sqrt(10),GK=Math.sqrt(2);function rf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=ZK?10:s>=KK?5:s>=GK?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?rf(e,t,n*2):[c,d,f]}function P0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,l]=r?rf(t,e,n):rf(e,t,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function A0(e,t,n){return t=+t,e=+e,n=+n,rf(e,t,n)[2]}function E0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?A0(t,e,n):A0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ij(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hO(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?fO:VK(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,p=Math.log(d),h=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),j=Math.max(n,Math.floor(t-f*h/d+g)),x=Math.min(r,Math.floor(t+(d-f)*h/d+g));hO(e,t,j,x,i)}const s=e[t];let l=n,c=r;for(Qo(e,n,t),i(e[r],s)>0&&Qo(e,n,r);l<c;){for(Qo(e,l,c),++l,--c;i(e[l],s)<0;)++l;for(;i(e[c],s)>0;)--c}i(e[n],s)===0?Qo(e,n,c):(++c,Qo(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Qo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function YK(e,t,n){if(e=Float64Array.from(zK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return aj(e);if(t>=1)return ij(e);var r,i=(r-1)*t,s=Math.floor(i),l=ij(hO(e,s).subarray(0,s+1)),c=aj(e.subarray(s+1));return l+(c-l)*(i-s)}}function XK(e,t,n=dO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),l=+n(e[s],s,e),c=+n(e[s+1],s+1,e);return l+(c-l)*(i-s)}}function QK(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ai(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const O0=Symbol("implicit");function oy(){var e=new nj,t=[],n=[],r=O0;function i(s){let l=e.get(s);if(l===void 0){if(r!==O0)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new nj;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return oy(t,n).unknown(r)},Vn.apply(i,arguments),i}function oc(){var e=oy().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,l,c=!1,d=0,f=0,p=.5;delete e.unknown;function h(){var g=t().length,j=i<r,x=j?i:r,v=j?r:i;s=(v-x)/Math.max(1,g-d+f*2),c&&(s=Math.floor(s)),x+=(v-x-s*(g-d))*p,l=s*(1-d),c&&(x=Math.round(x),l=Math.round(l));var N=QK(g).map(function(y){return x+s*y});return n(j?N.reverse():N)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,h()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(g){return arguments.length?(c=!!g,h()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),h()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),h()):p},e.copy=function(){return oc(t(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},Vn.apply(h(),arguments)}function pO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pO(t())},e}function Pl(){return pO(oc.apply(null,arguments).paddingInner(1))}function ly(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Kc(){}var lc=.7,af=1/lc,Ps="\\s*([+-]?\\d+)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JK=/^#([0-9a-f]{3,8})$/,eG=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),tG=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),nG=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${cc}\\)$`),rG=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${cc}\\)$`),iG=new RegExp(`^hsl\\(${cc},${Nr},${Nr}\\)$`),aG=new RegExp(`^hsla\\(${cc},${Nr},${Nr},${cc}\\)$`),sj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ly(Kc,uc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oj,formatHex:oj,formatHex8:sG,formatHsl:oG,formatRgb:lj,toString:lj});function oj(){return this.rgb().formatHex()}function sG(){return this.rgb().formatHex8()}function oG(){return gO(this).formatHsl()}function lj(){return this.rgb().formatRgb()}function uc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=JK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cj(t):n===3?new cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eG.exec(e))?new cn(t[1],t[2],t[3],1):(t=tG.exec(e))?new cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nG.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=rG.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iG.exec(e))?fj(t[1],t[2]/100,t[3]/100,1):(t=aG.exec(e))?fj(t[1],t[2]/100,t[3]/100,t[4]):sj.hasOwnProperty(e)?cj(sj[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function cj(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,n,r){return r<=0&&(e=t=n=NaN),new cn(e,t,n,r)}function lG(e){return e instanceof Kc||(e=uc(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function C0(e,t,n,r){return arguments.length===1?lG(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ly(cn,C0,mO(Kc,{brighter(e){return e=e==null?af:Math.pow(af,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(_a(this.r),_a(this.g),_a(this.b),sf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uj,formatHex:uj,formatHex8:cG,formatRgb:dj,toString:dj}));function uj(){return`#${fa(this.r)}${fa(this.g)}${fa(this.b)}`}function cG(){return`#${fa(this.r)}${fa(this.g)}${fa(this.b)}${fa((isNaN(this.opacity)?1:this.opacity)*255)}`}function dj(){const e=sf(this.opacity);return`${e===1?"rgb(":"rgba("}${_a(this.r)}, ${_a(this.g)}, ${_a(this.b)}${e===1?")":`, ${e})`}`}function sf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _a(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fa(e){return e=_a(e),(e<16?"0":"")+e.toString(16)}function fj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new er(e,t,n,r)}function gO(e){if(e instanceof er)return new er(e.h,e.s,e.l,e.opacity);if(e instanceof Kc||(e=uc(e)),!e)return new er;if(e instanceof er)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(t===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-t)/c+2:l=(t-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new er(l,c,d,e.opacity)}function uG(e,t,n,r){return arguments.length===1?gO(e):new er(e,t,n,r??1)}function er(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ly(er,uG,mO(Kc,{brighter(e){return e=e==null?af:Math.pow(af,e),new er(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new er(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new cn(Nm(e>=240?e-240:e+120,i,r),Nm(e,i,r),Nm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new er(hj(this.h),zu(this.s),zu(this.l),sf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sf(this.opacity);return`${e===1?"hsl(":"hsla("}${hj(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hj(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function Nm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cy=e=>()=>e;function dG(e,t){return function(n){return e+n*t}}function fG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hG(e){return(e=+e)==1?xO:function(t,n){return n-t?fG(t,n,e):cy(isNaN(t)?n:t)}}function xO(e,t){var n=t-e;return n?dG(e,n):cy(isNaN(e)?t:e)}const pj=function e(t){var n=hG(t);function r(i,s){var l=n((i=C0(i)).r,(s=C0(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=xO(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=e,r}(1);function pG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function mG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=No(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function xG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function of(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=No(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var T0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sm=new RegExp(T0.source,"g");function yG(e){return function(){return e}}function bG(e){return function(t){return e(t)+""}}function wG(e,t){var n=T0.lastIndex=Sm.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(e=e+"",t=t+"";(r=T0.exec(e))&&(i=Sm.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:of(r,i)})),n=Sm.lastIndex;return n<t.length&&(s=t.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?bG(d[0].x):yG(t):(t=d.length,function(f){for(var p=0,h;p<t;++p)c[(h=d[p]).i]=h.x(f);return c.join("")})}function No(e,t){var n=typeof t,r;return t==null||n==="boolean"?cy(t):(n==="number"?of:n==="string"?(r=uc(t))?(t=r,pj):wG:t instanceof uc?pj:t instanceof Date?xG:mG(t)?pG:Array.isArray(t)?gG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vG:of)(e,t)}function uy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function _G(e,t){t===void 0&&(t=e,e=No);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function jG(e){return function(){return e}}function lf(e){return+e}var mj=[0,1];function Jt(e){return e}function k0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jG(isNaN(t)?NaN:.5)}function NG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function SG(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=k0(i,r),s=n(l,s)):(r=k0(r,i),s=n(s,l)),function(c){return s(r(c))}}function PG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=k0(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(c){var d=Zc(e,c,1,r)-1;return s[d](i[d](c))}}function Gc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lh(){var e=mj,t=mj,n=No,r,i,s,l=Jt,c,d,f;function p(){var g=Math.min(e.length,t.length);return l!==Jt&&(l=NG(e[0],e[g-1])),c=g>2?PG:SG,d=f=null,h}function h(g){return g==null||isNaN(g=+g)?s:(d||(d=c(e.map(r),t,n)))(r(l(g)))}return h.invert=function(g){return l(i((f||(f=c(t,e.map(r),of)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,lf),p()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),n=uy,p()},h.clamp=function(g){return arguments.length?(l=g?!0:Jt,p()):l!==Jt},h.interpolate=function(g){return arguments.length?(n=g,p()):n},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,j){return r=g,i=j,p()}}function dy(){return Lh()(Jt,Jt)}function AG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zs(e){return e=cf(Math.abs(e)),e?e[1]:NaN}function EG(e,t){return function(n,r){for(var i=n.length,s=[],l=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=e[l=(l+1)%e.length];return s.reverse().join(t)}}function OG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var CG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dc(e){if(!(t=CG.exec(e)))throw new Error("invalid format: "+e);var t;return new fy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dc.prototype=fy.prototype;function fy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var vO;function kG(e,t){var n=cf(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(vO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+cf(e,Math.max(0,t+s-1))[0]}function gj(e,t){var n=cf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:AG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gj(e*100,t),r:gj,s:kG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vj(e){return e}var yj=Array.prototype.map,bj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MG(e){var t=e.grouping===void 0||e.thousands===void 0?vj:EG(yj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?vj:OG(yj.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=dc(h);var g=h.fill,j=h.align,x=h.sign,v=h.symbol,N=h.zero,y=h.width,_=h.comma,w=h.precision,P=h.trim,S=h.type;S==="n"?(_=!0,S="g"):xj[S]||(w===void 0&&(w=12),P=!0,S="g"),(N||g==="0"&&j==="=")&&(N=!0,g="0",j="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=v==="$"?r:/[%p]/.test(S)?l:"",T=xj[S],I=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(R){var F=E,W=C,z,V,X;if(S==="c")W=T(R)+W,R="";else{R=+R;var ne=R<0||1/R<0;if(R=isNaN(R)?d:T(Math.abs(R),w),P&&(R=TG(R)),ne&&+R==0&&x!=="+"&&(ne=!1),F=(ne?x==="("?x:c:x==="-"||x==="("?"":x)+F,W=(S==="s"?bj[8+vO/3]:"")+W+(ne&&x==="("?")":""),I){for(z=-1,V=R.length;++z<V;)if(X=R.charCodeAt(z),48>X||X>57){W=(X===46?i+R.slice(z+1):R.slice(z))+W,R=R.slice(0,z);break}}}_&&!N&&(R=t(R,1/0));var B=F.length+R.length+W.length,J=B<y?new Array(y-B+1).join(g):"";switch(_&&N&&(R=t(J+R,J.length?y-W.length:1/0),J=""),j){case"<":R=F+R+W+J;break;case"=":R=F+J+R+W;break;case"^":R=J.slice(0,B=J.length>>1)+F+R+W+J.slice(B);break;default:R=J+F+R+W;break}return s(R)}return M.toString=function(){return h+""},M}function p(h,g){var j=f((h=dc(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(Zs(g)/3)))*3,v=Math.pow(10,-x),N=bj[8+x/3];return function(y){return j(v*y)+N}}return{format:f,formatPrefix:p}}var Uu,hy,yO;LG({thousands:",",grouping:[3],currency:["$",""]});function LG(e){return Uu=MG(e),hy=Uu.format,yO=Uu.formatPrefix,Uu}function IG(e){return Math.max(0,-Zs(Math.abs(e)))}function RG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zs(t)/3)))*3-Zs(Math.abs(e)))}function $G(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zs(t)-Zs(e))+1}function bO(e,t,n,r){var i=E0(e,t,n),s;switch(r=dc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=RG(i,l))&&(r.precision=s),yO(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=$G(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=IG(i))&&(r.precision=s-(r.type==="%")*2);break}}return hy(r)}function zi(e){var t=e.domain;return e.ticks=function(n){var r=t();return P0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return bO(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,p=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);p-- >0;){if(f=A0(l,c,n),f===d)return r[i]=l,r[s]=c,t(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function uf(){var e=dy();return e.copy=function(){return Gc(e,uf())},Vn.apply(e,arguments),zi(e)}function wO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,lf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return wO(e).unknown(t)},e=arguments.length?Array.from(e,lf):[0,1],zi(n)}function _O(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),e[n]=t.floor(i),e[r]=t.ceil(s),e}function wj(e){return Math.log(e)}function _j(e){return Math.exp(e)}function DG(e){return-Math.log(-e)}function BG(e){return-Math.exp(-e)}function FG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zG(e){return e===10?FG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function UG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jj(e){return(t,n)=>-e(-t,n)}function py(e){const t=e(wj,_j),n=t.domain;let r=10,i,s;function l(){return i=UG(r),s=zG(r),n()[0]<0?(i=jj(i),s=jj(s),e(DG,BG)):e(wj,_j),t}return t.base=function(c){return arguments.length?(r=+c,l()):r},t.domain=function(c){return arguments.length?(n(c),l()):n()},t.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let g=i(f),j=i(p),x,v;const N=c==null?10:+c;let y=[];if(!(r%1)&&j-g<N){if(g=Math.floor(g),j=Math.ceil(j),f>0){for(;g<=j;++g)for(x=1;x<r;++x)if(v=g<0?x/s(-g):x*s(g),!(v<f)){if(v>p)break;y.push(v)}}else for(;g<=j;++g)for(x=r-1;x>=1;--x)if(v=g>0?x/s(-g):x*s(g),!(v<f)){if(v>p)break;y.push(v)}y.length*2<N&&(y=P0(f,p,N))}else y=P0(g,j,Math.min(j-g,N)).map(s);return h?y.reverse():y},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=dc(d)).precision==null&&(d.trim=!0),d=hy(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return p=>{let h=p/s(Math.round(i(p)));return h*r<r-.5&&(h*=r),h<=f?d(p):""}},t.nice=()=>n(_O(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),t}function jO(){const e=py(Lh()).domain([1,10]);return e.copy=()=>Gc(e,jO()).base(e.base()),Vn.apply(e,arguments),e}function Nj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Sj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function my(e){var t=1,n=e(Nj(t),Sj(t));return n.constant=function(r){return arguments.length?e(Nj(t=+r),Sj(t)):t},zi(n)}function NO(){var e=my(Lh());return e.copy=function(){return Gc(e,NO()).constant(e.constant())},Vn.apply(e,arguments)}function Pj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WG(e){return e<0?-e*e:e*e}function gy(e){var t=e(Jt,Jt),n=1;function r(){return n===1?e(Jt,Jt):n===.5?e(qG,WG):e(Pj(n),Pj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},zi(t)}function xy(){var e=gy(Lh());return e.copy=function(){return Gc(e,xy()).exponent(e.exponent())},Vn.apply(e,arguments),e}function HG(){return xy.apply(null,arguments).exponent(.5)}function Aj(e){return Math.sign(e)*e*e}function VG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function SO(){var e=dy(),t=[0,1],n=!1,r;function i(s){var l=VG(e(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return e.invert(Aj(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,lf)).map(Aj)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return SO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vn.apply(i,arguments),zi(i)}function PO(){var e=[],t=[],n=[],r;function i(){var l=0,c=Math.max(1,t.length);for(n=new Array(c-1);++l<c;)n[l-1]=XK(e,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:t[Zc(n,l)]}return s.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ei),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return PO().domain(e).range(t).unknown(r)},Vn.apply(s,arguments)}function AO(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Zc(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return AO().domain([e,t]).range(i).unknown(s)},Vn.apply(zi(l),arguments)}function EO(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Zc(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return EO().domain(e).range(t).unknown(n)},Vn.apply(i,arguments)}const Pm=new Date,Am=new Date;function Lt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),t(s,c),e(s);while(f<s&&s<l);return d},i.filter=s=>Lt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!s(l););else for(;--c>=0;)for(;t(l,1),!s(l););}),n&&(i.count=(s,l)=>(Pm.setTime(+s),Am.setTime(+l),e(Pm),e(Am),Math.floor(n(Pm,Am))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const df=Lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);df.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):df);df.range;const Ur=1e3,Fn=Ur*60,qr=Fn*60,Jr=qr*24,vy=Jr*7,Ej=Jr*30,Em=Jr*365,ha=Lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getUTCSeconds());ha.range;const yy=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ur)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getMinutes());yy.range;const by=Lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCMinutes());by.range;const wy=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ur-e.getMinutes()*Fn)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getHours());wy.range;const _y=Lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCHours());_y.range;const Yc=Lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/Jr,e=>e.getDate()-1);Yc.range;const Ih=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jr,e=>e.getUTCDate()-1);Ih.range;const OO=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jr,e=>Math.floor(e/Jr));OO.range;function Ba(e){return Lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/vy)}const Rh=Ba(0),ff=Ba(1),ZG=Ba(2),KG=Ba(3),Ks=Ba(4),GG=Ba(5),YG=Ba(6);Rh.range;ff.range;ZG.range;KG.range;Ks.range;GG.range;YG.range;function Fa(e){return Lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vy)}const $h=Fa(0),hf=Fa(1),XG=Fa(2),QG=Fa(3),Gs=Fa(4),JG=Fa(5),eY=Fa(6);$h.range;hf.range;XG.range;QG.range;Gs.range;JG.range;eY.range;const jy=Lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jy.range;const Ny=Lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ny.range;const ei=Lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ei.range;const ti=Lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ti.range;function CO(e,t,n,r,i,s){const l=[[ha,1,Ur],[ha,5,5*Ur],[ha,15,15*Ur],[ha,30,30*Ur],[s,1,Fn],[s,5,5*Fn],[s,15,15*Fn],[s,30,30*Fn],[i,1,qr],[i,3,3*qr],[i,6,6*qr],[i,12,12*qr],[r,1,Jr],[r,2,2*Jr],[n,1,vy],[t,1,Ej],[t,3,3*Ej],[e,1,Em]];function c(f,p,h){const g=p<f;g&&([f,p]=[p,f]);const j=h&&typeof h.range=="function"?h:d(f,p,h),x=j?j.range(f,+p+1):[];return g?x.reverse():x}function d(f,p,h){const g=Math.abs(p-f)/h,j=sy(([,,N])=>N).right(l,g);if(j===l.length)return e.every(E0(f/Em,p/Em,h));if(j===0)return df.every(Math.max(E0(f,p,h),1));const[x,v]=l[g/l[j-1][2]<l[j][2]/g?j-1:j];return x.every(v)}return[c,d]}const[tY,nY]=CO(ti,Ny,$h,OO,_y,by),[rY,iY]=CO(ei,jy,Rh,Yc,wy,yy);function Om(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function aY(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,f=el(i),p=tl(i),h=el(s),g=tl(s),j=el(l),x=tl(l),v=el(c),N=tl(c),y=el(d),_=tl(d),w={a:ne,A:B,b:J,B:$,c:null,d:Lj,e:Lj,f:EY,g:DY,G:FY,H:SY,I:PY,j:AY,L:TO,m:OY,M:CY,p:K,q:ee,Q:$j,s:Dj,S:TY,u:kY,U:MY,V:LY,w:IY,W:RY,x:null,X:null,y:$Y,Y:BY,Z:zY,"%":Rj},P={a:le,A:de,b:se,B:U,c:null,d:Ij,e:Ij,f:HY,g:tX,G:rX,H:UY,I:qY,j:WY,L:MO,m:VY,M:ZY,p:q,q:Q,Q:$j,s:Dj,S:KY,u:GY,U:YY,V:XY,w:QY,W:JY,x:null,X:null,y:eX,Y:nX,Z:iX,"%":Rj},S={a:M,A:R,b:F,B:W,c:z,d:kj,e:kj,f:wY,g:Tj,G:Cj,H:Mj,I:Mj,j:xY,L:bY,m:gY,M:vY,p:I,q:mY,Q:jY,s:NY,S:yY,u:uY,U:dY,V:fY,w:cY,W:hY,x:V,X,y:Tj,Y:Cj,Z:pY,"%":_Y};w.x=E(n,w),w.X=E(r,w),w.c=E(t,w),P.x=E(n,P),P.X=E(r,P),P.c=E(t,P);function E(H,oe){return function(ce){var Z=[],_e=-1,je=0,$e=H.length,Pe,Xe,lt;for(ce instanceof Date||(ce=new Date(+ce));++_e<$e;)H.charCodeAt(_e)===37&&(Z.push(H.slice(je,_e)),(Xe=Oj[Pe=H.charAt(++_e)])!=null?Pe=H.charAt(++_e):Xe=Pe==="e"?" ":"0",(lt=oe[Pe])&&(Pe=lt(ce,Xe)),Z.push(Pe),je=_e+1);return Z.push(H.slice(je,_e)),Z.join("")}}function C(H,oe){return function(ce){var Z=Jo(1900,void 0,1),_e=T(Z,H,ce+="",0),je,$e;if(_e!=ce.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(je=Cm(Jo(Z.y,0,1)),$e=je.getUTCDay(),je=$e>4||$e===0?hf.ceil(je):hf(je),je=Ih.offset(je,(Z.V-1)*7),Z.y=je.getUTCFullYear(),Z.m=je.getUTCMonth(),Z.d=je.getUTCDate()+(Z.w+6)%7):(je=Om(Jo(Z.y,0,1)),$e=je.getDay(),je=$e>4||$e===0?ff.ceil(je):ff(je),je=Yc.offset(je,(Z.V-1)*7),Z.y=je.getFullYear(),Z.m=je.getMonth(),Z.d=je.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),$e="Z"in Z?Cm(Jo(Z.y,0,1)).getUTCDay():Om(Jo(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-($e+5)%7:Z.w+Z.U*7-($e+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Cm(Z)):Om(Z)}}function T(H,oe,ce,Z){for(var _e=0,je=oe.length,$e=ce.length,Pe,Xe;_e<je;){if(Z>=$e)return-1;if(Pe=oe.charCodeAt(_e++),Pe===37){if(Pe=oe.charAt(_e++),Xe=S[Pe in Oj?oe.charAt(_e++):Pe],!Xe||(Z=Xe(H,ce,Z))<0)return-1}else if(Pe!=ce.charCodeAt(Z++))return-1}return Z}function I(H,oe,ce){var Z=f.exec(oe.slice(ce));return Z?(H.p=p.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function M(H,oe,ce){var Z=j.exec(oe.slice(ce));return Z?(H.w=x.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function R(H,oe,ce){var Z=h.exec(oe.slice(ce));return Z?(H.w=g.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function F(H,oe,ce){var Z=y.exec(oe.slice(ce));return Z?(H.m=_.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function W(H,oe,ce){var Z=v.exec(oe.slice(ce));return Z?(H.m=N.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function z(H,oe,ce){return T(H,t,oe,ce)}function V(H,oe,ce){return T(H,n,oe,ce)}function X(H,oe,ce){return T(H,r,oe,ce)}function ne(H){return l[H.getDay()]}function B(H){return s[H.getDay()]}function J(H){return d[H.getMonth()]}function $(H){return c[H.getMonth()]}function K(H){return i[+(H.getHours()>=12)]}function ee(H){return 1+~~(H.getMonth()/3)}function le(H){return l[H.getUTCDay()]}function de(H){return s[H.getUTCDay()]}function se(H){return d[H.getUTCMonth()]}function U(H){return c[H.getUTCMonth()]}function q(H){return i[+(H.getUTCHours()>=12)]}function Q(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var oe=E(H+="",w);return oe.toString=function(){return H},oe},parse:function(H){var oe=C(H+="",!1);return oe.toString=function(){return H},oe},utcFormat:function(H){var oe=E(H+="",P);return oe.toString=function(){return H},oe},utcParse:function(H){var oe=C(H+="",!0);return oe.toString=function(){return H},oe}}}var Oj={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,sY=/^%/,oY=/[\\^$*+?|[\]().{}]/g;function qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function lY(e){return e.replace(oY,"\\$&")}function el(e){return new RegExp("^(?:"+e.map(lY).join("|")+")","i")}function tl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cY(e,t,n){var r=Bt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uY(e,t,n){var r=Bt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dY(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fY(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function hY(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Cj(e,t,n){var r=Bt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Tj(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mY(e,t,n){var r=Bt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gY(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kj(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xY(e,t,n){var r=Bt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Mj(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vY(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yY(e,t,n){var r=Bt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function bY(e,t,n){var r=Bt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wY(e,t,n){var r=Bt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _Y(e,t,n){var r=sY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function jY(e,t,n){var r=Bt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function NY(e,t,n){var r=Bt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Lj(e,t){return qe(e.getDate(),t,2)}function SY(e,t){return qe(e.getHours(),t,2)}function PY(e,t){return qe(e.getHours()%12||12,t,2)}function AY(e,t){return qe(1+Yc.count(ei(e),e),t,3)}function TO(e,t){return qe(e.getMilliseconds(),t,3)}function EY(e,t){return TO(e,t)+"000"}function OY(e,t){return qe(e.getMonth()+1,t,2)}function CY(e,t){return qe(e.getMinutes(),t,2)}function TY(e,t){return qe(e.getSeconds(),t,2)}function kY(e){var t=e.getDay();return t===0?7:t}function MY(e,t){return qe(Rh.count(ei(e)-1,e),t,2)}function kO(e){var t=e.getDay();return t>=4||t===0?Ks(e):Ks.ceil(e)}function LY(e,t){return e=kO(e),qe(Ks.count(ei(e),e)+(ei(e).getDay()===4),t,2)}function IY(e){return e.getDay()}function RY(e,t){return qe(ff.count(ei(e)-1,e),t,2)}function $Y(e,t){return qe(e.getFullYear()%100,t,2)}function DY(e,t){return e=kO(e),qe(e.getFullYear()%100,t,2)}function BY(e,t){return qe(e.getFullYear()%1e4,t,4)}function FY(e,t){var n=e.getDay();return e=n>=4||n===0?Ks(e):Ks.ceil(e),qe(e.getFullYear()%1e4,t,4)}function zY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qe(t/60|0,"0",2)+qe(t%60,"0",2)}function Ij(e,t){return qe(e.getUTCDate(),t,2)}function UY(e,t){return qe(e.getUTCHours(),t,2)}function qY(e,t){return qe(e.getUTCHours()%12||12,t,2)}function WY(e,t){return qe(1+Ih.count(ti(e),e),t,3)}function MO(e,t){return qe(e.getUTCMilliseconds(),t,3)}function HY(e,t){return MO(e,t)+"000"}function VY(e,t){return qe(e.getUTCMonth()+1,t,2)}function ZY(e,t){return qe(e.getUTCMinutes(),t,2)}function KY(e,t){return qe(e.getUTCSeconds(),t,2)}function GY(e){var t=e.getUTCDay();return t===0?7:t}function YY(e,t){return qe($h.count(ti(e)-1,e),t,2)}function LO(e){var t=e.getUTCDay();return t>=4||t===0?Gs(e):Gs.ceil(e)}function XY(e,t){return e=LO(e),qe(Gs.count(ti(e),e)+(ti(e).getUTCDay()===4),t,2)}function QY(e){return e.getUTCDay()}function JY(e,t){return qe(hf.count(ti(e)-1,e),t,2)}function eX(e,t){return qe(e.getUTCFullYear()%100,t,2)}function tX(e,t){return e=LO(e),qe(e.getUTCFullYear()%100,t,2)}function nX(e,t){return qe(e.getUTCFullYear()%1e4,t,4)}function rX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Gs(e):Gs.ceil(e),qe(e.getUTCFullYear()%1e4,t,4)}function iX(){return"+0000"}function Rj(){return"%"}function $j(e){return+e}function Dj(e){return Math.floor(+e/1e3)}var ns,IO,RO;aX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aX(e){return ns=aY(e),IO=ns.format,ns.parse,RO=ns.utcFormat,ns.utcParse,ns}function sX(e){return new Date(e)}function oX(e){return e instanceof Date?+e:+new Date(+e)}function Sy(e,t,n,r,i,s,l,c,d,f){var p=dy(),h=p.invert,g=p.domain,j=f(".%L"),x=f(":%S"),v=f("%I:%M"),N=f("%I %p"),y=f("%a %d"),_=f("%b %d"),w=f("%B"),P=f("%Y");function S(E){return(d(E)<E?j:c(E)<E?x:l(E)<E?v:s(E)<E?N:r(E)<E?i(E)<E?y:_:n(E)<E?w:P)(E)}return p.invert=function(E){return new Date(h(E))},p.domain=function(E){return arguments.length?g(Array.from(E,oX)):g().map(sX)},p.ticks=function(E){var C=g();return e(C[0],C[C.length-1],E??10)},p.tickFormat=function(E,C){return C==null?S:f(C)},p.nice=function(E){var C=g();return(!E||typeof E.range!="function")&&(E=t(C[0],C[C.length-1],E??10)),E?g(_O(C,E)):p},p.copy=function(){return Gc(p,Sy(e,t,n,r,i,s,l,c,d,f))},p}function lX(){return Vn.apply(Sy(rY,iY,ei,jy,Rh,Yc,wy,yy,ha,IO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cX(){return Vn.apply(Sy(tY,nY,ti,Ny,$h,Ih,_y,by,ha,RO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dh(){var e=0,t=1,n,r,i,s,l=Jt,c=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(i===0?.5:(h=(s(h)-n)*i,c?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(h){return arguments.length?(c=!!h,f):c},f.interpolator=function(h){return arguments.length?(l=h,f):l};function p(h){return function(g){var j,x;return arguments.length?([j,x]=g,l=h(j,x),f):[l(0),l(1)]}}return f.range=p(No),f.rangeRound=p(uy),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return s=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),f}}function Ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $O(){var e=zi(Dh()(Jt));return e.copy=function(){return Ui(e,$O())},ai.apply(e,arguments)}function DO(){var e=py(Dh()).domain([1,10]);return e.copy=function(){return Ui(e,DO()).base(e.base())},ai.apply(e,arguments)}function BO(){var e=my(Dh());return e.copy=function(){return Ui(e,BO()).constant(e.constant())},ai.apply(e,arguments)}function Py(){var e=gy(Dh());return e.copy=function(){return Ui(e,Py()).exponent(e.exponent())},ai.apply(e,arguments)}function uX(){return Py.apply(null,arguments).exponent(.5)}function FO(){var e=[],t=Jt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ei),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>YK(e,s/r))},n.copy=function(){return FO(t).domain(e)},ai.apply(n,arguments)}function Bh(){var e=0,t=.5,n=1,r=1,i,s,l,c,d,f=Jt,p,h=!1,g;function j(v){return isNaN(v=+v)?g:(v=.5+((v=+p(v))-s)*(r*v<r*s?c:d),f(h?Math.max(0,Math.min(1,v)):v))}j.domain=function(v){return arguments.length?([e,t,n]=v,i=p(e=+e),s=p(t=+t),l=p(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,j):[e,t,n]},j.clamp=function(v){return arguments.length?(h=!!v,j):h},j.interpolator=function(v){return arguments.length?(f=v,j):f};function x(v){return function(N){var y,_,w;return arguments.length?([y,_,w]=N,f=_G(v,[y,_,w]),j):[f(0),f(.5),f(1)]}}return j.range=x(No),j.rangeRound=x(uy),j.unknown=function(v){return arguments.length?(g=v,j):g},function(v){return p=v,i=v(e),s=v(t),l=v(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,j}}function zO(){var e=zi(Bh()(Jt));return e.copy=function(){return Ui(e,zO())},ai.apply(e,arguments)}function UO(){var e=py(Bh()).domain([.1,1,10]);return e.copy=function(){return Ui(e,UO()).base(e.base())},ai.apply(e,arguments)}function qO(){var e=my(Bh());return e.copy=function(){return Ui(e,qO()).constant(e.constant())},ai.apply(e,arguments)}function Ay(){var e=gy(Bh());return e.copy=function(){return Ui(e,Ay()).exponent(e.exponent())},ai.apply(e,arguments)}function dX(){return Ay.apply(null,arguments).exponent(.5)}const Bj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oc,scaleDiverging:zO,scaleDivergingLog:UO,scaleDivergingPow:Ay,scaleDivergingSqrt:dX,scaleDivergingSymlog:qO,scaleIdentity:wO,scaleImplicit:O0,scaleLinear:uf,scaleLog:jO,scaleOrdinal:oy,scalePoint:Pl,scalePow:xy,scaleQuantile:PO,scaleQuantize:AO,scaleRadial:SO,scaleSequential:$O,scaleSequentialLog:DO,scaleSequentialPow:Py,scaleSequentialQuantile:FO,scaleSequentialSqrt:uX,scaleSequentialSymlog:BO,scaleSqrt:HG,scaleSymlog:NO,scaleThreshold:EO,scaleTime:lX,scaleUtc:cX,tickFormat:bO},Symbol.toStringTag,{value:"Module"}));var fX=go;function hX(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],l=t(s);if(l!=null&&(c===void 0?l===l&&!fX(l):n(l,c)))var c=l,d=s}return d}var Fh=hX;function pX(e,t){return e>t}var WO=pX,mX=Fh,gX=WO,xX=jo;function vX(e){return e&&e.length?mX(e,xX,gX):void 0}var yX=vX;const zh=Ke(yX);function bX(e,t){return e<t}var HO=bX,wX=Fh,_X=HO,jX=jo;function NX(e){return e&&e.length?wX(e,jX,_X):void 0}var SX=NX;const Uh=Ke(SX);var PX=Bv,AX=Fi,EX=JE,OX=mn;function CX(e,t){var n=OX(e)?PX:EX;return n(e,AX(t))}var TX=CX,kX=XE,MX=TX;function LX(e,t){return kX(MX(e,t),1)}var IX=LX;const RX=Ke(IX);var $X=ty;function DX(e,t){return $X(e,t)}var BX=DX;const Ey=Ke(BX);var So=1e9,FX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cy,dt=!0,Wn="[DecimalError] ",ja=Wn+"Invalid argument: ",Oy=Wn+"Exponent out of range: ",Po=Math.floor,ia=Math.pow,zX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,Rt=1e7,st=7,VO=9007199254740991,pf=Po(VO/st),ve={};ve.absoluteValue=ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ve.comparedTo=ve.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*st;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ve.dividedBy=ve.div=function(e){return Zr(this,new this.constructor(e))};ve.dividedToIntegerBy=ve.idiv=function(e){var t=this,n=t.constructor;return Qe(Zr(t,new n(e),0,1),n.precision)};ve.equals=ve.eq=function(e){return!this.cmp(e)};ve.exponent=function(){return Et(this)};ve.greaterThan=ve.gt=function(e){return this.cmp(e)>0};ve.greaterThanOrEqualTo=ve.gte=function(e){return this.cmp(e)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(e){return this.cmp(e)<0};ve.lessThanOrEqualTo=ve.lte=function(e){return this.cmp(e)<1};ve.logarithm=ve.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(bn))throw Error(Wn+"NaN");if(n.s<1)throw Error(Wn+(n.s?"NaN":"-Infinity"));return n.eq(bn)?new r(0):(dt=!1,t=Zr(fc(n,s),fc(e,s),s),dt=!0,Qe(t,i))};ve.minus=ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GO(t,e):ZO(t,(e.s=-e.s,e))};ve.modulo=ve.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Wn+"NaN");return n.s?(dt=!1,t=Zr(n,e,0,1).times(e),dt=!0,n.minus(t)):Qe(new r(n),i)};ve.naturalExponential=ve.exp=function(){return KO(this)};ve.naturalLogarithm=ve.ln=function(){return fc(this)};ve.negated=ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ve.plus=ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZO(t,e):GO(t,(e.s=-e.s,e))};ve.precision=ve.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ja+e);if(t=Et(i)+1,r=i.d.length-1,n=r*st+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ve.squareRoot=ve.sqrt=function(){var e,t,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Wn+"NaN")}for(e=Et(c),dt=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=yr(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Po((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Zr(c,s,l+2)).times(.5),yr(s.d).slice(0,l)===(t=yr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Qe(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(t!="9999")break;l+=4}return dt=!0,Qe(r,n)};ve.times=ve.mul=function(e){var t,n,r,i,s,l,c,d,f,p=this,h=p.constructor,g=p.d,j=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,n=p.e+e.e,d=g.length,f=j.length,d<f&&(s=g,g=j,j=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)c=s[i]+j[r]*g[i-r-1]+t,s[i--]=c%Rt|0,t=c/Rt|0;s[i]=(s[i]+t)%Rt|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,dt?Qe(e,h.precision):e};ve.toDecimalPlaces=ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ar(e,0,So),t===void 0?t=r.rounding:Ar(t,0,8),Qe(n,e+Et(n)+1,t))};ve.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ka(r,!0):(Ar(e,0,So),t===void 0?t=i.rounding:Ar(t,0,8),r=Qe(new i(r),e+1,t),n=ka(r,!0,e+1)),n};ve.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?ka(i):(Ar(e,0,So),t===void 0?t=s.rounding:Ar(t,0,8),r=Qe(new s(i),e+Et(i)+1,t),n=ka(r.abs(),!1,e+Et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ve.toInteger=ve.toint=function(){var e=this,t=e.constructor;return Qe(new t(e),Et(e)+1,t.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(e){var t,n,r,i,s,l,c=this,d=c.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(bn);if(c=new d(c),!c.s){if(e.s<1)throw Error(Wn+"Infinity");return c}if(c.eq(bn))return c;if(r=d.precision,e.eq(bn))return Qe(c,r);if(t=e.e,n=e.d.length-1,l=t>=n,s=c.s,l){if((n=p<0?-p:p)<=VO){for(i=new d(bn),t=Math.ceil(r/st+4),dt=!1;n%2&&(i=i.times(c),zj(i.d,t)),n=Po(n/2),n!==0;)c=c.times(c),zj(c.d,t);return dt=!0,e.s<0?new d(bn).div(i):Qe(i,r)}}else if(s<0)throw Error(Wn+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,dt=!1,i=e.times(fc(c,r+f)),dt=!0,i=KO(i),i.s=s,i};ve.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Et(i),r=ka(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ar(e,1,So),t===void 0?t=s.rounding:Ar(t,0,8),i=Qe(new s(i),e,t),n=Et(i),r=ka(i,e<=n||n<=s.toExpNeg,e)),r};ve.toSignificantDigits=ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ar(e,1,So),t===void 0?t=r.rounding:Ar(t,0,8)),Qe(new r(n),e,t)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Et(e),n=e.constructor;return ka(e,t<=n.toExpNeg||t>=n.toExpPos)};function ZO(e,t){var n,r,i,s,l,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),dt?Qe(t,h):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(h/st),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/Rt|0,d[s]%=Rt;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,dt?Qe(t,h):t}function Ar(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ja+e)}function yr(e){var t,n,r,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)r=e[t]+"",n=st-r.length,n&&(s+=hi(n)),s+=r;l=e[t],r=l+"",n=st-r.length,n&&(s+=hi(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Zr=function(){function e(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Rt|0,l=s/Rt|0;return l&&r.unshift(l),r}function t(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Rt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,p,h,g,j,x,v,N,y,_,w,P,S,E,C,T,I=r.constructor,M=r.s==i.s?1:-1,R=r.d,F=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Wn+"Division by zero");for(d=r.e-i.e,C=F.length,S=R.length,j=new I(M),x=j.d=[],f=0;F[f]==(R[f]||0);)++f;if(F[f]>(R[f]||0)&&--d,s==null?_=s=I.precision:l?_=s+(Et(r)-Et(i))+1:_=s,_<0)return new I(0);if(_=_/st+2|0,f=0,C==1)for(p=0,F=F[0],_++;(f<S||p)&&_--;f++)w=p*Rt+(R[f]||0),x[f]=w/F|0,p=w%F|0;else{for(p=Rt/(F[0]+1)|0,p>1&&(F=e(F,p),R=e(R,p),C=F.length,S=R.length),P=C,v=R.slice(0,C),N=v.length;N<C;)v[N++]=0;T=F.slice(),T.unshift(0),E=F[0],F[1]>=Rt/2&&++E;do p=0,c=t(F,v,C,N),c<0?(y=v[0],C!=N&&(y=y*Rt+(v[1]||0)),p=y/E|0,p>1?(p>=Rt&&(p=Rt-1),h=e(F,p),g=h.length,N=v.length,c=t(h,v,g,N),c==1&&(p--,n(h,C<g?T:F,g))):(p==0&&(c=p=1),h=F.slice()),g=h.length,g<N&&h.unshift(0),n(v,h,N),c==-1&&(N=v.length,c=t(F,v,C,N),c<1&&(p++,n(v,C<N?T:F,N))),N=v.length):c===0&&(p++,v=[0]),x[f++]=p,c&&v[0]?v[N++]=R[P]||0:(v=[R[P]],N=1);while((P++<S||v[0]!==void 0)&&_--)}return x[0]||x.shift(),j.e=d,Qe(j,l?s+Et(j)+1:s)}}();function KO(e,t){var n,r,i,s,l,c,d=0,f=0,p=e.constructor,h=p.precision;if(Et(e)>16)throw Error(Oy+Et(e));if(!e.s)return new p(bn);for(dt=!1,c=h,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(ia(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new p(bn),p.precision=c;;){if(i=Qe(i.times(e),c),n=n.times(++d),l=s.plus(Zr(i,n,c)),yr(l.d).slice(0,c)===yr(s.d).slice(0,c)){for(;f--;)s=Qe(s.times(s),c);return p.precision=h,t==null?(dt=!0,Qe(s,h)):s}s=l}}function Et(e){for(var t=e.e*st,n=e.d[0];n>=10;n/=10)t++;return t}function Tm(e,t,n){if(t>e.LN10.sd())throw dt=!0,n&&(e.precision=n),Error(Wn+"LN10 precision limit exceeded");return Qe(new e(e.LN10),t)}function hi(e){for(var t="";e--;)t+="0";return t}function fc(e,t){var n,r,i,s,l,c,d,f,p,h=1,g=10,j=e,x=j.d,v=j.constructor,N=v.precision;if(j.s<1)throw Error(Wn+(j.s?"NaN":"-Infinity"));if(j.eq(bn))return new v(0);if(t==null?(dt=!1,f=N):f=t,j.eq(10))return t==null&&(dt=!0),Tm(v,f);if(f+=g,v.precision=f,n=yr(x),r=n.charAt(0),s=Et(j),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)j=j.times(e),n=yr(j.d),r=n.charAt(0),h++;s=Et(j),r>1?(j=new v("0."+n),s++):j=new v(r+"."+n.slice(1))}else return d=Tm(v,f+2,N).times(s+""),j=fc(new v(r+"."+n.slice(1)),f-g).plus(d),v.precision=N,t==null?(dt=!0,Qe(j,N)):j;for(c=l=j=Zr(j.minus(bn),j.plus(bn),f),p=Qe(j.times(j),f),i=3;;){if(l=Qe(l.times(p),f),d=c.plus(Zr(l,new v(i),f)),yr(d.d).slice(0,f)===yr(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(Tm(v,f+2,N).times(s+""))),c=Zr(c,new v(h),f),v.precision=N,t==null?(dt=!0,Qe(c,N)):c;c=d,i+=2}}function Fj(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Po(n/st),e.d=[],r=(n+1)%st,n<0&&(r+=st),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=st;r<i;)e.d.push(+t.slice(r,r+=st));t=t.slice(r),r=st-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),dt&&(e.e>pf||e.e<-pf))throw Error(Oy+n)}else e.s=0,e.e=0,e.d=[0];return e}function Qe(e,t,n){var r,i,s,l,c,d,f,p,h=e.d;for(l=1,s=h[0];s>=10;s/=10)l++;if(r=t-l,r<0)r+=st,i=t,f=h[p=0];else{if(p=Math.ceil((r+1)/st),s=h.length,p>=s)return e;for(f=s=h[p],l=1;s>=10;s/=10)l++;r%=st,i=r-st+l}if(n!==void 0&&(s=ia(10,l-i-1),c=f/s%10|0,d=t<0||h[p+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/ia(10,l-i):0:h[p-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return d?(s=Et(e),h.length=1,t=t-s-1,h[0]=ia(10,(st-t%st)%st),e.e=Po(-t/st)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=p,s=1,p--):(h.length=p+1,s=ia(10,st-r),h[p]=i>0?(f/ia(10,l-i)%ia(10,i)|0)*s:0),d)for(;;)if(p==0){(h[0]+=s)==Rt&&(h[0]=1,++e.e);break}else{if(h[p]+=s,h[p]!=Rt)break;h[p--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(dt&&(e.e>pf||e.e<-pf))throw Error(Oy+Et(e));return e}function GO(e,t){var n,r,i,s,l,c,d,f,p,h,g=e.constructor,j=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),dt?Qe(t,j):t;if(d=e.d,h=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,c=h.length):(n=h,r=f,c=d.length),i=Math.max(Math.ceil(j/st),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=h.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=h[i]){p=d[i]<h[i];break}l=0}for(p&&(n=d,d=h,h=n,t.s=-t.s),c=d.length,i=h.length-c;i>0;--i)d[c++]=0;for(i=h.length;i>l;){if(d[--i]<h[i]){for(s=i;s&&d[--s]===0;)d[s]=Rt-1;--d[s],d[i]+=Rt}d[i]-=h[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,dt?Qe(t,j):t):new g(0)}function ka(e,t,n){var r,i=Et(e),s=yr(e.d),l=s.length;return t?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+hi(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+hi(-i-1)+s,n&&(r=n-l)>0&&(s+=hi(r))):i>=l?(s+=hi(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+hi(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=hi(r))),e.s<0?"-"+s:s}function zj(e,t){if(e.length>t)return e.length=t,!0}function YO(e){var t,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ja+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return Fj(l,s.toString())}else if(typeof s!="string")throw Error(ja+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,zX.test(s))Fj(l,s);else throw Error(ja+s)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=YO,i.config=i.set=UX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function UX(e){if(!e||typeof e!="object")throw Error(Wn+"Object expected");var t,n,r,i=["precision",1,So,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Po(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ja+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ja+n+": "+r);return this}var Cy=YO(FX);bn=new Cy(1);const Ye=Cy;function qX(e){return ZX(e)||VX(e)||HX(e)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e,t){if(e){if(typeof e=="string")return M0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M0(e,t)}}function VX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ZX(e){if(Array.isArray(e))return M0(e)}function M0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KX=function(t){return t},XO={},QO=function(t){return t===XO},Uj=function(t){return function n(){return arguments.length===0||arguments.length===1&&QO(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},GX=function e(t,n){return t===1?n:Uj(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.filter(function(c){return c!==XO}).length;return l>=t?n.apply(void 0,i):e(t-l,Uj(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=i.map(function(h){return QO(h)?d.shift():h});return n.apply(void 0,qX(p).concat(d))}))})},qh=function(t){return GX(t.length,t)},L0=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},YX=qh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),XX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return KX;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(c,d){return d(c)},s.apply(void 0,arguments))}},I0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},JO=function(t){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return n&&s.every(function(c,d){return c===n[d]})||(n=s,r=t.apply(void 0,s)),r}};function QX(e){var t;return e===0?t=1:t=Math.floor(new Ye(e).abs().log(10).toNumber())+1,t}function JX(e,t,n){for(var r=new Ye(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var eQ=qh(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),tQ=qh(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),nQ=qh(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Wh={rangeStep:JX,getDigitCount:QX,interpolateNumber:eQ,uninterpolateNumber:tQ,uninterpolateTruncation:nQ};function R0(e){return aQ(e)||iQ(e)||eC(e)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iQ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aQ(e){if(Array.isArray(e))return $0(e)}function hc(e,t){return lQ(e)||oQ(e,t)||eC(e,t)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eC(e,t){if(e){if(typeof e=="string")return $0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $0(e,t)}}function $0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oQ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,s=void 0;try{for(var l=e[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));r=!0);}catch(d){i=!0,s=d}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw s}}return n}}function lQ(e){if(Array.isArray(e))return e}function tC(e){var t=hc(e,2),n=t[0],r=t[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function nC(e,t,n){if(e.lte(0))return new Ye(0);var r=Wh.getDigitCount(e.toNumber()),i=new Ye(10).pow(r),s=e.div(i),l=r!==1?.05:.1,c=new Ye(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return t?d:new Ye(Math.ceil(d))}function cQ(e,t,n){var r=1,i=new Ye(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Ye(10).pow(Wh.getDigitCount(e)-1),i=new Ye(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ye(Math.floor(e)))}else e===0?i=new Ye(Math.floor((t-1)/2)):n||(i=new Ye(Math.floor(e)));var l=Math.floor((t-1)/2),c=XX(YX(function(d){return i.add(new Ye(d-l).mul(r)).toNumber()}),L0);return c(0,t)}function rC(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var s=nC(new Ye(t).sub(e).div(n-1),r,i),l;e<=0&&t>=0?l=new Ye(0):(l=new Ye(e).add(t).div(2),l=l.sub(new Ye(l).mod(s)));var c=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new Ye(t).sub(l).div(s).toNumber()),f=c+d+1;return f>n?rC(e,t,n,r,i+1):(f<n&&(d=t>0?d+(n-f):d,c=t>0?c:c+(n-f)),{step:s,tickMin:l.sub(new Ye(c).mul(s)),tickMax:l.add(new Ye(d).mul(s))})}function uQ(e){var t=hc(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=tC([n,r]),d=hc(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var h=p===1/0?[f].concat(R0(L0(0,i-1).map(function(){return 1/0}))):[].concat(R0(L0(0,i-1).map(function(){return-1/0})),[p]);return n>r?I0(h):h}if(f===p)return cQ(f,i,s);var g=rC(f,p,l,s),j=g.step,x=g.tickMin,v=g.tickMax,N=Wh.rangeStep(x,v.add(new Ye(.1).mul(j)),j);return n>r?I0(N):N}function dQ(e,t){var n=hc(e,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=tC([r,i]),c=hc(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[r,i];if(d===f)return[d];var p=Math.max(t,2),h=nC(new Ye(f).sub(d).div(p-1),s,0),g=[].concat(R0(Wh.rangeStep(new Ye(d),new Ye(f).sub(new Ye(.99).mul(h)),h)),[f]);return r>i?I0(g):g}var fQ=JO(uQ),hQ=JO(dQ),pQ="Invariant failed";function Ys(e,t){throw new Error(pQ)}var mQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(this,arguments)}function gQ(e,t){return bQ(e)||yQ(e,t)||vQ(e,t)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(e,t){if(e){if(typeof e=="string")return qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(e,t)}}function qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function bQ(e){if(Array.isArray(e))return e}function wQ(e,t){if(e==null)return{};var n=_Q(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Q(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sC(r.key),r)}}function SQ(e,t,n){return t&&NQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PQ(e,t,n){return t=gf(t),AQ(e,iC()?Reflect.construct(t,n||[],gf(e).constructor):t.apply(e,n))}function AQ(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(e)}function EQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iC=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(e)}function OQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D0(e,t)}function D0(e,t){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D0(e,t)}function aC(e,t,n){return t=sC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sC(e){var t=CQ(e,"string");return Xs(t)=="symbol"?t:t+""}function CQ(e,t){if(Xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ty=function(e){function t(){return jQ(this,t),PQ(this,t,arguments)}return OQ(t,e),SQ(t,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,l=r.width,c=r.dataKey,d=r.data,f=r.dataPointFormatter,p=r.xAxis,h=r.yAxis,g=wQ(r,mQ),j=Ce(g,!1);this.props.direction==="x"&&p.type!=="number"&&Ys();var x=d.map(function(v){var N=f(v,c),y=N.x,_=N.y,w=N.value,P=N.errorVal;if(!P)return null;var S=[],E,C;if(Array.isArray(P)){var T=gQ(P,2);E=T[0],C=T[1]}else E=C=P;if(s==="vertical"){var I=p.scale,M=_+i,R=M+l,F=M-l,W=I(w-E),z=I(w+C);S.push({x1:z,y1:R,x2:z,y2:F}),S.push({x1:W,y1:M,x2:z,y2:M}),S.push({x1:W,y1:R,x2:W,y2:F})}else if(s==="horizontal"){var V=h.scale,X=y+i,ne=X-l,B=X+l,J=V(w-E),$=V(w+C);S.push({x1:ne,y1:$,x2:B,y2:$}),S.push({x1:X,y1:J,x2:X,y2:$}),S.push({x1:ne,y1:J,x2:B,y2:J})}return G.createElement(wt,mf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},j),S.map(function(K){return G.createElement("line",mf({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return G.createElement(wt,{className:"recharts-errorBars"},x)}}])}(G.Component);aC(Ty,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aC(Ty,"displayName","ErrorBar");function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){TQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TQ(e,t,n){return t=kQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kQ(e){var t=MQ(e,"string");return pc(t)=="symbol"?t:t+""}function MQ(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oC=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,l=Ln(n,wa);if(!l)return null;var c=wa.defaultProps,d=c!==void 0?Yi(Yi({},c),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:s==="children"?f=(r||[]).reduce(function(p,h){var g=h.item,j=h.props,x=j.sectors||j.data||[];return p.concat(x.map(function(v){return{type:l.props.iconType||g.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):f=(r||[]).map(function(p){var h=p.item,g=h.type.defaultProps,j=g!==void 0?Yi(Yi({},g),h.props):{},x=j.dataKey,v=j.name,N=j.legendType,y=j.hide;return{inactive:y,dataKey:x,type:d.iconType||N||"square",color:ky(h),value:v||x,payload:j}}),Yi(Yi(Yi({},d),wa.getWithHeight(l,i)),{},{payload:f,item:l})};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Hj(e){return $Q(e)||RQ(e)||IQ(e)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQ(e,t){if(e){if(typeof e=="string")return B0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B0(e,t)}}function RQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Q(e){if(Array.isArray(e))return B0(e)}function B0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){As(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function As(e,t,n){return t=DQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQ(e){var t=BQ(e,"string");return mc(t)=="symbol"?t:t+""}function BQ(e,t){if(mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(e,t,n){return Be(e)||Be(t)?n:Mt(t)?ir(e,t,n):Te(t)?t(e):n}function Al(e,t,n,r){var i=RX(e,function(c){return wn(c,t)});if(n==="number"){var s=i.filter(function(c){return ge(c)||parseFloat(c)});return s.length?[Uh(s),zh(s)]:[1/0,-1/0]}var l=r?i.filter(function(c){return!Be(c)}):i;return l.map(function(c){return Mt(c)||c instanceof Date?c:""})}var FQ=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,f=0;f<c;f++){var p=f>0?i[f-1].coordinate:i[c-1].coordinate,h=i[f].coordinate,g=f>=c-1?i[0].coordinate:i[f+1].coordinate,j=void 0;if(Bn(h-p)!==Bn(g-h)){var x=[];if(Bn(g-h)===Bn(d[1]-d[0])){j=g;var v=h+d[1]-d[0];x[0]=Math.min(v,(v+p)/2),x[1]=Math.max(v,(v+p)/2)}else{j=p;var N=g+d[1]-d[0];x[0]=Math.min(h,(N+h)/2),x[1]=Math.max(h,(N+h)/2)}var y=[Math.min(h,(j+h)/2),Math.max(h,(j+h)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){l=i[f].index;break}}else{var _=Math.min(p,g),w=Math.max(p,g);if(t>(_+h)/2&&t<=(w+h)/2){l=i[f].index;break}}}else for(var P=0;P<c;P++)if(P===0&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<c-1&&t>(r[P].coordinate+r[P-1].coordinate)/2&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P===c-1&&t>(r[P].coordinate+r[P-1].coordinate)/2){l=r[P].index;break}return l},ky=function(t){var n,r=t,i=r.type.displayName,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,l=s.stroke,c=s.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:c;break;default:d=c;break}return d},zQ=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},c=Object.keys(s),d=0,f=c.length;d<f;d++)for(var p=s[c[d]].stackGroups,h=Object.keys(p),g=0,j=h.length;g<j;g++){var x=p[h[g]],v=x.items,N=x.cateAxisId,y=v.filter(function(C){return Hr(C.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,w=_!==void 0?bt(bt({},_),y[0].props):y[0].props,P=w.barSize,S=w[N];l[S]||(l[S]=[]);var E=Be(P)?n:P;l[S].push({item:y[0],stackList:y.slice(1),barSize:Be(E)?void 0:ln(E,r,0)})}}return l},UQ=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,s=t.sizeList,l=s===void 0?[]:s,c=t.maxBarSize,d=l.length;if(d<1)return null;var f=ln(n,i,0,!0),p,h=[];if(l[0].barSize===+l[0].barSize){var g=!1,j=i/d,x=l.reduce(function(P,S){return P+S.barSize||0},0);x+=(d-1)*f,x>=i&&(x-=(d-1)*f,f=0),x>=i&&j>0&&(g=!0,j*=.9,x=d*j);var v=(i-x)/2>>0,N={offset:v-f,size:0};p=l.reduce(function(P,S){var E={item:S.item,position:{offset:N.offset+N.size+f,size:g?j:S.barSize}},C=[].concat(Hj(P),[E]);return N=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){C.push({item:T,position:N})}),C},h)}else{var y=ln(r,i,0,!0);i-2*y-(d-1)*f<=0&&(f=0);var _=(i-2*y-(d-1)*f)/d;_>1&&(_>>=0);var w=c===+c?Math.min(_,c):_;p=l.reduce(function(P,S,E){var C=[].concat(Hj(P),[{item:S.item,position:{offset:y+(_+f)*E+(_-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){C.push({item:T,position:C[C.length-1].position})}),C},h)}return p},qQ=function(t,n,r,i){var s=r.children,l=r.width,c=r.margin,d=l-(c.left||0)-(c.right||0),f=oC({children:s,legendWidth:d});if(f){var p=i||{},h=p.width,g=p.height,j=f.align,x=f.verticalAlign,v=f.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&j!=="center"&&ge(t[j]))return bt(bt({},t),{},As({},j,t[j]+(h||0)));if((v==="horizontal"||v==="vertical"&&j==="center")&&x!=="middle"&&ge(t[x]))return bt(bt({},t),{},As({},x,t[x]+(g||0)))}return t},WQ=function(t,n,r){return Be(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},lC=function(t,n,r,i,s){var l=n.props.children,c=jr(l,Ty).filter(function(f){return WQ(i,s,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var h=wn(p,r);if(Be(h))return f;var g=Array.isArray(h)?[Uh(h),zh(h)]:[h,h],j=d.reduce(function(x,v){var N=wn(p,v,0),y=g[0]-Math.abs(Array.isArray(N)?N[0]:N),_=g[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(y,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(j[0],f[0]),Math.max(j[1],f[1])]},[1/0,-1/0])}return null},HQ=function(t,n,r,i,s){var l=n.map(function(c){return lC(t,c,r,s,i)}).filter(function(c){return!Be(c)});return l&&l.length?l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},cC=function(t,n,r,i,s){var l=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&lC(t,d,f,i)||Al(t,f,r,s)});if(r==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return l.reduce(function(d,f){for(var p=0,h=f.length;p<h;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},uC=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},fl=function(t,n,r){if(!t)return null;var i=t.scale,s=t.duplicateDomain,l=t.type,c=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Bn(c[0]-c[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(h){var g=s?s.indexOf(h):h;return{coordinate:i(g)+f,value:h,offset:f}});return p.filter(function(h){return!Vc(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:i(h)+f,value:h,index:g,offset:f}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,g){return{coordinate:i(h)+f,value:s?s[h]:h,index:g,offset:f}})},km=new WeakMap,qu=function(t,n){if(typeof n!="function")return t;km.has(t)||km.set(t,new WeakMap);var r=km.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},VQ=function(t,n,r){var i=t.scale,s=t.type,l=t.layout,c=t.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:oc(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:uf(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0)?{scale:Pl(),realScaleType:"point"}:s==="category"?{scale:oc(),realScaleType:"band"}:{scale:uf(),realScaleType:"linear"};if(Hc(i)){var d="scale".concat(Ph(i));return{scale:(Bj[d]||Pl)(),realScaleType:Bj[d]?d:"point"}}return Te(i)?{scale:i}:{scale:Pl(),realScaleType:"point"}},Zj=1e-4,ZQ=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),s=Math.min(i[0],i[1])-Zj,l=Math.max(i[0],i[1])+Zj,c=t(n[0]),d=t(n[r-1]);(c<s||c>l||d<s||d>l)&&t.domain([n[0],n[r-1]])}},KQ=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,l=0,c=0;c<n;++c){var d=Vc(t[c][r][1])?t[c][r][0]:t[c][r][1];d>=0?(t[c][r][0]=s,t[c][r][1]=s+d,s=t[c][r][1]):(t[c][r][0]=l,t[c][r][1]=l+d,l=t[c][r][1])}},GQ=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,l=0;l<n;++l){var c=Vc(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=s,t[l][r][1]=s+c,s=t[l][r][1]):(t[l][r][0]=0,t[l][r][1]=0)}},YQ={sign:KQ,expand:hz,none:zs,silhouette:pz,wiggle:mz,positive:GQ},XQ=function(t,n,r){var i=n.map(function(c){return c.props.dataKey}),s=YQ[r],l=fz().keys(i).value(function(c,d){return+wn(c,d,0)}).order(u0).offset(s);return l(t)},QQ=function(t,n,r,i,s,l){if(!t)return null;var c=l?n.reverse():n,d={},f=c.reduce(function(h,g){var j,x=(j=g.type)!==null&&j!==void 0&&j.defaultProps?bt(bt({},g.type.defaultProps),g.props):g.props,v=x.stackId,N=x.hide;if(N)return h;var y=x[r],_=h[y]||{hasStack:!1,stackGroups:{}};if(Mt(v)){var w=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(g),_.hasStack=!0,_.stackGroups[v]=w}else _.stackGroups[Nh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return bt(bt({},h),{},As({},y,_))},d),p={};return Object.keys(f).reduce(function(h,g){var j=f[g];if(j.hasStack){var x={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(v,N){var y=j.stackGroups[N];return bt(bt({},v),{},As({},N,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:XQ(t,y.items,s)}))},x)}return bt(bt({},h),{},As({},g,j))},p)},JQ=function(t,n){var r=n.realScaleType,i=n.type,s=n.tickCount,l=n.originalDomain,c=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=fQ(f,s,c);return t.domain([Uh(p),zh(p)]),{niceTicks:p}}if(s&&i==="number"){var h=t.domain(),g=hQ(h,s,c);return{niceTicks:g}}return null},eJ=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Mt(s)){var l=n[s];if(l){var c=l.items.indexOf(t);return c>=0?l.stackedData[c]:null}}return null},tJ=function(t){return t.reduce(function(n,r){return[Uh(r.concat([n[0]]).filter(ge)),zh(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},dC=function(t,n,r){return Object.keys(t).reduce(function(i,s){var l=t[s],c=l.stackedData,d=c.reduce(function(f,p){var h=tJ(p.slice(n,r+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Kj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F0=function(t,n,r){if(Te(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(ge(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(Kj.test(t[0])){var s=+Kj.exec(t[0])[1];i[0]=n[0]-s}else Te(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(ge(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(Gj.test(t[1])){var l=+Gj.exec(t[1])[1];i[1]=n[1]+l}else Te(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},z0=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var s=ry(n,function(h){return h.coordinate}),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],p=s[c-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},Yj=function(t,n,r){return!t||!t.length||Ey(t,ir(r,"type.defaultProps.domain"))?n:t},nJ=function(t,n){var r=t.type.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,i=r.dataKey,s=r.name,l=r.unit,c=r.formatter,d=r.tooltipType,f=r.chartType,p=r.hide;return bt(bt({},Ce(t,!1)),{},{dataKey:i,unit:l,formatter:c,name:s||i,color:ky(t),value:wn(n,i),type:d,payload:n,chartType:f,hide:p})};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){fC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fC(e,t,n){return t=rJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=iJ(e,"string");return gc(t)=="symbol"?t:t+""}function iJ(e,t){if(gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aJ(e,t){return cJ(e)||lJ(e,t)||oJ(e,t)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(e,t){if(e){if(typeof e=="string")return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function cJ(e){if(Array.isArray(e))return e}var xf=Math.PI/180,uJ=function(t){return t*180/Math.PI},rt=function(t,n,r,i){return{x:t+Math.cos(-xf*i)*r,y:n+Math.sin(-xf*i)*r}},hC=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dJ=function(t,n,r,i,s){var l=t.width,c=t.height,d=t.startAngle,f=t.endAngle,p=ln(t.cx,l,l/2),h=ln(t.cy,c,c/2),g=hC(l,c,r),j=ln(t.innerRadius,g,0),x=ln(t.outerRadius,g,g*.8),v=Object.keys(n);return v.reduce(function(N,y){var _=n[y],w=_.domain,P=_.reversed,S;if(Be(_.range))i==="angleAxis"?S=[d,f]:i==="radiusAxis"&&(S=[j,x]),P&&(S=[S[1],S[0]]);else{S=_.range;var E=S,C=aJ(E,2);d=C[0],f=C[1]}var T=VQ(_,s),I=T.realScaleType,M=T.scale;M.domain(w).range(S),ZQ(M);var R=JQ(M,Dr(Dr({},_),{},{realScaleType:I})),F=Dr(Dr(Dr({},_),R),{},{range:S,radius:x,realScaleType:I,scale:M,cx:p,cy:h,innerRadius:j,outerRadius:x,startAngle:d,endAngle:f});return Dr(Dr({},N),{},fC({},y,F))},{})},fJ=function(t,n){var r=t.x,i=t.y,s=n.x,l=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-l,2))},hJ=function(t,n){var r=t.x,i=t.y,s=n.cx,l=n.cy,c=fJ({x:r,y:i},{x:s,y:l});if(c<=0)return{radius:c};var d=(r-s)/c,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:c,angle:uJ(f),angleInRadian:f}},pJ=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return{startAngle:n-l*360,endAngle:r-l*360}},mJ=function(t,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),l=Math.floor(i/360),c=Math.min(s,l);return t+c*360},Jj=function(t,n){var r=t.x,i=t.y,s=hJ({x:r,y:i},n),l=s.radius,c=s.angle,d=n.innerRadius,f=n.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=pJ(n),h=p.startAngle,g=p.endAngle,j=c,x;if(h<=g){for(;j>g;)j-=360;for(;j<h;)j+=360;x=j>=h&&j<=g}else{for(;j>h;)j-=360;for(;j<g;)j+=360;x=j>=g&&j<=h}return x?Dr(Dr({},n),{},{radius:l,angle:mJ(j,n)}):null},pC=function(t){return!A.isValidElement(t)&&!Te(t)&&typeof t!="boolean"?t.className:""};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var gJ=["offset"];function xJ(e){return wJ(e)||bJ(e)||yJ(e)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(e,t){if(e){if(typeof e=="string")return U0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(e,t)}}function bJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wJ(e){if(Array.isArray(e))return U0(e)}function U0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _J(e,t){if(e==null)return{};var n=jJ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){NJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NJ(e,t,n){return t=SJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SJ(e){var t=PJ(e,"string");return xc(t)=="symbol"?t:t+""}function PJ(e,t){if(xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(this,arguments)}var AJ=function(t){var n=t.value,r=t.formatter,i=Be(t.children)?n:t.children;return Te(r)?r(i):i},EJ=function(t,n){var r=Bn(n-t),i=Math.min(Math.abs(n-t),360);return r*i},OJ=function(t,n,r){var i=t.position,s=t.viewBox,l=t.offset,c=t.className,d=s,f=d.cx,p=d.cy,h=d.innerRadius,g=d.outerRadius,j=d.startAngle,x=d.endAngle,v=d.clockWise,N=(h+g)/2,y=EJ(j,x),_=y>=0?1:-1,w,P;i==="insideStart"?(w=j+_*l,P=v):i==="insideEnd"?(w=x-_*l,P=!v):i==="end"&&(w=x+_*l,P=v),P=y<=0?P:!P;var S=rt(f,p,N,w),E=rt(f,p,N,w+(P?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(P?0:1,`,
    `).concat(E.x,",").concat(E.y),T=Be(t.id)?Nh("recharts-radial-line-"):t.id;return G.createElement("text",vc({},r,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",c)}),G.createElement("defs",null,G.createElement("path",{id:T,d:C})),G.createElement("textPath",{xlinkHref:"#".concat(T)},n))},CJ=function(t){var n=t.viewBox,r=t.offset,i=t.position,s=n,l=s.cx,c=s.cy,d=s.innerRadius,f=s.outerRadius,p=s.startAngle,h=s.endAngle,g=(p+h)/2;if(i==="outside"){var j=rt(l,c,f+r,g),x=j.x,v=j.y;return{x,y:v,textAnchor:x>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var N=(d+f)/2,y=rt(l,c,N,g),_=y.x,w=y.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},TJ=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,s=t.position,l=n,c=l.x,d=l.y,f=l.width,p=l.height,h=p>=0?1:-1,g=h*i,j=h>0?"end":"start",x=h>0?"start":"end",v=f>=0?1:-1,N=v*i,y=v>0?"end":"start",_=v>0?"start":"end";if(s==="top"){var w={x:c+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:j};return Ct(Ct({},w),r?{height:Math.max(d-r.y,0),width:f}:{})}if(s==="bottom"){var P={x:c+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:x};return Ct(Ct({},P),r?{height:Math.max(r.y+r.height-(d+p),0),width:f}:{})}if(s==="left"){var S={x:c-N,y:d+p/2,textAnchor:y,verticalAnchor:"middle"};return Ct(Ct({},S),r?{width:Math.max(S.x-r.x,0),height:p}:{})}if(s==="right"){var E={x:c+f+N,y:d+p/2,textAnchor:_,verticalAnchor:"middle"};return Ct(Ct({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:p}:{})}var C=r?{width:f,height:p}:{};return s==="insideLeft"?Ct({x:c+N,y:d+p/2,textAnchor:_,verticalAnchor:"middle"},C):s==="insideRight"?Ct({x:c+f-N,y:d+p/2,textAnchor:y,verticalAnchor:"middle"},C):s==="insideTop"?Ct({x:c+f/2,y:d+g,textAnchor:"middle",verticalAnchor:x},C):s==="insideBottom"?Ct({x:c+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:j},C):s==="insideTopLeft"?Ct({x:c+N,y:d+g,textAnchor:_,verticalAnchor:x},C):s==="insideTopRight"?Ct({x:c+f-N,y:d+g,textAnchor:y,verticalAnchor:x},C):s==="insideBottomLeft"?Ct({x:c+N,y:d+p-g,textAnchor:_,verticalAnchor:j},C):s==="insideBottomRight"?Ct({x:c+f-N,y:d+p-g,textAnchor:y,verticalAnchor:j},C):xo(s)&&(ge(s.x)||da(s.x))&&(ge(s.y)||da(s.y))?Ct({x:c+ln(s.x,f),y:d+ln(s.y,p),textAnchor:"end",verticalAnchor:"end"},C):Ct({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},C)},kJ=function(t){return"cx"in t&&ge(t.cx)};function qt(e){var t=e.offset,n=t===void 0?5:t,r=_J(e,gJ),i=Ct({offset:n},r),s=i.viewBox,l=i.position,c=i.value,d=i.children,f=i.content,p=i.className,h=p===void 0?"":p,g=i.textBreakAll;if(!s||Be(c)&&Be(d)&&!A.isValidElement(f)&&!Te(f))return null;if(A.isValidElement(f))return A.cloneElement(f,i);var j;if(Te(f)){if(j=A.createElement(f,i),A.isValidElement(j))return j}else j=AJ(i);var x=kJ(s),v=Ce(i,!0);if(x&&(l==="insideStart"||l==="insideEnd"||l==="end"))return OJ(i,j,v);var N=x?CJ(i):TJ(i);return G.createElement(Vs,vc({className:Ie("recharts-label",h)},v,N,{breakAll:g}),j)}qt.displayName="Label";var mC=function(t){var n=t.cx,r=t.cy,i=t.angle,s=t.startAngle,l=t.endAngle,c=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,h=t.x,g=t.y,j=t.top,x=t.left,v=t.width,N=t.height,y=t.clockWise,_=t.labelViewBox;if(_)return _;if(ge(v)&&ge(N)){if(ge(h)&&ge(g))return{x:h,y:g,width:v,height:N};if(ge(j)&&ge(x))return{x:j,y:x,width:v,height:N}}return ge(h)&&ge(g)?{x:h,y:g,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:y}:t.viewBox?t.viewBox:{}},MJ=function(t,n){return t?t===!0?G.createElement(qt,{key:"label-implicit",viewBox:n}):Mt(t)?G.createElement(qt,{key:"label-implicit",viewBox:n,value:t}):A.isValidElement(t)?t.type===qt?A.cloneElement(t,{key:"label-implicit",viewBox:n}):G.createElement(qt,{key:"label-implicit",content:t,viewBox:n}):Te(t)?G.createElement(qt,{key:"label-implicit",content:t,viewBox:n}):xo(t)?G.createElement(qt,vc({viewBox:n},t,{key:"label-implicit"})):null:null},LJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,s=mC(t),l=jr(i,qt).map(function(d,f){return A.cloneElement(d,{viewBox:n||s,key:"label-".concat(f)})});if(!r)return l;var c=MJ(t.label,n||s);return[c].concat(xJ(l))};qt.parseViewBox=mC;qt.renderCallByParent=LJ;function IJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var RJ=IJ;const $J=Ke(RJ);function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}var DJ=["valueAccessor"],BJ=["data","dataKey","clockWise","id","textBreakAll"];function FJ(e){return WJ(e)||qJ(e)||UJ(e)||zJ()}function zJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(e,t){if(e){if(typeof e=="string")return q0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q0(e,t)}}function qJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WJ(e){if(Array.isArray(e))return q0(e)}function q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(this,arguments)}function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(r){HJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HJ(e,t,n){return t=VJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VJ(e){var t=ZJ(e,"string");return yc(t)=="symbol"?t:t+""}function ZJ(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rN(e,t){if(e==null)return{};var n=KJ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var GJ=function(t){return Array.isArray(t.value)?$J(t.value):t.value};function Na(e){var t=e.valueAccessor,n=t===void 0?GJ:t,r=rN(e,DJ),i=r.data,s=r.dataKey,l=r.clockWise,c=r.id,d=r.textBreakAll,f=rN(r,BJ);return!i||!i.length?null:G.createElement(wt,{className:"recharts-label-list"},i.map(function(p,h){var g=Be(s)?n(p,h):wn(p&&p.payload,s),j=Be(c)?{}:{id:"".concat(c,"-").concat(h)};return G.createElement(qt,vf({},Ce(p,!0),f,j,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:qt.parseViewBox(Be(l)?p:nN(nN({},p),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Na.displayName="LabelList";function YJ(e,t){return e?e===!0?G.createElement(Na,{key:"labelList-implicit",data:t}):G.isValidElement(e)||Te(e)?G.createElement(Na,{key:"labelList-implicit",data:t,content:e}):xo(e)?G.createElement(Na,vf({data:t},e,{key:"labelList-implicit"})):null:null}function XJ(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=jr(r,Na).map(function(l,c){return A.cloneElement(l,{data:t,key:"labelList-".concat(c)})});if(!n)return i;var s=YJ(e.label,t);return[s].concat(FJ(i))}Na.renderCallByParent=XJ;function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(this,arguments)}function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){QJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QJ(e,t,n){return t=JJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JJ(e){var t=eee(e,"string");return bc(t)=="symbol"?t:t+""}function eee(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tee=function(t,n){var r=Bn(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Wu=function(t){var n=t.cx,r=t.cy,i=t.radius,s=t.angle,l=t.sign,c=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(c?1:-1)+i,h=Math.asin(d/p)/xf,g=f?s:s+l*h,j=rt(n,r,p,g),x=rt(n,r,i,g),v=f?s-l*h:s,N=rt(n,r,p*Math.cos(h*xf),v);return{center:j,circleTangency:x,lineTangency:N,theta:h}},gC=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,c=t.endAngle,d=tee(l,c),f=l+d,p=rt(n,r,s,l),h=rt(n,r,s,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var j=rt(n,r,i,l),x=rt(n,r,i,f);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(j.x,",").concat(j.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},nee=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,c=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,h=Bn(p-f),g=Wu({cx:n,cy:r,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),j=g.circleTangency,x=g.lineTangency,v=g.theta,N=Wu({cx:n,cy:r,radius:s,angle:p,sign:-h,cornerRadius:l,cornerIsExternal:d}),y=N.circleTangency,_=N.lineTangency,w=N.theta,P=d?Math.abs(f-p):Math.abs(f-p)-v-w;if(P<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):gC({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var E=Wu({cx:n,cy:r,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),C=E.circleTangency,T=E.lineTangency,I=E.theta,M=Wu({cx:n,cy:r,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=M.circleTangency,F=M.lineTangency,W=M.theta,z=d?Math.abs(f-p):Math.abs(f-p)-I-W;if(z<0&&l===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},ree={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xC=function(t){var n=aN(aN({},ree),t),r=n.cx,i=n.cy,s=n.innerRadius,l=n.outerRadius,c=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,p=n.startAngle,h=n.endAngle,g=n.className;if(l<s||p===h)return null;var j=Ie("recharts-sector",g),x=l-s,v=ln(c,x,0,!0),N;return v>0&&Math.abs(p-h)<360?N=nee({cx:r,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(v,x/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:h}):N=gC({cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:h}),G.createElement("path",W0({},Ce(n,!0),{className:j,d:N,role:"img"}))};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(this,arguments)}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return t=aee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aee(e){var t=see(e,"string");return wc(t)=="symbol"?t:t+""}function see(e,t){if(wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lN={curveBasisClosed:tz,curveBasisOpen:nz,curveBasis:ez,curveBumpX:FF,curveBumpY:zF,curveLinearClosed:rz,curveLinear:Eh,curveMonotoneX:iz,curveMonotoneY:az,curveNatural:sz,curveStep:oz,curveStepAfter:cz,curveStepBefore:lz},Hu=function(t){return t.x===+t.x&&t.y===+t.y},nl=function(t){return t.x},rl=function(t){return t.y},oee=function(t,n){if(Te(t))return t;var r="curve".concat(Ph(t));return(r==="curveMonotone"||r==="curveBump")&&n?lN["".concat(r).concat(n==="vertical"?"Y":"X")]:lN[r]||Eh},lee=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,s=i===void 0?[]:i,l=t.baseLine,c=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=oee(r,c),h=f?s.filter(function(v){return Hu(v)}):s,g;if(Array.isArray(l)){var j=f?l.filter(function(v){return Hu(v)}):l,x=h.map(function(v,N){return oN(oN({},v),{},{base:j[N]})});return c==="vertical"?g=Iu().y(rl).x1(nl).x0(function(v){return v.base.x}):g=Iu().x(nl).y1(rl).y0(function(v){return v.base.y}),g.defined(Hu).curve(p),g(x)}return c==="vertical"&&ge(l)?g=Iu().y(rl).x1(nl).x0(l):ge(l)?g=Iu().x(nl).y1(rl).y0(l):g=xE().x(nl).y(rl),g.defined(Hu).curve(p),g(h)},V0=function(t){var n=t.className,r=t.points,i=t.path,s=t.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?lee(t):i;return A.createElement("path",H0({},Ce(t,!1),qd(t),{className:Ie("recharts-curve",n),d:l,ref:s}))},vC={exports:{}},cee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uee=cee,dee=uee;function yC(){}function bC(){}bC.resetWarningCache=yC;var fee=function(){function e(r,i,s,l,c,d){if(d!==dee){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bC,resetWarningCache:yC};return n.PropTypes=n,n};vC.exports=fee();var hee=vC.exports;const Ve=Ke(hee);var pee=Object.getOwnPropertyNames,mee=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty;function cN(e,t){return function(r,i,s){return e(r,i,s)&&t(r,i,s)}}function Vu(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var s=i.cache,l=s.get(n),c=s.get(r);if(l&&c)return l===r&&c===n;s.set(n,r),s.set(r,n);var d=e(n,r,i);return s.delete(n),s.delete(r),d}}function xee(e){return e!=null?e[Symbol.toStringTag]:void 0}function uN(e){return pee(e).concat(mee(e))}var vee=Object.hasOwn||function(e,t){return gee.call(e,t)};function za(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var yee="__v",bee="__o",wee="_owner",dN=Object.getOwnPropertyDescriptor,fN=Object.keys;function _ee(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function jee(e,t){return za(e.getTime(),t.getTime())}function Nee(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function See(e,t){return e===t}function hN(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.entries(),l,c,d=0;(l=s.next())&&!l.done;){for(var f=t.entries(),p=!1,h=0;(c=f.next())&&!c.done;){if(i[h]){h++;continue}var g=l.value,j=c.value;if(n.equals(g[0],j[0],d,h,e,t,n)&&n.equals(g[1],j[1],g[0],j[0],e,t,n)){p=i[h]=!0;break}h++}if(!p)return!1;d++}return!0}var Pee=za;function Aee(e,t,n){var r=fN(e),i=r.length;if(fN(t).length!==i)return!1;for(;i-- >0;)if(!wC(e,t,n,r[i]))return!1;return!0}function il(e,t,n){var r=uN(e),i=r.length;if(uN(t).length!==i)return!1;for(var s,l,c;i-- >0;)if(s=r[i],!wC(e,t,n,s)||(l=dN(e,s),c=dN(t,s),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Eee(e,t){return za(e.valueOf(),t.valueOf())}function Oee(e,t){return e.source===t.source&&e.flags===t.flags}function pN(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.values(),l,c;(l=s.next())&&!l.done;){for(var d=t.values(),f=!1,p=0;(c=d.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,e,t,n)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function Cee(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Tee(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wC(e,t,n,r){return(r===wee||r===bee||r===yee)&&(e.$$typeof||t.$$typeof)?!0:vee(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var kee="[object Arguments]",Mee="[object Boolean]",Lee="[object Date]",Iee="[object Error]",Ree="[object Map]",$ee="[object Number]",Dee="[object Object]",Bee="[object RegExp]",Fee="[object Set]",zee="[object String]",Uee="[object URL]",qee=Array.isArray,mN=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,gN=Object.assign,Wee=Object.prototype.toString.call.bind(Object.prototype.toString);function Hee(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,l=e.areNumbersEqual,c=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,h=e.areTypedArraysEqual,g=e.areUrlsEqual,j=e.unknownTagComparators;return function(v,N,y){if(v===N)return!0;if(v==null||N==null)return!1;var _=typeof v;if(_!==typeof N)return!1;if(_!=="object")return _==="number"?l(v,N,y):_==="function"?i(v,N,y):!1;var w=v.constructor;if(w!==N.constructor)return!1;if(w===Object)return c(v,N,y);if(qee(v))return t(v,N,y);if(mN!=null&&mN(v))return h(v,N,y);if(w===Date)return n(v,N,y);if(w===RegExp)return f(v,N,y);if(w===Map)return s(v,N,y);if(w===Set)return p(v,N,y);var P=Wee(v);if(P===Lee)return n(v,N,y);if(P===Bee)return f(v,N,y);if(P===Ree)return s(v,N,y);if(P===Fee)return p(v,N,y);if(P===Dee)return typeof v.then!="function"&&typeof N.then!="function"&&c(v,N,y);if(P===Uee)return g(v,N,y);if(P===Iee)return r(v,N,y);if(P===kee)return c(v,N,y);if(P===Mee||P===$ee||P===zee)return d(v,N,y);if(j){var S=j[P];if(!S){var E=xee(v);E&&(S=j[E])}if(S)return S(v,N,y)}return!1}}function Vee(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?il:_ee,areDatesEqual:jee,areErrorsEqual:Nee,areFunctionsEqual:See,areMapsEqual:r?cN(hN,il):hN,areNumbersEqual:Pee,areObjectsEqual:r?il:Aee,arePrimitiveWrappersEqual:Eee,areRegExpsEqual:Oee,areSetsEqual:r?cN(pN,il):pN,areTypedArraysEqual:r?il:Cee,areUrlsEqual:Tee,unknownTagComparators:void 0};if(n&&(i=gN({},i,n(i))),t){var s=Vu(i.areArraysEqual),l=Vu(i.areMapsEqual),c=Vu(i.areObjectsEqual),d=Vu(i.areSetsEqual);i=gN({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:d})}return i}function Zee(e){return function(t,n,r,i,s,l,c){return e(t,n,c)}}function Kee(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,s=e.strict;if(r)return function(d,f){var p=r(),h=p.cache,g=h===void 0?t?new WeakMap:void 0:h,j=p.meta;return n(d,f,{cache:g,equals:i,meta:j,strict:s})};if(t)return function(d,f){return n(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(d,f){return n(d,f,l)}}var Gee=qi();qi({strict:!0});qi({circular:!0});qi({circular:!0,strict:!0});qi({createInternalComparator:function(){return za}});qi({strict:!0,createInternalComparator:function(){return za}});qi({circular:!0,createInternalComparator:function(){return za}});qi({circular:!0,createInternalComparator:function(){return za},strict:!0});function qi(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,s=e.strict,l=s===void 0?!1:s,c=Vee(e),d=Hee(c),f=r?r(d):Zee(d);return Kee({circular:n,comparator:d,createState:i,equals:f,strict:l})}function Yee(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function xN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>t?(e(s),n=-1):Yee(i)};requestAnimationFrame(r)}function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function Xee(e){return tte(e)||ete(e)||Jee(e)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(e,t){if(e){if(typeof e=="string")return vN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(e,t)}}function vN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ete(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tte(e){if(Array.isArray(e))return e}function nte(){var e={},t=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,c=Xee(l),d=c[0],f=c.slice(1);if(typeof d=="number"){xN(i.bind(null,f),d);return}i(d),xN(i.bind(null,f));return}Z0(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){_C(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _C(e,t,n){return t=rte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ite(e,"string");return _c(t)==="symbol"?t:String(t)}function ite(e,t){if(_c(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_c(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ate=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},ste=function(t){return t},ote=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},El=function(t,n){return Object.keys(n).reduce(function(r,i){return bN(bN({},r),{},_C({},i,t(i,n[i])))},{})},wN=function(t,n,r){return t.map(function(i){return"".concat(ote(i)," ").concat(n,"ms ").concat(r)}).join(",")};function lte(e,t){return dte(e)||ute(e,t)||jC(e,t)||cte()}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function dte(e){if(Array.isArray(e))return e}function fte(e){return mte(e)||pte(e)||jC(e)||hte()}function hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jC(e,t){if(e){if(typeof e=="string")return K0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(e,t)}}function pte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mte(e){if(Array.isArray(e))return K0(e)}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yf=1e-4,NC=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},SC=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},_N=function(t,n){return function(r){var i=NC(t,n);return SC(i,r)}},gte=function(t,n){return function(r){var i=NC(t,n),s=[].concat(fte(i.map(function(l,c){return l*c}).slice(1)),[0]);return SC(s,r)}},jN=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],s=n[1],l=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,l=1,c=1;break;case"ease":i=.25,s=.1,l=.25,c=1;break;case"ease-in":i=.42,s=0,l=1,c=1;break;case"ease-out":i=.42,s=0,l=.58,c=1;break;case"ease-in-out":i=0,s=0,l=.58,c=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),p=lte(f,4);i=p[0],s=p[1],l=p[2],c=p[3]}}}var h=_N(i,l),g=_N(s,c),j=gte(i,l),x=function(y){return y>1?1:y<0?0:y},v=function(y){for(var _=y>1?1:y,w=_,P=0;P<8;++P){var S=h(w)-_,E=j(w);if(Math.abs(S-_)<yf||E<yf)return g(w);w=x(w-S/E)}return g(w)};return v.isStepper=!1,v},xte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,s=i===void 0?8:i,l=t.dt,c=l===void 0?17:l,d=function(p,h,g){var j=-(p-h)*r,x=g*s,v=g+(j-x)*c/1e3,N=g*c/1e3+p;return Math.abs(N-h)<yf&&Math.abs(v)<yf?[h,0]:[N,v]};return d.isStepper=!0,d.dt=c,d},vte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jN(i);case"spring":return xte();default:if(i.split("(")[0]==="cubic-bezier")return jN(i)}return typeof i=="function"?i:null};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function NN(e){return wte(e)||bte(e)||PC(e)||yte()}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wte(e){if(Array.isArray(e))return Y0(e)}function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(r){G0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G0(e,t,n){return t=_te(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _te(e){var t=jte(e,"string");return jc(t)==="symbol"?t:String(t)}function jte(e,t){if(jc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nte(e,t){return Ate(e)||Pte(e,t)||PC(e,t)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PC(e,t){if(e){if(typeof e=="string")return Y0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y0(e,t)}}function Y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function Ate(e){if(Array.isArray(e))return e}var bf=function(t,n,r){return t+(n-t)*r},X0=function(t){var n=t.from,r=t.to;return n!==r},Ete=function e(t,n,r){var i=El(function(s,l){if(X0(l)){var c=t(l.from,l.to,l.velocity),d=Nte(c,2),f=d[0],p=d[1];return zt(zt({},l),{},{from:f,velocity:p})}return l},n);return r<1?El(function(s,l){return X0(l)?zt(zt({},l),{},{velocity:bf(l.velocity,i[s].velocity,r),from:bf(l.from,i[s].from,r)}):l},n):e(t,i,r-1)};const Ote=function(e,t,n,r,i){var s=ate(e,t),l=s.reduce(function(N,y){return zt(zt({},N),{},G0({},y,[e[y],t[y]]))},{}),c=s.reduce(function(N,y){return zt(zt({},N),{},G0({},y,{from:e[y],velocity:0,to:t[y]}))},{}),d=-1,f,p,h=function(){return null},g=function(){return El(function(y,_){return _.from},c)},j=function(){return!Object.values(c).filter(X0).length},x=function(y){f||(f=y);var _=y-f,w=_/n.dt;c=Ete(n,c,w),i(zt(zt(zt({},e),t),g())),f=y,j()||(d=requestAnimationFrame(h))},v=function(y){p||(p=y);var _=(y-p)/r,w=El(function(S,E){return bf.apply(void 0,NN(E).concat([n(_)]))},l);if(i(zt(zt(zt({},e),t),w)),_<1)d=requestAnimationFrame(h);else{var P=El(function(S,E){return bf.apply(void 0,NN(E).concat([n(1)]))},l);i(zt(zt(zt({},e),t),P))}};return h=n.isStepper?x:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}var Cte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tte(e,t){if(e==null)return{};var n=kte(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kte(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Mm(e){return Rte(e)||Ite(e)||Lte(e)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(e,t){if(e){if(typeof e=="string")return Q0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(e,t)}}function Ite(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rte(e){if(Array.isArray(e))return Q0(e)}function Q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(r){hl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hl(e,t,n){return t=AC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AC(r.key),r)}}function Bte(e,t,n){return t&&Dte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AC(e){var t=Fte(e,"string");return Qs(t)==="symbol"?t:String(t)}function Fte(e,t){if(Qs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}function J0(e,t){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(e,t)}function Ute(e){var t=qte();return function(){var r=wf(e),i;if(t){var s=wf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ex(this,i)}}function ex(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tx(e)}function tx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wf(e)}var Mi=function(e){zte(n,e);var t=Ute(n);function n(r,i){var s;$te(this,n),s=t.call(this,r,i);var l=s.props,c=l.isActive,d=l.attributeName,f=l.from,p=l.to,h=l.steps,g=l.children,j=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(tx(s)),s.changeStyle=s.changeStyle.bind(tx(s)),!c||j<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:p}),ex(s);if(h&&h.length)s.state={style:h[0].style};else if(f){if(typeof g=="function")return s.state={style:f},ex(s);s.state={style:d?hl({},d,f):f}}else s.state={style:{}};return s}return Bte(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,c=s.canBegin,d=s.attributeName,f=s.shouldReAnimate,p=s.to,h=s.from,g=this.state.style;if(c){if(!l){var j={style:d?hl({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(j);return}if(!(Gee(i.to,p)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||f?h:i.to;if(this.state&&g){var N={style:d?hl({},d,v):v};(d&&g[d]!==v||!d&&g!==v)&&this.setState(N)}this.runAnimation(Yn(Yn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,c=i.to,d=i.duration,f=i.easing,p=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,j=Ote(l,c,vte(f),d,this.changeStyle),x=function(){s.stopJSAnimation=j()};this.manager.start([g,p,x,d,h])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,c=i.begin,d=i.onAnimationStart,f=l[0],p=f.style,h=f.duration,g=h===void 0?0:h,j=function(v,N,y){if(y===0)return v;var _=N.duration,w=N.easing,P=w===void 0?"ease":w,S=N.style,E=N.properties,C=N.onAnimationEnd,T=y>0?l[y-1]:N,I=E||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(Mm(v),[s.runJSAnimation.bind(s,{from:T.style,to:S,duration:_,easing:P}),_]);var M=wN(I,_,P),R=Yn(Yn(Yn({},T.style),S),{},{transition:M});return[].concat(Mm(v),[R,_,C]).filter(ste)};return this.manager.start([d].concat(Mm(l.reduce(j,[p,Math.max(g,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nte());var s=i.begin,l=i.duration,c=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,j=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof j=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var v=c?hl({},c,d):d,N=wN(Object.keys(v),l,f);x.start([p,s,Yn(Yn({},v),{},{transition:N}),l,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Tte(i,Cte),f=A.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!c||f===0||l<=0)return s;var h=function(j){var x=j.props,v=x.style,N=v===void 0?{}:v,y=x.className,_=A.cloneElement(j,Yn(Yn({},d),{},{style:Yn(Yn({},N),p),className:y}));return _};return f===1?h(A.Children.only(s)):G.createElement("div",null,A.Children.map(s,function(g){return h(g)}))}}]),n}(A.PureComponent);Mi.displayName="Animate";Mi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mi.propTypes={from:Ve.oneOfType([Ve.object,Ve.string]),to:Ve.oneOfType([Ve.object,Ve.string]),attributeName:Ve.string,duration:Ve.number,begin:Ve.number,easing:Ve.oneOfType([Ve.string,Ve.func]),steps:Ve.arrayOf(Ve.shape({duration:Ve.number.isRequired,style:Ve.object.isRequired,easing:Ve.oneOfType([Ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ve.func]),properties:Ve.arrayOf("string"),onAnimationEnd:Ve.func})),children:Ve.oneOfType([Ve.node,Ve.func]),isActive:Ve.bool,canBegin:Ve.bool,onAnimationEnd:Ve.func,shouldReAnimate:Ve.bool,onAnimationStart:Ve.func,onAnimationReStart:Ve.func};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_f.apply(this,arguments)}function Wte(e,t){return Kte(e)||Zte(e,t)||Vte(e,t)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(e,t){if(e){if(typeof e=="string")return AN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AN(e,t)}}function AN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function Kte(e){if(Array.isArray(e))return e}function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ON(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){Gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gte(e,t,n){return t=Yte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yte(e){var t=Xte(e,"string");return Nc(t)=="symbol"?t:t+""}function Xte(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CN=function(t,n,r,i,s){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,d=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,j=4;g<j;g++)h[g]=s[g]>l?l:s[g];p="M".concat(t,",").concat(n+c*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(n)),p+="L ".concat(t+r-d*h[1],",").concat(n),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(n+c*h[1])),p+="L ".concat(t+r,",").concat(n+i-c*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+r-d*h[2],",").concat(n+i)),p+="L ".concat(t+d*h[3],",").concat(n+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+i-c*h[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var x=Math.min(l,s);p="M ".concat(t,",").concat(n+c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+d*x,",").concat(n,`
            L `).concat(t+r-d*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+r,",").concat(n+c*x,`
            L `).concat(t+r,",").concat(n+i-c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+r-d*x,",").concat(n+i,`
            L `).concat(t+d*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t,",").concat(n+i-c*x," Z")}else p="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},Qte=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,s=n.x,l=n.y,c=n.width,d=n.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(s,s+c),p=Math.max(s,s+c),h=Math.min(l,l+d),g=Math.max(l,l+d);return r>=f&&r<=p&&i>=h&&i<=g}return!1},Jte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},My=function(t){var n=ON(ON({},Jte),t),r=A.useRef(),i=A.useState(-1),s=Wte(i,2),l=s[0],c=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&c(P)}catch{}},[]);var d=n.x,f=n.y,p=n.width,h=n.height,g=n.radius,j=n.className,x=n.animationEasing,v=n.animationDuration,N=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||p===0||h===0)return null;var w=Ie("recharts-rectangle",j);return _?G.createElement(Mi,{canBegin:l>0,from:{width:p,height:h,x:d,y:f},to:{width:p,height:h,x:d,y:f},duration:v,animationEasing:x,isActive:_},function(P){var S=P.width,E=P.height,C=P.x,T=P.y;return G.createElement(Mi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:v,isActive:y,easing:x},G.createElement("path",_f({},Ce(n,!0),{className:w,d:CN(C,T,S,E,g),ref:r})))}):G.createElement("path",_f({},Ce(n,!0),{className:w,d:CN(d,f,p,h,g)}))},ene=["points","className","baseLinePoints","connectNulls"];function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(this,arguments)}function tne(e,t){if(e==null)return{};var n=nne(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function TN(e){return sne(e)||ane(e)||ine(e)||rne()}function rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ine(e,t){if(e){if(typeof e=="string")return nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(e,t)}}function ane(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sne(e){if(Array.isArray(e))return nx(e)}function nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kN=function(t){return t&&t.x===+t.x&&t.y===+t.y},one=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){kN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),kN(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ol=function(t,n){var r=one(t);n&&(r=[r.reduce(function(s,l){return[].concat(TN(s),TN(l))},[])]);var i=r.map(function(s){return s.reduce(function(l,c,d){return"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},lne=function(t,n,r){var i=Ol(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ol(n.reverse(),r).slice(1))},cne=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,s=t.connectNulls,l=tne(t,ene);if(!n||!n.length)return null;var c=Ie("recharts-polygon",r);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",f=lne(n,i,s);return G.createElement("g",{className:c},G.createElement("path",xs({},Ce(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?G.createElement("path",xs({},Ce(l,!0),{fill:"none",d:Ol(n,s)})):null,d?G.createElement("path",xs({},Ce(l,!0),{fill:"none",d:Ol(i,s)})):null)}var p=Ol(n,s);return G.createElement("path",xs({},Ce(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rx.apply(this,arguments)}var Ly=function(t){var n=t.cx,r=t.cy,i=t.r,s=t.className,l=Ie("recharts-dot",s);return n===+n&&r===+r&&i===+i?A.createElement("circle",rx({},Ce(t,!1),qd(t),{className:l,cx:n,cy:r,r:i})):null};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}var une=["x","y","top","left","width","height","className"];function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ix.apply(this,arguments)}function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(r){fne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fne(e,t,n){return t=hne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hne(e){var t=pne(e,"string");return Sc(t)=="symbol"?t:t+""}function pne(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t){if(e==null)return{};var n=gne(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var xne=function(t,n,r,i,s,l){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},vne=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,l=t.top,c=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,h=p===void 0?0:p,g=t.height,j=g===void 0?0:g,x=t.className,v=mne(t,une),N=dne({x:r,y:s,top:c,left:f,width:h,height:j},v);return!ge(r)||!ge(s)||!ge(h)||!ge(j)||!ge(c)||!ge(f)?null:G.createElement("path",ix({},Ce(N,!0),{className:Ie("recharts-cross",x),d:xne(r,s,h,j,c,f)}))},yne=Fh,bne=WO,wne=Fi;function _ne(e,t){return e&&e.length?yne(e,wne(t),bne):void 0}var jne=_ne;const Nne=Ke(jne);var Sne=Fh,Pne=Fi,Ane=HO;function Ene(e,t){return e&&e.length?Sne(e,Pne(t),Ane):void 0}var One=Ene;const Cne=Ke(One);var Tne=["cx","cy","angle","ticks","axisLine"],kne=["ticks","tick","angle","tickFormatter","stroke"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){Hh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IN(e,t){if(e==null)return{};var n=Mne(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Lne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OC(r.key),r)}}function Ine(e,t,n){return t&&RN(e.prototype,t),n&&RN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rne(e,t,n){return t=jf(t),$ne(e,EC()?Reflect.construct(t,n||[],jf(e).constructor):t.apply(e,n))}function $ne(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(e)}function Dne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EC=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(e)}function Bne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ax(e,t)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ax(e,t)}function Hh(e,t,n){return t=OC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OC(e){var t=Fne(e,"string");return Js(t)=="symbol"?t:t+""}function Fne(e,t){if(Js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vh=function(e){function t(){return Lne(this,t),Rne(this,t,arguments)}return Bne(t,e),Ine(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,l=s.angle,c=s.cx,d=s.cy;return rt(c,d,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,d=Nne(c,function(p){return p.coordinate||0}),f=Cne(c,function(p){return p.coordinate||0});return{cx:i,cy:s,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,d=r.axisLine,f=IN(r,Tne),p=c.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),h=rt(i,s,p[0],l),g=rt(i,s,p[1],l),j=Xi(Xi(Xi({},Ce(f,!1)),{},{fill:"none"},Ce(d,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return G.createElement("line",Cl({className:"recharts-polar-radius-axis-line"},j))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.angle,d=i.tickFormatter,f=i.stroke,p=IN(i,kne),h=this.getTickTextAnchor(),g=Ce(p,!1),j=Ce(l,!1),x=s.map(function(v,N){var y=r.getTickValueCoord(v),_=Xi(Xi(Xi(Xi({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(y.x,", ").concat(y.y,")")},g),{},{stroke:"none",fill:f},j),{},{index:N},y),{},{payload:v});return G.createElement(wt,Cl({className:Ie("recharts-polar-radius-axis-tick",pC(l)),key:"tick-".concat(v.coordinate)},Sh(r.props,v,N)),t.renderTickItem(l,_,d?d(v.value,N):v.value))});return G.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,l=r.tick;return!i||!i.length?null:G.createElement(wt,{className:Ie("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),qt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):Te(r)?l=r(i):l=G.createElement(Vs,Cl({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])}(A.PureComponent);Hh(Vh,"displayName","PolarRadiusAxis");Hh(Vh,"axisType","radiusAxis");Hh(Vh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(this,arguments)}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){Zh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TC(r.key),r)}}function Une(e,t,n){return t&&DN(e.prototype,t),n&&DN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qne(e,t,n){return t=Nf(t),Wne(e,CC()?Reflect.construct(t,n||[],Nf(e).constructor):t.apply(e,n))}function Wne(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hne(e)}function Hne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CC=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(e)}function Vne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sx(e,t)}function Zh(e,t,n){return t=TC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TC(e){var t=Zne(e,"string");return eo(t)=="symbol"?t:t+""}function Zne(e,t){if(eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kne=Math.PI/180,BN=1e-5,Kh=function(e){function t(){return zne(this,t),qne(this,t,arguments)}return Vne(t,e),Une(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,l=i.cy,c=i.radius,d=i.orientation,f=i.tickSize,p=f||8,h=rt(s,l,c,r.coordinate),g=rt(s,l,c+(d==="inner"?-1:1)*p,r.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*Kne),l;return s>BN?l=i==="outer"?"start":"end":s<-BN?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.radius,c=r.axisLine,d=r.axisLineType,f=Qi(Qi({},Ce(this.props,!1)),{},{fill:"none"},Ce(c,!1));if(d==="circle")return G.createElement(Ly,sa({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:s,r:l}));var p=this.props.ticks,h=p.map(function(g){return rt(i,s,l,g.coordinate)});return G.createElement(cne,sa({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.tickLine,d=i.tickFormatter,f=i.stroke,p=Ce(this.props,!1),h=Ce(l,!1),g=Qi(Qi({},p),{},{fill:"none"},Ce(c,!1)),j=s.map(function(x,v){var N=r.getTickLineCoord(x),y=r.getTickTextAnchor(x),_=Qi(Qi(Qi({textAnchor:y},p),{},{stroke:"none",fill:f},h),{},{index:v,payload:x,x:N.x2,y:N.y2});return G.createElement(wt,sa({className:Ie("recharts-polar-angle-axis-tick",pC(l)),key:"tick-".concat(x.coordinate)},Sh(r.props,x,v)),c&&G.createElement("line",sa({className:"recharts-polar-angle-axis-tick-line"},g,N)),l&&t.renderTickItem(l,_,d?d(x.value,v):x.value))});return G.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},j)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,l=r.axisLine;return s<=0||!i||!i.length?null:G.createElement(wt,{className:Ie("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):Te(r)?l=r(i):l=G.createElement(Vs,sa({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])}(A.PureComponent);Zh(Kh,"displayName","PolarAngleAxis");Zh(Kh,"axisType","angleAxis");Zh(Kh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Gne=zE,Yne=Gne(Object.getPrototypeOf,Object),Xne=Yne,Qne=ri,Jne=Xne,ere=ii,tre="[object Object]",nre=Function.prototype,rre=Object.prototype,kC=nre.toString,ire=rre.hasOwnProperty,are=kC.call(Object);function sre(e){if(!ere(e)||Qne(e)!=tre)return!1;var t=Jne(e);if(t===null)return!0;var n=ire.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kC.call(n)==are}var ore=sre;const lre=Ke(ore);var cre=ri,ure=ii,dre="[object Boolean]";function fre(e){return e===!0||e===!1||ure(e)&&cre(e)==dre}var hre=fre;const pre=Ke(hre);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(this,arguments)}function mre(e,t){return yre(e)||vre(e,t)||xre(e,t)||gre()}function gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(e,t){if(e){if(typeof e=="string")return FN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(e,t)}}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function yre(e){if(Array.isArray(e))return e}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bre(e,t,n){return t=wre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wre(e){var t=_re(e,"string");return Pc(t)=="symbol"?t:t+""}function _re(e,t){if(Pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qN=function(t,n,r,i,s){var l=r-i,c;return c="M ".concat(t,",").concat(n),c+="L ".concat(t+r,",").concat(n),c+="L ".concat(t+r-l/2,",").concat(n+s),c+="L ".concat(t+r-l/2-i,",").concat(n+s),c+="L ".concat(t,",").concat(n," Z"),c},jre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nre=function(t){var n=UN(UN({},jre),t),r=A.useRef(),i=A.useState(-1),s=mre(i,2),l=s[0],c=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&c(w)}catch{}},[]);var d=n.x,f=n.y,p=n.upperWidth,h=n.lowerWidth,g=n.height,j=n.className,x=n.animationEasing,v=n.animationDuration,N=n.animationBegin,y=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||g!==+g||p===0&&h===0||g===0)return null;var _=Ie("recharts-trapezoid",j);return y?G.createElement(Mi,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:h,height:g,x:d,y:f},duration:v,animationEasing:x,isActive:y},function(w){var P=w.upperWidth,S=w.lowerWidth,E=w.height,C=w.x,T=w.y;return G.createElement(Mi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:v,easing:x},G.createElement("path",Sf({},Ce(n,!0),{className:_,d:qN(C,T,P,S,E),ref:r})))}):G.createElement("g",null,G.createElement("path",Sf({},Ce(n,!0),{className:_,d:qN(d,f,p,h,g)})))},Sre=["option","shapeType","propTransformer","activeClassName","isActive"];function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Pre(e,t){if(e==null)return{};var n=Are(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Are(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){Ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t,n){return t=Ore(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ore(e){var t=Cre(e,"string");return Ac(t)=="symbol"?t:t+""}function Cre(e,t){if(Ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e,t){return Pf(Pf({},t),e)}function kre(e,t){return e==="symbols"}function HN(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return G.createElement(My,n);case"trapezoid":return G.createElement(Nre,n);case"sector":return G.createElement(xC,n);case"symbols":if(kre(t))return G.createElement(Kv,n);break;default:return null}}function Mre(e){return A.isValidElement(e)?e.props:e}function Lre(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Tre:r,s=e.activeClassName,l=s===void 0?"recharts-active-shape":s,c=e.isActive,d=Pre(e,Sre),f;if(A.isValidElement(t))f=A.cloneElement(t,Pf(Pf({},d),Mre(t)));else if(Te(t))f=t(d);else if(lre(t)&&!pre(t)){var p=i(t,d);f=G.createElement(HN,{shapeType:n,elementProps:p})}else{var h=d;f=G.createElement(HN,{shapeType:n,elementProps:h})}return c?G.createElement(wt,{className:l},f):f}function Gh(e,t){return t!=null&&"trapezoids"in e.props}function Yh(e,t){return t!=null&&"sectors"in e.props}function Ec(e,t){return t!=null&&"points"in e.props}function Ire(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,s=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&s}function Rre(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function $re(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Dre(e,t){var n;return Gh(e,t)?n=Ire:Yh(e,t)?n=Rre:Ec(e,t)&&(n=$re),n}function Bre(e,t){var n;return Gh(e,t)?n="trapezoids":Yh(e,t)?n="sectors":Ec(e,t)&&(n="points"),n}function Fre(e,t){if(Gh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Yh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ec(e,t)?t.payload:{}}function zre(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Bre(n,t),s=Fre(n,t),l=r.filter(function(d,f){var p=Ey(s,d),h=n.props[i].filter(function(x){var v=Dre(n,t);return v(x,t)}),g=n.props[i].indexOf(h[h.length-1]),j=f===g;return p&&j}),c=r.indexOf(l[l.length-1]);return c}var fd;function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vs.apply(this,arguments)}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){$n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ure(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LC(r.key),r)}}function qre(e,t,n){return t&&ZN(e.prototype,t),n&&ZN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wre(e,t,n){return t=Af(t),Hre(e,MC()?Reflect.construct(t,n||[],Af(e).constructor):t.apply(e,n))}function Hre(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vre(e)}function Vre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MC=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(e)}function Zre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ox(e,t)}function ox(e,t){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(e,t)}function $n(e,t,n){return t=LC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LC(e){var t=Kre(e,"string");return to(t)=="symbol"?t:t+""}function Kre(e,t){if(to(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var si=function(e){function t(n){var r;return Ure(this,t),r=Wre(this,t,[n]),$n(r,"pieRef",null),$n(r,"sectorRefs",[]),$n(r,"id",Nh("recharts-pie-")),$n(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Te(i)&&i()}),$n(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Te(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Zre(t,e),qre(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,c=s.labelLine,d=s.dataKey,f=s.valueKey,p=Ce(this.props,!1),h=Ce(l,!1),g=Ce(c,!1),j=l&&l.offsetRadius||20,x=r.map(function(v,N){var y=(v.startAngle+v.endAngle)/2,_=rt(v.cx,v.cy,v.outerRadius+j,y),w=et(et(et(et({},p),v),{},{stroke:"none"},h),{},{index:N,textAnchor:t.getTextAnchor(_.x,v.cx)},_),P=et(et(et(et({},p),v),{},{fill:"none",stroke:v.fill},g),{},{index:N,points:[rt(v.cx,v.cy,v.outerRadius,y),_]}),S=d;return Be(d)&&Be(f)?S="value":Be(d)&&(S=f),G.createElement(wt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(N)},c&&t.renderLabelLineItem(c,P,"line"),t.renderLabelItem(l,w,wn(v,S)))});return G.createElement(wt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,l=s.activeShape,c=s.blendStroke,d=s.inactiveShape;return r.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(p),g=d&&i.hasActiveIndex()?d:null,j=h?l:g,x=et(et({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return G.createElement(wt,vs({ref:function(N){N&&!i.sectorRefs.includes(N)&&i.sectorRefs.push(N)},tabIndex:-1,className:"recharts-pie-sector"},Sh(i.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),G.createElement(Lre,vs({option:j,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,h=this.state,g=h.prevSectors,j=h.prevIsAnimationActive;return G.createElement(Mi,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(j),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,N=[],y=s&&s[0],_=y.startAngle;return s.forEach(function(w,P){var S=g&&g[P],E=P>0?ir(w,"paddingAngle",0):0;if(S){var C=B1(S.endAngle-S.startAngle,w.endAngle-w.startAngle),T=et(et({},w),{},{startAngle:_+E,endAngle:_+C(v)+E});N.push(T),_=T.endAngle}else{var I=w.endAngle,M=w.startAngle,R=B1(0,I-M),F=R(v),W=et(et({},w),{},{startAngle:_+E,endAngle:_+F+E});N.push(W),_=W.endAngle}}),G.createElement(wt,null,r.renderSectorsStatically(N))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,l=this.state.prevSectors;return s&&i&&i.length&&(!l||!Ey(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,l=i.sectors,c=i.className,d=i.label,f=i.cx,p=i.cy,h=i.innerRadius,g=i.outerRadius,j=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!l||!l.length||!ge(f)||!ge(p)||!ge(h)||!ge(g))return null;var v=Ie("recharts-pie",c);return G.createElement(wt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(y){r.pieRef=y}},this.renderSectors(),d&&this.renderLabels(l),qt.renderCallByParent(this.props,null,!1),(!j||x)&&Na.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);if(Te(r))return r(i);var l=Ie("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return G.createElement(V0,vs({},i,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);var l=s;if(Te(r)&&(l=r(i),G.isValidElement(l)))return l;var c=Ie("recharts-pie-label-text",typeof r!="boolean"&&!Te(r)?r.className:"");return G.createElement(Vs,vs({},i,{alignmentBaseline:"middle",className:c}),l)}}])}(A.PureComponent);fd=si;$n(si,"displayName","Pie");$n(si,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$n(si,"parseDeltaAngle",function(e,t){var n=Bn(t-e),r=Math.min(Math.abs(t-e),360);return n*r});$n(si,"getRealPieData",function(e){var t=e.data,n=e.children,r=Ce(e,!1),i=jr(n,ay);return t&&t.length?t.map(function(s,l){return et(et(et({payload:s},r),s),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(s){return et(et({},r),s.props)}):[]});$n(si,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,s=t.height,l=hC(i,s),c=r+ln(e.cx,i,i/2),d=n+ln(e.cy,s,s/2),f=ln(e.innerRadius,l,0),p=ln(e.outerRadius,l,l*.8),h=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:h}});$n(si,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?et(et({},t.type.defaultProps),t.props):t.props,i=fd.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,l=r.startAngle,c=r.endAngle,d=r.paddingAngle,f=r.dataKey,p=r.nameKey,h=r.valueKey,g=r.tooltipType,j=Math.abs(r.minAngle),x=fd.parseCoordinateOfPie(r,n),v=fd.parseDeltaAngle(l,c),N=Math.abs(v),y=f;Be(f)&&Be(h)?(Vr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Be(f)&&(Vr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var _=i.filter(function(T){return wn(T,y,0)!==0}).length,w=(N>=360?_:_-1)*d,P=N-_*j-w,S=i.reduce(function(T,I){var M=wn(I,y,0);return T+(ge(M)?M:0)},0),E;if(S>0){var C;E=i.map(function(T,I){var M=wn(T,y,0),R=wn(T,p,I),F=(ge(M)?M:0)/S,W;I?W=C.endAngle+Bn(v)*d*(M!==0?1:0):W=l;var z=W+Bn(v)*((M!==0?j:0)+F*P),V=(W+z)/2,X=(x.innerRadius+x.outerRadius)/2,ne=[{name:R,value:M,payload:T,dataKey:y,type:g}],B=rt(x.cx,x.cy,X,V);return C=et(et(et({percent:F,cornerRadius:s,name:R,tooltipPayload:ne,midAngle:V,middleRadius:X,tooltipPosition:B},T),x),{},{value:wn(T,y),startAngle:W,endAngle:z,payload:T,paddingAngle:Bn(v)*d}),C})}return et(et({},x),{},{sectors:E,data:i})});var Gre=Math.ceil,Yre=Math.max;function Xre(e,t,n,r){for(var i=-1,s=Yre(Gre((t-e)/(n||1)),0),l=Array(s);s--;)l[r?s:++i]=e,e+=n;return l}var Qre=Xre,Jre=aO,KN=1/0,eie=17976931348623157e292;function tie(e){if(!e)return e===0?e:0;if(e=Jre(e),e===KN||e===-KN){var t=e<0?-1:1;return t*eie}return e===e?e:0}var nie=tie,rie=Qre,iie=kh,Lm=nie;function aie(e){return function(t,n,r){return r&&typeof r!="number"&&iie(t,n,r)&&(n=r=void 0),t=Lm(t),n===void 0?(n=t,t=0):n=Lm(n),r=r===void 0?t<n?1:-1:Lm(r),rie(t,n,r,e)}}var sie=aie,oie=sie,lie=oie(),cie=lie;const Ef=Ke(cie);function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){IC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IC(e,t,n){return t=uie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uie(e){var t=die(e,"string");return Oc(t)=="symbol"?t:t+""}function die(e,t){if(Oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fie=["Webkit","Moz","O","ms"],hie=function(t,n){var r=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=fie.reduce(function(s,l){return YN(YN({},s),{},IC({},l+r,n))},{});return i[t]=n,i};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of.apply(this,arguments)}function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(r){vn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$C(r.key),r)}}function mie(e,t,n){return t&&QN(e.prototype,t),n&&QN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gie(e,t,n){return t=Cf(t),xie(e,RC()?Reflect.construct(t,n||[],Cf(e).constructor):t.apply(e,n))}function xie(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vie(e)}function vie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RC=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(e)}function yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lx(e,t)}function lx(e,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(e,t)}function vn(e,t,n){return t=$C(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $C(e){var t=bie(e,"string");return no(t)=="symbol"?t:t+""}function bie(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wie=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,s=t.x,l=t.width,c=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=Pl().domain(Ef(0,d)).range([s,s+l-c]),p=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:p}},JN=function(t){return t.changedTouches&&!!t.changedTouches.length},ro=function(e){function t(n){var r;return pie(this,t),r=gie(this,t,[n]),vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,l=i.onDragEnd,c=i.startIndex;l==null||l({endIndex:s,startIndex:c})}),r.detachDragEndListener()}),vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vn(r,"handleSlideDragStart",function(i){var s=JN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return yie(t,e),mie(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,l=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,h=Math.min(i,s),g=Math.max(i,s),j=t.getIndexInRange(l,h),x=t.getIndexInRange(l,g);return{startIndex:j-j%d,endIndex:x===p?p:x-x%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,l=i.tickFormatter,c=i.dataKey,d=wn(s[r],c,r);return Te(l)?l(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,l=i.startX,c=i.endX,d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.startIndex,j=d.endIndex,x=d.onChange,v=r.pageX-s;v>0?v=Math.min(v,f+p-h-c,f+p-h-l):v<0&&(v=Math.max(v,f-l,f-c));var N=this.getIndex({startX:l+v,endX:c+v});(N.startIndex!==g||N.endIndex!==j)&&x&&x(N),this.setState({startX:l+v,endX:c+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=JN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,d=i.startX,f=this.state[l],p=this.props,h=p.x,g=p.width,j=p.travellerWidth,x=p.onChange,v=p.gap,N=p.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,h+g-j-f):_<0&&(_=Math.max(_,h-f)),y[l]=f+_;var w=this.getIndex(y),P=w.startIndex,S=w.endIndex,E=function(){var T=N.length-1;return l==="startX"&&(c>d?P%v===0:S%v===0)||c<d&&S===T||l==="endX"&&(c>d?S%v===0:P%v===0)||c>d&&S===T};this.setState(vn(vn({},l,f+_),"brushMoveStartX",r.pageX),function(){x&&E()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,l=this.state,c=l.scaleValues,d=l.startX,f=l.endX,p=this.state[i],h=c.indexOf(p);if(h!==-1){var g=h+r;if(!(g===-1||g>=c.length)){var j=c[g];i==="startX"&&j>=f||i==="endX"&&j<=d||this.setState(vn({},i,j),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,d=r.fill,f=r.stroke;return G.createElement("rect",{stroke:f,fill:d,x:i,y:s,width:l,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,d=r.data,f=r.children,p=r.padding,h=A.Children.only(f);return h?G.cloneElement(h,{x:i,y:s,width:l,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,l,c=this,d=this.props,f=d.y,p=d.travellerWidth,h=d.height,g=d.traveller,j=d.ariaLabel,x=d.data,v=d.startIndex,N=d.endIndex,y=Math.max(r,this.props.x),_=Im(Im({},Ce(this.props,!1)),{},{x:y,y:f,width:p,height:h}),w=j||"Min value: ".concat((s=x[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=x[N])===null||l===void 0?void 0:l.name);return G.createElement(wt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),c.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,l=s.y,c=s.height,d=s.stroke,f=s.travellerWidth,p=Math.min(r,i)+f,h=Math.max(Math.abs(i-r)-f,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:h,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,l=r.y,c=r.height,d=r.travellerWidth,f=r.stroke,p=this.state,h=p.startX,g=p.endX,j=5,x={pointerEvents:"none",fill:f};return G.createElement(wt,{className:"recharts-brush-texts"},G.createElement(Vs,Of({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-j,y:l+c/2},x),this.getTextOfTick(i)),G.createElement(Vs,Of({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+j,y:l+c/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,l=r.children,c=r.x,d=r.y,f=r.width,p=r.height,h=r.alwaysShowText,g=this.state,j=g.startX,x=g.endX,v=g.isTextActive,N=g.isSlideMoving,y=g.isTravellerMoving,_=g.isTravellerFocused;if(!i||!i.length||!ge(c)||!ge(d)||!ge(f)||!ge(p)||f<=0||p<=0)return null;var w=Ie("recharts-brush",s),P=G.Children.count(l)===1,S=hie("userSelect","none");return G.createElement(wt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(j,x),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(x,"endX"),(v||N||y||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,l=r.width,c=r.height,d=r.stroke,f=Math.floor(s+c/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:s,width:l,height:c,fill:d,stroke:"none"}),G.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return G.isValidElement(r)?s=G.cloneElement(r,i):Te(r)?s=r(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,l=r.width,c=r.x,d=r.travellerWidth,f=r.updateId,p=r.startIndex,h=r.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return Im({prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:l},s&&s.length?wie({data:s,width:l,x:c,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+l-d]);var g=i.scale.domain().map(function(j){return i.scale(j)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,l=0,c=s-1;c-l>1;){var d=Math.floor((l+c)/2);r[d]>i?c=d:l=d}return i>=r[c]?c:l}}])}(A.PureComponent);vn(ro,"displayName","Brush");vn(ro,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _ie=ny;function jie(e,t){var n;return _ie(e,function(r,i,s){return n=t(r,i,s),!n}),!!n}var Nie=jie,Sie=ME,Pie=Fi,Aie=Nie,Eie=mn,Oie=kh;function Cie(e,t,n){var r=Eie(e)?Sie:Aie;return n&&Oie(e,t,n)&&(t=void 0),r(e,Pie(t))}var Tie=Cie;const kie=Ke(Tie);var Sr=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},e2=eO;function Mie(e,t,n){t=="__proto__"&&e2?e2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Lie=Mie,Iie=Lie,Rie=QE,$ie=Fi;function Die(e,t){var n={};return t=$ie(t),Rie(e,function(r,i,s){Iie(n,i,t(r,i,s))}),n}var Bie=Die;const Fie=Ke(Bie);function zie(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Uie=zie,qie=ny;function Wie(e,t){var n=!0;return qie(e,function(r,i,s){return n=!!t(r,i,s),n}),n}var Hie=Wie,Vie=Uie,Zie=Hie,Kie=Fi,Gie=mn,Yie=kh;function Xie(e,t,n){var r=Gie(e)?Vie:Zie;return n&&Yie(e,t,n)&&(t=void 0),r(e,Kie(t))}var Qie=Xie;const Jie=Ke(Qie);function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DC(r.key),r)}}function tae(e,t,n){return t&&t2(e.prototype,t),n&&t2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(r){Iy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iy(e,t,n){return t=DC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DC(e){var t=nae(e,"string");return Cc(t)=="symbol"?t:t+""}function nae(e,t){if(Cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BC=function(t,n){var r=t.x,i=t.y,s=n.x,l=n.y;return{x:Math.min(r,s),y:Math.min(i,l),width:Math.abs(s-r),height:Math.abs(l-i)}},rae=function(t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2;return BC({x:n,y:r},{x:i,y:s})},FC=function(){function e(t){eae(this,e),this.scale=t}return tae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Iy(FC,"EPS",1e-4);var Ry=function(t){var n=Object.keys(t).reduce(function(r,i){return Zu(Zu({},r),{},Iy({},i,FC.create(t[i])))},{});return Zu(Zu({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,c=s.position;return Fie(i,function(d,f){return n[f].apply(d,{bandAware:l,position:c})})},isInRange:function(i){return Jie(i,function(s,l){return n[l].isInRange(s)})}})},iae=L8(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zC=A.createContext(void 0),UC=A.createContext(void 0),qC=A.createContext(void 0),aae=A.createContext({}),WC=A.createContext(void 0),sae=A.createContext(0),oae=A.createContext(0),r2=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,l=t.clipPathId,c=t.children,d=t.width,f=t.height,p=iae(s);return G.createElement(zC.Provider,{value:r},G.createElement(UC.Provider,{value:i},G.createElement(aae.Provider,{value:s},G.createElement(qC.Provider,{value:p},G.createElement(WC.Provider,{value:l},G.createElement(sae.Provider,{value:f},G.createElement(oae.Provider,{value:d},c)))))))},lae=function(){return A.useContext(WC)},cae=function(t){var n=A.useContext(zC);n==null&&Ys();var r=n[t];return r==null&&Ys(),r},uae=function(t){var n=A.useContext(UC);n==null&&Ys();var r=n[t];return r==null&&Ys(),r},dae=function(){var t=A.useContext(qC);return t};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function fae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VC(r.key),r)}}function pae(e,t,n){return t&&hae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mae(e,t,n){return t=Tf(t),gae(e,HC()?Reflect.construct(t,n||[],Tf(e).constructor):t.apply(e,n))}function gae(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xae(e)}function xae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HC=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(e)}function vae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cx(e,t)}function cx(e,t){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cx(e,t)}function i2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(n),!0).forEach(function(r){$y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $y(e,t,n){return t=VC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VC(e){var t=yae(e,"string");return io(t)=="symbol"?t:t+""}function yae(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bae(e,t){return Nae(e)||jae(e,t)||_ae(e,t)||wae()}function wae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ae(e,t){if(e){if(typeof e=="string")return s2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s2(e,t)}}function s2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function Nae(e){if(Array.isArray(e))return e}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(this,arguments)}var Sae=function(t,n){var r;return G.isValidElement(t)?r=G.cloneElement(t,n):Te(t)?r=t(n):r=G.createElement("line",ux({},n,{className:"recharts-reference-line-line"})),r},Pae=function(t,n,r,i,s,l,c,d,f){var p=s.x,h=s.y,g=s.width,j=s.height;if(r){var x=f.y,v=t.y.apply(x,{position:l});if(Sr(f,"discard")&&!t.y.isInRange(v))return null;var N=[{x:p+g,y:v},{x:p,y:v}];return d==="left"?N.reverse():N}if(n){var y=f.x,_=t.x.apply(y,{position:l});if(Sr(f,"discard")&&!t.x.isInRange(_))return null;var w=[{x:_,y:h+j},{x:_,y:h}];return c==="top"?w.reverse():w}if(i){var P=f.segment,S=P.map(function(E){return t.apply(E,{position:l})});return Sr(f,"discard")&&kie(S,function(E){return!t.isInRange(E)})?null:S}return null};function Aae(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,s=e.yAxisId,l=e.shape,c=e.className,d=e.alwaysShow,f=lae(),p=cae(i),h=uae(s),g=dae();if(!f||!g)return null;Vr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=Ry({x:p.scale,y:h.scale}),x=Mt(t),v=Mt(n),N=r&&r.length===2,y=Pae(j,x,v,N,g,e.position,p.orientation,h.orientation,e);if(!y)return null;var _=bae(y,2),w=_[0],P=w.x,S=w.y,E=_[1],C=E.x,T=E.y,I=Sr(e,"hidden")?"url(#".concat(f,")"):void 0,M=a2(a2({clipPath:I},Ce(e,!0)),{},{x1:P,y1:S,x2:C,y2:T});return G.createElement(wt,{className:Ie("recharts-reference-line",c)},Sae(l,M),qt.renderCallByParent(e,rae({x1:P,y1:S,x2:C,y2:T})))}var Dy=function(e){function t(){return fae(this,t),mae(this,t,arguments)}return vae(t,e),pae(t,[{key:"render",value:function(){return G.createElement(Aae,this.props)}}])}(G.Component);$y(Dy,"displayName","ReferenceLine");$y(Dy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(this,arguments)}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function o2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(n),!0).forEach(function(r){Xh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KC(r.key),r)}}function Cae(e,t,n){return t&&Oae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tae(e,t,n){return t=kf(t),kae(e,ZC()?Reflect.construct(t,n||[],kf(e).constructor):t.apply(e,n))}function kae(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(e)}function Mae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZC=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(e)}function Lae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fx(e,t)}function fx(e,t){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fx(e,t)}function Xh(e,t,n){return t=KC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KC(e){var t=Iae(e,"string");return ao(t)=="symbol"?t:t+""}function Iae(e,t){if(ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rae=function(t){var n=t.x,r=t.y,i=t.xAxis,s=t.yAxis,l=Ry({x:i.scale,y:s.scale}),c=l.apply({x:n,y:r},{bandAware:!0});return Sr(t,"discard")&&!l.isInRange(c)?null:c},Qh=function(e){function t(){return Eae(this,t),Tae(this,t,arguments)}return Lae(t,e),Cae(t,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,l=r.r,c=r.alwaysShow,d=r.clipPathId,f=Mt(i),p=Mt(s);if(Vr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var h=Rae(this.props);if(!h)return null;var g=h.x,j=h.y,x=this.props,v=x.shape,N=x.className,y=Sr(this.props,"hidden")?"url(#".concat(d,")"):void 0,_=l2(l2({clipPath:y},Ce(this.props,!0)),{},{cx:g,cy:j});return G.createElement(wt,{className:Ie("recharts-reference-dot",N)},t.renderDot(v,_),qt.renderCallByParent(this.props,{x:g-l,y:j-l,width:2*l,height:2*l}))}}])}(G.Component);Xh(Qh,"displayName","ReferenceDot");Xh(Qh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xh(Qh,"renderDot",function(e,t){var n;return G.isValidElement(e)?n=G.cloneElement(e,t):Te(e)?n=e(t):n=G.createElement(Ly,dx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hx.apply(this,arguments)}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){Jh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YC(r.key),r)}}function Bae(e,t,n){return t&&Dae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fae(e,t,n){return t=Mf(t),zae(e,GC()?Reflect.construct(t,n||[],Mf(e).constructor):t.apply(e,n))}function zae(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uae(e)}function Uae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GC=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}function qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&px(e,t)}function px(e,t){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},px(e,t)}function Jh(e,t,n){return t=YC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YC(e){var t=Wae(e,"string");return so(t)=="symbol"?t:t+""}function Wae(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hae=function(t,n,r,i,s){var l=s.x1,c=s.x2,d=s.y1,f=s.y2,p=s.xAxis,h=s.yAxis;if(!p||!h)return null;var g=Ry({x:p.scale,y:h.scale}),j={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(d,{position:"start"}):g.y.rangeMin},x={x:n?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Sr(s,"discard")&&(!g.isInRange(j)||!g.isInRange(x))?null:BC(j,x)},ep=function(e){function t(){return $ae(this,t),Fae(this,t,arguments)}return qae(t,e),Bae(t,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,l=r.y1,c=r.y2,d=r.className,f=r.alwaysShow,p=r.clipPathId;Vr(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Mt(i),g=Mt(s),j=Mt(l),x=Mt(c),v=this.props.shape;if(!h&&!g&&!j&&!x&&!v)return null;var N=Hae(h,g,j,x,this.props);if(!N&&!v)return null;var y=Sr(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(wt,{className:Ie("recharts-reference-area",d)},t.renderRect(v,u2(u2({clipPath:y},Ce(this.props,!0)),N)),qt.renderCallByParent(this.props,N))}}])}(G.Component);Jh(ep,"displayName","ReferenceArea");Jh(ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jh(ep,"renderRect",function(e,t){var n;return G.isValidElement(e)?n=G.cloneElement(e,t):Te(e)?n=e(t):n=G.createElement(My,hx({},t,{className:"recharts-reference-area-rect"})),n});function d2(e){return Gae(e)||Kae(e)||Zae(e)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zae(e,t){if(e){if(typeof e=="string")return mx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mx(e,t)}}function Kae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gae(e){if(Array.isArray(e))return mx(e)}function mx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gx=function(t,n,r,i,s){var l=jr(t,Dy),c=jr(t,Qh),d=[].concat(d2(l),d2(c)),f=jr(t,ep),p="".concat(i,"Id"),h=i[0],g=n;if(d.length&&(g=d.reduce(function(v,N){if(N.props[p]===r&&Sr(N.props,"extendDomain")&&ge(N.props[h])){var y=N.props[h];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},g)),f.length){var j="".concat(h,"1"),x="".concat(h,"2");g=f.reduce(function(v,N){if(N.props[p]===r&&Sr(N.props,"extendDomain")&&ge(N.props[j])&&ge(N.props[x])){var y=N.props[j],_=N.props[x];return[Math.min(v[0],y,_),Math.max(v[1],y,_)]}return v},g)}return s&&s.length&&(g=s.reduce(function(v,N){return ge(N)?[Math.min(v[0],N),Math.max(v[1],N)]:v},g)),g},XC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,h,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var j=new i(p,h||d,g),x=n?n+f:f;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],j]:d._events[x].push(j):(d._events[x]=j,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)t.call(p,h)&&f.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,j=h.length,x=new Array(j);g<j;g++)x[g]=h[g].fn;return x},c.prototype.listenerCount=function(f){var p=n?n+f:f,h=this._events[p];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,p,h,g,j,x){var v=n?n+f:f;if(!this._events[v])return!1;var N=this._events[v],y=arguments.length,_,w;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),y){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,h),!0;case 4:return N.fn.call(N.context,p,h,g),!0;case 5:return N.fn.call(N.context,p,h,g,j),!0;case 6:return N.fn.call(N.context,p,h,g,j,x),!0}for(w=1,_=new Array(y-1);w<y;w++)_[w-1]=arguments[w];N.fn.apply(N.context,_)}else{var P=N.length,S;for(w=0;w<P;w++)switch(N[w].once&&this.removeListener(f,N[w].fn,void 0,!0),y){case 1:N[w].fn.call(N[w].context);break;case 2:N[w].fn.call(N[w].context,p);break;case 3:N[w].fn.call(N[w].context,p,h);break;case 4:N[w].fn.call(N[w].context,p,h,g);break;default:if(!_)for(S=1,_=new Array(y-1);S<y;S++)_[S-1]=arguments[S];N[w].fn.apply(N[w].context,_)}}return!0},c.prototype.on=function(f,p,h){return s(this,f,p,h,!1)},c.prototype.once=function(f,p,h){return s(this,f,p,h,!0)},c.prototype.removeListener=function(f,p,h,g){var j=n?n+f:f;if(!this._events[j])return this;if(!p)return l(this,j),this;var x=this._events[j];if(x.fn)x.fn===p&&(!g||x.once)&&(!h||x.context===h)&&l(this,j);else{for(var v=0,N=[],y=x.length;v<y;v++)(x[v].fn!==p||g&&!x[v].once||h&&x[v].context!==h)&&N.push(x[v]);N.length?this._events[j]=N.length===1?N[0]:N:l(this,j)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(XC);var Yae=XC.exports;const Xae=Ke(Yae);var Rm=new Xae,$m="recharts.syncMouseEvents";function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QC(r.key),r)}}function ese(e,t,n){return t&&Jae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dm(e,t,n){return t=QC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QC(e){var t=tse(e,"string");return Tc(t)=="symbol"?t:t+""}function tse(e,t){if(Tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nse=function(){function e(){Qae(this,e),Dm(this,"activeIndex",0),Dm(this,"coordinateList",[]),Dm(this,"layout","horizontal")}return ese(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,l=n.container,c=l===void 0?null:l,d=n.layout,f=d===void 0?null:d,p=n.offset,h=p===void 0?null:p,g=n.mouseHandlerCallback,j=g===void 0?null:g;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+d+f,g=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])}();function rse(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function ise(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function JC(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,s=e.endAngle,l=rt(t,n,r,i),c=rt(t,n,r,s);return{points:[l,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function ase(e,t,n){var r,i,s,l;if(e==="horizontal")r=t.x,s=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,h=t.angle,g=rt(c,d,f,h),j=rt(c,d,p,h);r=g.x,i=g.y,s=j.x,l=j.y}else return JC(t);return[{x:r,y:i},{x:s,y:l}]}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(r){sse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sse(e,t,n){return t=ose(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ose(e){var t=lse(e,"string");return kc(t)=="symbol"?t:t+""}function lse(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cse(e){var t,n,r=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,j=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!j||!s||!l||g!=="ScatterChart"&&i!=="axis")return null;var x,v=V0;if(g==="ScatterChart")x=l,v=vne;else if(g==="BarChart")x=ise(h,l,d,p),v=My;else if(h==="radial"){var N=JC(l),y=N.cx,_=N.cy,w=N.radius,P=N.startAngle,S=N.endAngle;x={cx:y,cy:_,startAngle:P,endAngle:S,innerRadius:w,outerRadius:w},v=xC}else x={points:ase(h,l,d)},v=V0;var E=Ku(Ku(Ku(Ku({stroke:"#ccc",pointerEvents:"none"},d),x),Ce(j,!1)),{},{payload:c,payloadIndex:f,className:Ie("recharts-tooltip-cursor",j.className)});return A.isValidElement(j)?A.cloneElement(j,E):A.createElement(v,E)}var use=["item"],dse=["children","className","width","height","style","compact","title","desc"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(this,arguments)}function h2(e,t){return pse(e)||hse(e,t)||tT(e,t)||fse()}function fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,c=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function pse(e){if(Array.isArray(e))return e}function p2(e,t){if(e==null)return{};var n=mse(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nT(r.key),r)}}function vse(e,t,n){return t&&xse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yse(e,t,n){return t=Lf(t),bse(e,eT()?Reflect.construct(t,n||[],Lf(e).constructor):t.apply(e,n))}function bse(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wse(e)}function wse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eT=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(e)}function _se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xx(e,t)}function xx(e,t){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xx(e,t)}function lo(e){return Sse(e)||Nse(e)||tT(e)||jse()}function jse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tT(e,t){if(e){if(typeof e=="string")return vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vx(e,t)}}function Nse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sse(e){if(Array.isArray(e))return vx(e)}function vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(r){Ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ne(e,t,n){return t=nT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nT(e){var t=Pse(e,"string");return oo(t)=="symbol"?t:t+""}function Pse(e,t){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ase={xAxis:["bottom","top"],yAxis:["left","right"]},Ese={width:"100%",height:"100%"},rT={x:0,y:0};function Gu(e){return e}var Ose=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Cse=function(t,n,r,i){var s=n.find(function(p){return p&&p.index===r});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var l=s.coordinate,c=i.radius;return ae(ae(ae({},i),rt(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,f=i.angle;return ae(ae(ae({},i),rt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return rT},tp=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,l=(r??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(lo(c),lo(f)):c},[]);return l.length>0?l:t&&t.length&&ge(i)&&ge(s)?t.slice(i,s+1):[]};function iT(e){return e==="number"?[0,"auto"]:void 0}var yx=function(t,n,r,i){var s=t.graphicalItems,l=t.tooltipAxis,c=tp(n,t);return r<0||!s||!s.length||r>=c.length?null:s.reduce(function(d,f){var p,h=(p=f.props.data)!==null&&p!==void 0?p:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var j=h===void 0?c:h;g=Qg(j,l.dataKey,i)}else g=h&&h[r]||c[r];return g?[].concat(lo(d),[nJ(f,g)]):d},[])},g2=function(t,n,r,i){var s=i||{x:t.chartX,y:t.chartY},l=Ose(s,r),c=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=FQ(l,c,f,d);if(p>=0&&f){var h=f[p]&&f[p].value,g=yx(t,n,p,h),j=Cse(r,c,p,s);return{activeTooltipIndex:p,activeLabel:h,activePayload:g,activeCoordinate:j}}return null},Tse=function(t,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=t.layout,h=t.children,g=t.stackOffset,j=uC(p,s);return r.reduce(function(x,v){var N,y=v.type.defaultProps!==void 0?ae(ae({},v.type.defaultProps),v.props):v.props,_=y.type,w=y.dataKey,P=y.allowDataOverflow,S=y.allowDuplicatedCategory,E=y.scale,C=y.ticks,T=y.includeHidden,I=y[l];if(x[I])return x;var M=tp(t.data,{graphicalItems:i.filter(function(ee){var le,de=l in ee.props?ee.props[l]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[l];return de===I}),dataStartIndex:d,dataEndIndex:f}),R=M.length,F,W,z;rse(y.domain,P,_)&&(F=F0(y.domain,null,P),j&&(_==="number"||E!=="auto")&&(z=Al(M,w,"category")));var V=iT(_);if(!F||F.length===0){var X,ne=(X=y.domain)!==null&&X!==void 0?X:V;if(w){if(F=Al(M,w,_),_==="category"&&j){var B=OB(F);S&&B?(W=F,F=Ef(0,R)):S||(F=Yj(ne,F,v).reduce(function(ee,le){return ee.indexOf(le)>=0?ee:[].concat(lo(ee),[le])},[]))}else if(_==="category")S?F=F.filter(function(ee){return ee!==""&&!Be(ee)}):F=Yj(ne,F,v).reduce(function(ee,le){return ee.indexOf(le)>=0||le===""||Be(le)?ee:[].concat(lo(ee),[le])},[]);else if(_==="number"){var J=HQ(M,i.filter(function(ee){var le,de,se=l in ee.props?ee.props[l]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[l],U="hide"in ee.props?ee.props.hide:(de=ee.type.defaultProps)===null||de===void 0?void 0:de.hide;return se===I&&(T||!U)}),w,s,p);J&&(F=J)}j&&(_==="number"||E!=="auto")&&(z=Al(M,w,"category"))}else j?F=Ef(0,R):c&&c[I]&&c[I].hasStack&&_==="number"?F=g==="expand"?[0,1]:dC(c[I].stackGroups,d,f):F=cC(M,i.filter(function(ee){var le=l in ee.props?ee.props[l]:ee.type.defaultProps[l],de="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return le===I&&(T||!de)}),_,p,!0);if(_==="number")F=gx(h,F,I,s,C),ne&&(F=F0(ne,F,P));else if(_==="category"&&ne){var $=ne,K=F.every(function(ee){return $.indexOf(ee)>=0});K&&(F=$)}}return ae(ae({},x),{},Ne({},I,ae(ae({},y),{},{axisType:s,domain:F,categoricalDomain:z,duplicateDomain:W,originalDomain:(N=y.domain)!==null&&N!==void 0?N:V,isCategorical:j,layout:p})))},{})},kse=function(t,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=t.layout,h=t.children,g=tp(t.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),j=g.length,x=uC(p,s),v=-1;return r.reduce(function(N,y){var _=y.type.defaultProps!==void 0?ae(ae({},y.type.defaultProps),y.props):y.props,w=_[l],P=iT("number");if(!N[w]){v++;var S;return x?S=Ef(0,j):c&&c[w]&&c[w].hasStack?(S=dC(c[w].stackGroups,d,f),S=gx(h,S,w,s)):(S=F0(P,cC(g,r.filter(function(E){var C,T,I=l in E.props?E.props[l]:(C=E.type.defaultProps)===null||C===void 0?void 0:C[l],M="hide"in E.props?E.props.hide:(T=E.type.defaultProps)===null||T===void 0?void 0:T.hide;return I===w&&!M}),"number",p),i.defaultProps.allowDataOverflow),S=gx(h,S,w,s)),ae(ae({},N),{},Ne({},w,ae(ae({axisType:s},i.defaultProps),{},{hide:!0,orientation:ir(Ase,"".concat(s,".").concat(v%2),null),domain:S,originalDomain:P,isCategorical:x,layout:p})))}return N},{})},Mse=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,l=n.graphicalItems,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=t.children,h="".concat(i,"Id"),g=jr(p,s),j={};return g&&g.length?j=Tse(t,{axes:g,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(j=kse(t,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),j},Lse=function(t){var n=rs(t),r=fl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ry(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:z0(n,r)}},x2=function(t){var n=t.children,r=t.defaultShowTooltip,i=Ln(n,ro),s=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},Ise=function(t){return!t||!t.length?!1:t.some(function(n){var r=Hr(n&&n.type);return r&&r.indexOf("Bar")>=0})},v2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rse=function(t,n){var r=t.props,i=t.graphicalItems,s=t.xAxisMap,l=s===void 0?{}:s,c=t.yAxisMap,d=c===void 0?{}:c,f=r.width,p=r.height,h=r.children,g=r.margin||{},j=Ln(h,ro),x=Ln(h,wa),v=Object.keys(d).reduce(function(S,E){var C=d[E],T=C.orientation;return!C.mirror&&!C.hide?ae(ae({},S),{},Ne({},T,S[T]+C.width)):S},{left:g.left||0,right:g.right||0}),N=Object.keys(l).reduce(function(S,E){var C=l[E],T=C.orientation;return!C.mirror&&!C.hide?ae(ae({},S),{},Ne({},T,ir(S,"".concat(T))+C.height)):S},{top:g.top||0,bottom:g.bottom||0}),y=ae(ae({},N),v),_=y.bottom;j&&(y.bottom+=j.props.height||ro.defaultProps.height),x&&n&&(y=qQ(y,i,r,n));var w=f-y.left-y.right,P=p-y.top-y.bottom;return ae(ae({brushBottom:_},y),{},{width:Math.max(w,0),height:Math.max(P,0)})},$se=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Dse=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,l=t.validateTooltipEventTypes,c=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,h=t.defaultProps,g=function(y,_){var w=_.graphicalItems,P=_.stackGroups,S=_.offset,E=_.updateId,C=_.dataStartIndex,T=_.dataEndIndex,I=y.barSize,M=y.layout,R=y.barGap,F=y.barCategoryGap,W=y.maxBarSize,z=v2(M),V=z.numericAxisName,X=z.cateAxisName,ne=Ise(w),B=[];return w.forEach(function(J,$){var K=tp(y.data,{graphicalItems:[J],dataStartIndex:C,dataEndIndex:T}),ee=J.type.defaultProps!==void 0?ae(ae({},J.type.defaultProps),J.props):J.props,le=ee.dataKey,de=ee.maxBarSize,se=ee["".concat(V,"Id")],U=ee["".concat(X,"Id")],q={},Q=d.reduce(function(gn,An){var oi=_["".concat(An.axisType,"Map")],Ua=ee["".concat(An.axisType,"Id")];oi&&oi[Ua]||An.axisType==="zAxis"||Ys();var te=oi[Ua];return ae(ae({},gn),{},Ne(Ne({},An.axisType,te),"".concat(An.axisType,"Ticks"),fl(te)))},q),H=Q[X],oe=Q["".concat(X,"Ticks")],ce=P&&P[se]&&P[se].hasStack&&eJ(J,P[se].stackGroups),Z=Hr(J.type).indexOf("Bar")>=0,_e=z0(H,oe),je=[],$e=ne&&zQ({barSize:I,stackGroups:P,totalSize:$se(Q,X)});if(Z){var Pe,Xe,lt=Be(de)?W:de,xt=(Pe=(Xe=z0(H,oe,!0))!==null&&Xe!==void 0?Xe:lt)!==null&&Pe!==void 0?Pe:0;je=UQ({barGap:R,barCategoryGap:F,bandSize:xt!==_e?xt:_e,sizeList:$e[U],maxBarSize:lt}),xt!==_e&&(je=je.map(function(gn){return ae(ae({},gn),{},{position:ae(ae({},gn.position),{},{offset:gn.position.offset-xt/2})})}))}var rn=J&&J.type&&J.type.getComposedData;rn&&B.push({props:ae(ae({},rn(ae(ae({},Q),{},{displayedData:K,props:y,dataKey:le,item:J,bandSize:_e,barPosition:je,offset:S,stackedData:ce,layout:M,dataStartIndex:C,dataEndIndex:T}))),{},Ne(Ne(Ne({key:J.key||"item-".concat($)},V,Q[V]),X,Q[X]),"animationId",E)),childIndex:FB(J,y.children),item:J})}),B},j=function(y,_){var w=y.props,P=y.dataStartIndex,S=y.dataEndIndex,E=y.updateId;if(!W1({props:w}))return null;var C=w.children,T=w.layout,I=w.stackOffset,M=w.data,R=w.reverseStackOrder,F=v2(T),W=F.numericAxisName,z=F.cateAxisName,V=jr(C,r),X=QQ(M,V,"".concat(W,"Id"),"".concat(z,"Id"),I,R),ne=d.reduce(function(ee,le){var de="".concat(le.axisType,"Map");return ae(ae({},ee),{},Ne({},de,Mse(w,ae(ae({},le),{},{graphicalItems:V,stackGroups:le.axisType===W&&X,dataStartIndex:P,dataEndIndex:S}))))},{}),B=Rse(ae(ae({},ne),{},{props:w,graphicalItems:V}),_==null?void 0:_.legendBBox);Object.keys(ne).forEach(function(ee){ne[ee]=p(w,ne[ee],B,ee.replace("Map",""),n)});var J=ne["".concat(z,"Map")],$=Lse(J),K=g(w,ae(ae({},ne),{},{dataStartIndex:P,dataEndIndex:S,updateId:E,graphicalItems:V,stackGroups:X,offset:B}));return ae(ae({formattedGraphicalItems:K,graphicalItems:V,offset:B,stackGroups:X},$),ne)},x=function(N){function y(_){var w,P,S;return gse(this,y),S=yse(this,y,[_]),Ne(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(S,"accessibilityManager",new nse),Ne(S,"handleLegendBBoxUpdate",function(E){if(E){var C=S.state,T=C.dataStartIndex,I=C.dataEndIndex,M=C.updateId;S.setState(ae({legendBBox:E},j({props:S.props,dataStartIndex:T,dataEndIndex:I,updateId:M},ae(ae({},S.state),{},{legendBBox:E}))))}}),Ne(S,"handleReceiveSyncEvent",function(E,C,T){if(S.props.syncId===E){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(C)}}),Ne(S,"handleBrushChange",function(E){var C=E.startIndex,T=E.endIndex;if(C!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return ae({dataStartIndex:C,dataEndIndex:T},j({props:S.props,dataStartIndex:C,dataEndIndex:T,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),Ne(S,"handleMouseEnter",function(E){var C=S.getMouseInfo(E);if(C){var T=ae(ae({},C),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var I=S.props.onMouseEnter;Te(I)&&I(T,E)}}),Ne(S,"triggeredAfterMouseMove",function(E){var C=S.getMouseInfo(E),T=C?ae(ae({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var I=S.props.onMouseMove;Te(I)&&I(T,E)}),Ne(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ne(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ne(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),Ne(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var T=S.props.onMouseLeave;Te(T)&&T(C,E)}),Ne(S,"handleOuterEvent",function(E){var C=BB(E),T=ir(S.props,"".concat(C));if(C&&Te(T)){var I,M;/.*touch.*/i.test(C)?M=S.getMouseInfo(E.changedTouches[0]):M=S.getMouseInfo(E),T((I=M)!==null&&I!==void 0?I:{},E)}}),Ne(S,"handleClick",function(E){var C=S.getMouseInfo(E);if(C){var T=ae(ae({},C),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var I=S.props.onClick;Te(I)&&I(T,E)}}),Ne(S,"handleMouseDown",function(E){var C=S.props.onMouseDown;if(Te(C)){var T=S.getMouseInfo(E);C(T,E)}}),Ne(S,"handleMouseUp",function(E){var C=S.props.onMouseUp;if(Te(C)){var T=S.getMouseInfo(E);C(T,E)}}),Ne(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ne(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),Ne(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),Ne(S,"handleDoubleClick",function(E){var C=S.props.onDoubleClick;if(Te(C)){var T=S.getMouseInfo(E);C(T,E)}}),Ne(S,"handleContextMenu",function(E){var C=S.props.onContextMenu;if(Te(C)){var T=S.getMouseInfo(E);C(T,E)}}),Ne(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Rm.emit($m,S.props.syncId,E,S.eventEmitterSymbol)}),Ne(S,"applySyncEvent",function(E){var C=S.props,T=C.layout,I=C.syncMethod,M=S.state.updateId,R=E.dataStartIndex,F=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(ae({dataStartIndex:R,dataEndIndex:F},j({props:S.props,dataStartIndex:R,dataEndIndex:F,updateId:M},S.state)));else if(E.activeTooltipIndex!==void 0){var W=E.chartX,z=E.chartY,V=E.activeTooltipIndex,X=S.state,ne=X.offset,B=X.tooltipTicks;if(!ne)return;if(typeof I=="function")V=I(B,E);else if(I==="value"){V=-1;for(var J=0;J<B.length;J++)if(B[J].value===E.activeLabel){V=J;break}}var $=ae(ae({},ne),{},{x:ne.left,y:ne.top}),K=Math.min(W,$.x+$.width),ee=Math.min(z,$.y+$.height),le=B[V]&&B[V].value,de=yx(S.state,S.props.data,V),se=B[V]?{x:T==="horizontal"?B[V].coordinate:K,y:T==="horizontal"?ee:B[V].coordinate}:rT;S.setState(ae(ae({},E),{},{activeLabel:le,activeCoordinate:se,activePayload:de,activeTooltipIndex:V}))}else S.setState(E)}),Ne(S,"renderCursor",function(E){var C,T=S.state,I=T.isTooltipActive,M=T.activeCoordinate,R=T.activePayload,F=T.offset,W=T.activeTooltipIndex,z=T.tooltipAxisBandSize,V=S.getTooltipEventType(),X=(C=E.props.active)!==null&&C!==void 0?C:I,ne=S.props.layout,B=E.key||"_recharts-cursor";return G.createElement(cse,{key:B,activeCoordinate:M,activePayload:R,activeTooltipIndex:W,chartName:n,element:E,isActive:X,layout:ne,offset:F,tooltipAxisBandSize:z,tooltipEventType:V})}),Ne(S,"renderPolarAxis",function(E,C,T){var I=ir(E,"type.axisType"),M=ir(S.state,"".concat(I,"Map")),R=E.type.defaultProps,F=R!==void 0?ae(ae({},R),E.props):E.props,W=M&&M[F["".concat(I,"Id")]];return A.cloneElement(E,ae(ae({},W),{},{className:Ie(I,W.className),key:E.key||"".concat(C,"-").concat(T),ticks:fl(W,!0)}))}),Ne(S,"renderPolarGrid",function(E){var C=E.props,T=C.radialLines,I=C.polarAngles,M=C.polarRadius,R=S.state,F=R.radiusAxisMap,W=R.angleAxisMap,z=rs(F),V=rs(W),X=V.cx,ne=V.cy,B=V.innerRadius,J=V.outerRadius;return A.cloneElement(E,{polarAngles:Array.isArray(I)?I:fl(V,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(M)?M:fl(z,!0).map(function($){return $.coordinate}),cx:X,cy:ne,innerRadius:B,outerRadius:J,key:E.key||"polar-grid",radialLines:T})}),Ne(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,C=S.props,T=C.children,I=C.width,M=C.height,R=S.props.margin||{},F=I-(R.left||0)-(R.right||0),W=oC({children:T,formattedGraphicalItems:E,legendWidth:F,legendContent:f});if(!W)return null;var z=W.item,V=p2(W,use);return A.cloneElement(z,ae(ae({},V),{},{chartWidth:I,chartHeight:M,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ne(S,"renderTooltip",function(){var E,C=S.props,T=C.children,I=C.accessibilityLayer,M=Ln(T,xr);if(!M)return null;var R=S.state,F=R.isTooltipActive,W=R.activeCoordinate,z=R.activePayload,V=R.activeLabel,X=R.offset,ne=(E=M.props.active)!==null&&E!==void 0?E:F;return A.cloneElement(M,{viewBox:ae(ae({},X),{},{x:X.left,y:X.top}),active:ne,label:V,payload:ne?z:[],coordinate:W,accessibilityLayer:I})}),Ne(S,"renderBrush",function(E){var C=S.props,T=C.margin,I=C.data,M=S.state,R=M.offset,F=M.dataStartIndex,W=M.dataEndIndex,z=M.updateId;return A.cloneElement(E,{key:E.key||"_recharts-brush",onChange:qu(S.handleBrushChange,E.props.onChange),data:I,x:ge(E.props.x)?E.props.x:R.left,y:ge(E.props.y)?E.props.y:R.top+R.height+R.brushBottom-(T.bottom||0),width:ge(E.props.width)?E.props.width:R.width,startIndex:F,endIndex:W,updateId:"brush-".concat(z)})}),Ne(S,"renderReferenceElement",function(E,C,T){if(!E)return null;var I=S,M=I.clipPathId,R=S.state,F=R.xAxisMap,W=R.yAxisMap,z=R.offset,V=E.type.defaultProps||{},X=E.props,ne=X.xAxisId,B=ne===void 0?V.xAxisId:ne,J=X.yAxisId,$=J===void 0?V.yAxisId:J;return A.cloneElement(E,{key:E.key||"".concat(C,"-").concat(T),xAxis:F[B],yAxis:W[$],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:M})}),Ne(S,"renderActivePoints",function(E){var C=E.item,T=E.activePoint,I=E.basePoint,M=E.childIndex,R=E.isRange,F=[],W=C.props.key,z=C.item.type.defaultProps!==void 0?ae(ae({},C.item.type.defaultProps),C.item.props):C.item.props,V=z.activeDot,X=z.dataKey,ne=ae(ae({index:M,dataKey:X,cx:T.x,cy:T.y,r:4,fill:ky(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Ce(V,!1)),qd(V));return F.push(y.renderActiveDot(V,ne,"".concat(W,"-activePoint-").concat(M))),I?F.push(y.renderActiveDot(V,ae(ae({},ne),{},{cx:I.x,cy:I.y}),"".concat(W,"-basePoint-").concat(M))):R&&F.push(null),F}),Ne(S,"renderGraphicChild",function(E,C,T){var I=S.filterFormatItem(E,C,T);if(!I)return null;var M=S.getTooltipEventType(),R=S.state,F=R.isTooltipActive,W=R.tooltipAxis,z=R.activeTooltipIndex,V=R.activeLabel,X=S.props.children,ne=Ln(X,xr),B=I.props,J=B.points,$=B.isRange,K=B.baseLine,ee=I.item.type.defaultProps!==void 0?ae(ae({},I.item.type.defaultProps),I.item.props):I.item.props,le=ee.activeDot,de=ee.hide,se=ee.activeBar,U=ee.activeShape,q=!!(!de&&F&&ne&&(le||se||U)),Q={};M!=="axis"&&ne&&ne.props.trigger==="click"?Q={onClick:qu(S.handleItemMouseEnter,E.props.onClick)}:M!=="axis"&&(Q={onMouseLeave:qu(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:qu(S.handleItemMouseEnter,E.props.onMouseEnter)});var H=A.cloneElement(E,ae(ae({},I.props),Q));function oe(An){return typeof W.dataKey=="function"?W.dataKey(An.payload):null}if(q)if(z>=0){var ce,Z;if(W.dataKey&&!W.allowDuplicatedCategory){var _e=typeof W.dataKey=="function"?oe:"payload.".concat(W.dataKey.toString());ce=Qg(J,_e,V),Z=$&&K&&Qg(K,_e,V)}else ce=J==null?void 0:J[z],Z=$&&K&&K[z];if(U||se){var je=E.props.activeIndex!==void 0?E.props.activeIndex:z;return[A.cloneElement(E,ae(ae(ae({},I.props),Q),{},{activeIndex:je})),null,null]}if(!Be(ce))return[H].concat(lo(S.renderActivePoints({item:I,activePoint:ce,basePoint:Z,childIndex:z,isRange:$})))}else{var $e,Pe=($e=S.getItemByXY(S.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:H},Xe=Pe.graphicalItem,lt=Xe.item,xt=lt===void 0?E:lt,rn=Xe.childIndex,gn=ae(ae(ae({},I.props),Q),{},{activeIndex:rn});return[A.cloneElement(xt,gn),null,null]}return $?[H,null,null]:[H,null]}),Ne(S,"renderCustomized",function(E,C,T){return A.cloneElement(E,ae(ae({key:"recharts-customized-".concat(T)},S.props),S.state))}),Ne(S,"renderMap",{CartesianGrid:{handler:Gu,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Gu},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Gu},YAxis:{handler:Gu},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:Nh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=sO(S.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return _se(y,N),vse(y,[{key:"componentDidMount",value:function(){var w,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,P=w.children,S=w.data,E=w.height,C=w.layout,T=Ln(P,xr);if(T){var I=T.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,R=yx(this.state,S,I,M),F=this.state.tooltipTicks[I].coordinate,W=(this.state.offset.top+E)/2,z=C==="horizontal",V=z?{x:F,y:W}:{y:F,x:W},X=this.state.formattedGraphicalItems.find(function(B){var J=B.item;return J.type.name==="Scatter"});X&&(V=ae(ae({},V),X.props.points[I].tooltipPosition),R=X.props.points[I].tooltipPayload);var ne={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:M,activePayload:R,activeCoordinate:V};this.setState(ne),this.renderCursor(T),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(w){t0([Ln(w.children,xr)],[Ln(this.props.children,xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ln(this.props.children,xr);if(w&&typeof w.props.shared=="boolean"){var P=w.props.shared?"axis":"item";return c.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),E=pK(S),C={chartX:Math.round(w.pageX-E.left),chartY:Math.round(w.pageY-E.top)},T=S.width/P.offsetWidth||1,I=this.inRange(C.chartX,C.chartY,T);if(!I)return null;var M=this.state,R=M.xAxisMap,F=M.yAxisMap,W=this.getTooltipEventType(),z=g2(this.state,this.props.data,this.props.layout,I);if(W!=="axis"&&R&&F){var V=rs(R).scale,X=rs(F).scale,ne=V&&V.invert?V.invert(C.chartX):null,B=X&&X.invert?X.invert(C.chartY):null;return ae(ae({},C),{},{xValue:ne,yValue:B},z)}return z?ae(ae({},C),z):null}},{key:"inRange",value:function(w,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,C=w/S,T=P/S;if(E==="horizontal"||E==="vertical"){var I=this.state.offset,M=C>=I.left&&C<=I.left+I.width&&T>=I.top&&T<=I.top+I.height;return M?{x:C,y:T}:null}var R=this.state,F=R.angleAxisMap,W=R.radiusAxisMap;if(F&&W){var z=rs(F);return Jj({x:C,y:T},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,P=this.getTooltipEventType(),S=Ln(w,xr),E={};S&&P==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=qd(this.props,this.handleOuterEvent);return ae(ae({},C),E)}},{key:"addListener",value:function(){Rm.on($m,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rm.removeListener($m,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,P,S){for(var E=this.state.formattedGraphicalItems,C=0,T=E.length;C<T;C++){var I=E[C];if(I.item===w||I.props.key===w.key||P===Hr(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,P=this.state.offset,S=P.left,E=P.top,C=P.height,T=P.width;return G.createElement("defs",null,G.createElement("clipPath",{id:w},G.createElement("rect",{x:S,y:E,height:C,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(P,S){var E=h2(S,2),C=E[0],T=E[1];return ae(ae({},P),{},Ne({},C,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(P,S){var E=h2(S,2),C=E[0],T=E[1];return ae(ae({},P),{},Ne({},C,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[w])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(w){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[w])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(w){var P=this.state,S=P.formattedGraphicalItems,E=P.activeItem;if(S&&S.length)for(var C=0,T=S.length;C<T;C++){var I=S[C],M=I.props,R=I.item,F=R.type.defaultProps!==void 0?ae(ae({},R.type.defaultProps),R.props):R.props,W=Hr(R.type);if(W==="Bar"){var z=(M.data||[]).find(function(B){return Qte(w,B)});if(z)return{graphicalItem:I,payload:z}}else if(W==="RadialBar"){var V=(M.data||[]).find(function(B){return Jj(w,B)});if(V)return{graphicalItem:I,payload:V}}else if(Gh(I,E)||Yh(I,E)||Ec(I,E)){var X=zre({graphicalItem:I,activeTooltipItem:E,itemData:F.data}),ne=F.activeIndex===void 0?X:F.activeIndex;return{graphicalItem:ae(ae({},I),{},{childIndex:ne}),payload:Ec(I,E)?F.data[X]:I.props.data[X]}}}return null}},{key:"render",value:function(){var w=this;if(!W1(this))return null;var P=this.props,S=P.children,E=P.className,C=P.width,T=P.height,I=P.style,M=P.compact,R=P.title,F=P.desc,W=p2(P,dse),z=Ce(W,!1);if(M)return G.createElement(r2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(r0,ys({},z,{width:C,height:T,title:R,desc:F}),this.renderClipPath(),V1(S,this.renderMap)));if(this.props.accessibilityLayer){var V,X;z.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,z.role=(X=this.props.role)!==null&&X!==void 0?X:"application",z.onKeyDown=function(B){w.accessibilityManager.keyboardEvent(B)},z.onFocus=function(){w.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return G.createElement(r2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",ys({className:Ie("recharts-wrapper",E),style:ae({position:"relative",cursor:"default",width:C,height:T},I)},ne,{ref:function(J){w.container=J}}),G.createElement(r0,ys({},z,{width:C,height:T,title:R,desc:F,style:Ese}),this.renderClipPath(),V1(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Ne(x,"displayName",n),Ne(x,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ne(x,"getDerivedStateFromProps",function(N,y){var _=N.dataKey,w=N.data,P=N.children,S=N.width,E=N.height,C=N.layout,T=N.stackOffset,I=N.margin,M=y.dataStartIndex,R=y.dataEndIndex;if(y.updateId===void 0){var F=x2(N);return ae(ae(ae({},F),{},{updateId:0},j(ae(ae({props:N},F),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:E,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(_!==y.prevDataKey||w!==y.prevData||S!==y.prevWidth||E!==y.prevHeight||C!==y.prevLayout||T!==y.prevStackOffset||!Jg(I,y.prevMargin)){var W=x2(N),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=ae(ae({},g2(y,w,C)),{},{updateId:y.updateId+1}),X=ae(ae(ae({},W),z),V);return ae(ae(ae({},X),j(ae({props:N},X),y)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:E,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(!t0(P,y.prevChildren)){var ne,B,J,$,K=Ln(P,ro),ee=K&&(ne=(B=K.props)===null||B===void 0?void 0:B.startIndex)!==null&&ne!==void 0?ne:M,le=K&&(J=($=K.props)===null||$===void 0?void 0:$.endIndex)!==null&&J!==void 0?J:R,de=ee!==M||le!==R,se=!Be(w),U=se&&!de?y.updateId:y.updateId+1;return ae(ae({updateId:U},j(ae(ae({props:N},y),{},{updateId:U,dataStartIndex:ee,dataEndIndex:le}),y)),{},{prevChildren:P,dataStartIndex:ee,dataEndIndex:le})}return null}),Ne(x,"renderActiveDot",function(N,y,_){var w;return A.isValidElement(N)?w=A.cloneElement(N,y):Te(N)?w=N(y):w=G.createElement(Ly,y),G.createElement(wt,{className:"recharts-active-dot",key:_},w)});var v=A.forwardRef(function(y,_){return G.createElement(x,ys({},y,{ref:_}))});return v.displayName=x.displayName,v},Bse=Dse({chartName:"PieChart",GraphicalChild:si,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Kh},{axisType:"radiusAxis",AxisComp:Vh}],formatAxisMap:dJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const y2=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],Fse=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!0),[i,s]=A.useState(null),l=lh();return A.useEffect(()=>{l&&(async()=>{try{const d=await fetch("/api/v1/reports/rejected-invoice-analysis",{headers:{Authorization:`Bearer ${l}`}});if(!d.ok){const p=await d.json().catch(()=>({}));throw new Error(p.error||"Failed to fetch rejection analysis")}const f=await d.json();t(f)}catch(d){s(d.message)}finally{r(!1)}})()},[l]),l?n?a.jsx("p",{className:"text-sm text-gray-500",children:"Loading rejection analysis..."}):i?a.jsxs("p",{className:"text-sm text-red-500",children:["Error: ",i]}):e.length?a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Rejected Invoice Analysis"}),a.jsx("div",{className:"h-72 w-full bg-white p-4 rounded-lg shadow",children:a.jsx(oK,{children:a.jsxs(Bse,{children:[a.jsx(si,{data:e,dataKey:"count",nameKey:"reason",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:e.map((c,d)=>a.jsx(ay,{fill:y2[d%y2.length]},`cell-${d}`))}),a.jsx(xr,{}),a.jsx(wa,{})]})})})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No rejected invoices found."}):null},zse=()=>{const[e,t]=A.useState({percentage:0,totalDelivered:0,totalCollected:0}),[n,r]=A.useState(!0),[i,s]=A.useState(null),l=lh();return A.useEffect(()=>{l&&(async()=>{try{const d=await fetch("/api/v1/reports/pod-performance-kpi",{headers:{Authorization:`Bearer ${l}`}});if(!d.ok){const p=await d.json().catch(()=>({}));throw new Error(p.error||"Failed to load POD KPI")}const f=await d.json();t(f)}catch(d){s(d.message)}finally{r(!1)}})()},[l]),l?a.jsxs("div",{className:"rounded-2xl border border-emerald-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-emerald-600",children:"POD collection rate"}),n?a.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-800",children:"--%"}):a.jsxs("p",{className:"mt-2 text-3xl font-bold text-emerald-600",children:[e.percentage,"%"]}),i?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:i}):a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:n?"Calculating...":`${e.totalCollected} / ${e.totalDelivered} delivered shipments`})]}):null},Use=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!0),[i,s]=A.useState(null),l=lh();return A.useEffect(()=>{l&&(async()=>{try{const d=await fetch("/api/v1/reports/transporter-scorecard",{headers:{Authorization:`Bearer ${l}`}});if(!d.ok){const p=await d.json().catch(()=>({}));throw new Error(p.error||"Failed to load transporter scorecard")}const f=await d.json();t(f)}catch(d){s(d.message)}finally{r(!1)}})()},[l]),l?n?a.jsx("p",{className:"text-sm text-gray-500",children:"Loading transporter scorecard..."}):i?a.jsxs("p",{className:"text-sm text-red-500",children:["Error: ",i]}):a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-md",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Transporter Performance Scorecard"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-50 text-xs font-semibold uppercase tracking-wide text-gray-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Transporter"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Total Shipments"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Avg. Cost"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"POD Compliance"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Invoice Rejection"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[!e.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-4 py-4 text-center text-gray-500",children:"No transporter data available."})}),e.map(c=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:c.name}),a.jsx("td",{className:"px-4 py-3 text-gray-600",children:c.totalShipments}),a.jsxs("td",{className:"px-4 py-3 text-gray-600",children:["",c.avgCost.toLocaleString("en-IN")]}),a.jsxs("td",{className:`px-4 py-3 font-semibold ${c.podCompliance>=95?"text-green-600":"text-amber-600"}`,children:[c.podCompliance,"%"]}),a.jsxs("td",{className:`px-4 py-3 font-semibold ${c.invoiceRejectionRate<=5?"text-green-600":"text-red-600"}`,children:[c.invoiceRejectionRate,"%"]})]},c.id))]})]})})]}):null},Ot=e=>new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(e||0),qse=()=>{const{api:e,user:t}=ke(),[n,r]=A.useState(null),[i,s]=A.useState(!0),[l,c]=A.useState(""),[d,f]=A.useState(""),p=!!(t!=null&&t.companyId)&&(t==null?void 0:t.role)==="COMPANY_ADMIN",[h,g]=A.useState([]);A.useEffect(()=>{let M=!0;if(!p){s(!1);return}return(async()=>{var F,W;try{const z=await e.get("/admin/analytics/overview?range=30");M&&r(z.data)}catch(z){M&&c(((W=(F=z.response)==null?void 0:F.data)==null?void 0:W.error)||"Failed to load analytics overview.")}finally{M&&s(!1)}})(),()=>{M=!1}},[e,p]),A.useEffect(()=>{let M=!0;return(async()=>{var F;if(p)try{const W=await e.get("/admin/analytics/alerts");M&&g(((F=W.data)==null?void 0:F.alerts)||[])}catch{}})(),()=>{M=!1}},[e,p]);const j=A.useMemo(()=>{var M;return(M=n==null?void 0:n.charts)!=null&&M.shipmentsByDay?n.charts.shipmentsByDay.slice(-7):[]},[n]),x=j.reduce((M,R)=>Math.max(M,R.count),0),v=async M=>{var R,F;f(M);try{const W=await e.get(`/admin/analytics/export/${M}`,{responseType:"blob"}),z=new Blob([W.data],{type:"text/csv;charset=utf-8;"}),V=window.URL.createObjectURL(z),X=document.createElement("a");X.href=V,X.download=`${M}-report.csv`,X.click(),window.URL.revokeObjectURL(V)}catch(W){c(((F=(R=W.response)==null?void 0:R.data)==null?void 0:F.error)||`Failed to export ${M} dataset.`)}finally{f("")}};if(!p)return null;if(i)return a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsx("p",{className:"text-slate-500",children:"Loading overview"})});if(l)return a.jsx("div",{className:"rounded-2xl border border-red-100 bg-white p-6 shadow-sm",children:a.jsx("p",{className:"text-red-600 font-medium",children:l})});if(!n)return null;const{summary:N,charts:y,generatedAt:_,insights:w={}}=n,{vendorScorecards:P=[],userGovernance:S=[],revenueSeries:E=[]}=w,C=E.reduce((M,R)=>Math.max(M,R.value||0),0),T=[{title:"Total shipments",primary:Ot(N.shipments.total),meta:`${Ot(N.shipments.inTransit)} in transit  ${Ot(N.shipments.delivered)} delivered`},{title:"Quote funnel",primary:Ot(N.quotes.requested),meta:`${Ot(N.quotes.responded)} responded  ${Ot(N.quotes.approved)} approved`},{title:"Invoices",primary:Ot(N.invoices.total),meta:`${Ot(N.invoices.paid)} paid  ${Ot(N.invoices.issued+N.invoices.draft)} pending`},{title:"Vendors",primary:Ot(N.vendors.total),meta:`${Ot(N.vendors.active)} active carriers`}],I=[{id:"shipments",label:"Shipments CSV"},{id:"quotes",label:"Quotes CSV"},{id:"invoices",label:"Invoices CSV"},{id:"vendors",label:"Vendors CSV"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-500 font-semibold",children:"Company overview"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Last 30 days snapshot"}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Refreshed ",new Date(_).toLocaleString()]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(M=>a.jsxs("button",{onClick:()=>v(M.id),disabled:d===M.id,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:opacity-60",children:[a.jsx(Ds,{className:"h-4 w-4"}),d===M.id?"Preparing":M.label]},M.id))})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:T.map(M=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm flex flex-col",children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:M.title}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:M.primary}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:M.meta})]},M.title))}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Shipments (last 7 days)"}),a.jsx("ul",{className:"mt-4 space-y-2",children:j.map(M=>a.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600",children:[a.jsx("span",{className:"w-20 text-xs font-medium text-slate-500",children:M.date}),a.jsx("div",{className:"flex-1 h-2 rounded-full bg-slate-100",children:a.jsx("div",{className:"h-2 rounded-full bg-indigo-500",style:{width:x?`${M.count/x*100}%`:"4px"}})}),a.jsx("span",{className:"w-8 text-right font-semibold text-slate-700",children:M.count})]},M.date))})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Quote funnel"}),a.jsx("div",{className:"mt-4 space-y-4",children:Object.entries(y.quoteFunnel).map(([M,R])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm capitalize text-slate-600",children:M}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-40 h-2 rounded-full bg-slate-100",children:a.jsx("div",{className:"h-2 rounded-full bg-emerald-500",style:{width:N.quotes.requested?`${R/N.quotes.requested*100}%`:"4px"}})}),a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:Ot(R)})]})]},M))})]})]}),!!E.length&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Revenue trend (6 months)"}),a.jsx("div",{className:"mt-4 space-y-3",children:E.map(M=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-24 text-xs font-medium text-slate-500",children:M.label}),a.jsx("div",{className:"flex-1 h-2 rounded-full bg-slate-100",children:a.jsx("div",{className:"h-2 rounded-full bg-amber-500",style:{width:C?`${(M.value||0)/C*100}%`:"4px"}})}),a.jsxs("span",{className:"w-20 text-right text-sm font-semibold text-slate-700",children:["",Ot(M.value)]})]},M.label))})]}),!!P.length&&a.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Vendor scorecards"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Top carriers by shipment volume"})]}),a.jsxs("span",{className:"text-xs font-medium text-slate-500",children:["Showing ",P.length," vendors"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:P.map(M=>a.jsxs("div",{className:"rounded-xl border border-slate-100 bg-gradient-to-br from-white to-slate-50 p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:M.name}),a.jsx("p",{className:"text-xs text-slate-500",children:M.email})]}),a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${M.isActive?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:M.isActive?"Active":"Inactive"})]}),a.jsxs("dl",{className:"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[a.jsxs("div",{children:[a.jsx("dt",{className:"uppercase tracking-wide",children:"Shipments"}),a.jsx("dd",{className:"text-lg font-semibold text-slate-900",children:Ot(M.totalShipments)})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"uppercase tracking-wide",children:"Delivery rate"}),a.jsxs("dd",{className:"text-lg font-semibold text-slate-900",children:[M.deliveryRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"uppercase tracking-wide",children:"Avg. cost"}),a.jsxs("dd",{className:"text-lg font-semibold text-slate-900",children:["",Ot(M.avgCost)]})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"uppercase tracking-wide",children:"Rating"}),a.jsx("dd",{className:"text-lg font-semibold text-slate-900",children:M.rating?M.rating.toFixed(1):""})]})]})]},M.id))})]}),!!S.length&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"User governance"}),a.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Roster status by role"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-100 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Role"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Total"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Active"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Pending"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Suspended"}),a.jsx("th",{className:"px-3 py-2 text-right",children:"Last login"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-700",children:S.map(M=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-3 py-2 font-semibold",children:M.role}),a.jsx("td",{className:"px-3 py-2 text-right",children:Ot(M.total)}),a.jsx("td",{className:"px-3 py-2 text-right text-emerald-600",children:Ot(M.active)}),a.jsx("td",{className:"px-3 py-2 text-right text-amber-600",children:Ot(M.pending)}),a.jsx("td",{className:"px-3 py-2 text-right text-rose-600",children:Ot(M.suspended)}),a.jsx("td",{className:"px-3 py-2 text-right text-xs text-slate-500",children:M.latestLogin?new Date(M.latestLogin).toLocaleDateString():""})]},M.role))})]})})]}),!!h.length&&a.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[a.jsx(or,{className:"h-4 w-4"}),a.jsx("p",{className:"text-sm font-semibold",children:"Predictive alerts"})]}),a.jsx("div",{className:"mt-3 space-y-2",children:h.map(M=>{var R,F,W;return a.jsxs("div",{className:"rounded-xl border border-white/70 bg-white/80 px-3 py-2 text-sm",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:M.title}),a.jsx("p",{className:"text-xs text-slate-600",children:M.details}),a.jsx("p",{className:"text-[11px] text-slate-400",children:M.suggestion})]},`${M.type}-${((R=M.meta)==null?void 0:R.shipmentId)||((F=M.meta)==null?void 0:F.quoteId)||((W=M.meta)==null?void 0:W.documentId)||Math.random()}`)})})]})]})},Wse=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(qse,{}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.jsx(zse,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Fse,{}),a.jsx(X$,{})]}),a.jsx(Use,{})]}),Hse=()=>{const{user:e,loading:t}=ke();return t?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):!e||!["COMPANY_ADMIN","FINANCE_APPROVER"].includes(e.role)?a.jsx(_r,{to:"/dashboard",replace:!0}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),a.jsx(Wse,{})]})},b2=[{value:"ALL",label:"All roles"},{value:"USER",label:"Users"},{value:"VENDOR",label:"Transporters"},{value:"ADMIN",label:"Admins"}],Vse=[{value:"ALL",label:"All statuses"},{value:"PENDING",label:"Pending approval"},{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"REJECTED",label:"Rejected"}],Zse=[10,25,50,100],Bm=e=>{if(!e)return"Never";try{return new Date(e).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Never"}},Kse=e=>{const{approvalStatus:t,isActive:n}=e;return t==="PENDING"?{tone:"bg-amber-100 text-amber-700 border border-amber-200",label:"Pending approval"}:t==="REJECTED"?{tone:"bg-rose-100 text-rose-700 border border-rose-200",label:"Rejected"}:n?{tone:"bg-emerald-100 text-emerald-700 border border-emerald-200",label:"Active"}:{tone:"bg-slate-100 text-slate-600 border border-slate-200",label:"Inactive"}},Gse=()=>{const{api:e,user:t}=ke(),n=(t==null?void 0:t.role)==="ADMIN",r=["ADMIN","COMPANY_ADMIN"].includes(t==null?void 0:t.role),[i,s]=A.useState({}),[l,c]=A.useState([]),[d,f]=A.useState(0),[p,h]=A.useState(1),[g,j]=A.useState(25),[x,v]=A.useState(!0),[N,y]=A.useState(!0),[_,w]=A.useState({}),[P,S]=A.useState({role:"ALL",status:"ALL",search:""}),[E,C]=A.useState({message:"",tone:"info"}),[T,I]=A.useState(null),[M,R]=A.useState(null),F=A.useMemo(()=>(i==null?void 0:i.pendingApprovals)??0,[i]),W=A.useCallback(()=>C({message:"",tone:"info"}),[]),z=A.useCallback(async()=>{var U,q;v(!0);try{const{data:Q}=await e.get("/admin/users/stats");s(Q.stats)}catch(Q){C({tone:"error",message:((q=(U=Q.response)==null?void 0:U.data)==null?void 0:q.error)||"Failed to load user statistics."})}finally{v(!1)}},[e]),V=A.useCallback(async(U=p,q=!1)=>{var Q,H;q||y(!0);try{const oe=new URLSearchParams({page:U,limit:g});P.role&&P.role!=="ALL"&&oe.set("role",P.role),P.status&&P.status!=="ALL"&&oe.set("status",P.status),P.search&&oe.set("search",P.search.trim());const{data:ce}=await e.get(`/admin/users?${oe.toString()}`);c(ce.users),f(ce.total),h(ce.page),j(ce.pageSize)}catch(oe){C({tone:"error",message:((H=(Q=oe.response)==null?void 0:Q.data)==null?void 0:H.error)||"Failed to load users."})}finally{y(!1)}},[e,P,p,g]);A.useEffect(()=>{z()},[z]),A.useEffect(()=>{V(1)},[V,g,P.role,P.status]);const X=U=>{U.preventDefault(),V(1)},ne=(U,q)=>{w(Q=>({...Q,[U]:q}))},B=async U=>{var Q,H;if(!r){C({tone:"warning",message:"You do not have permission to approve registrations."});return}const q=window.prompt("Add approval note (optional):","")??"";ne(U.id,!0);try{n?await e.post(`/admin/registrations/${U.id}/approve`,{approvalNote:q.trim()||void 0}):await e.patch(`/admin/users/${U.id}`,{approvalStatus:"APPROVED",approvalNote:q.trim()||void 0,isActive:!0}),C({tone:"success",message:`Approved ${U.name}'s access.`}),z(),V(p,!0)}catch(oe){C({tone:"error",message:((H=(Q=oe.response)==null?void 0:Q.data)==null?void 0:H.error)||"Unable to approve registration."})}finally{ne(U.id,!1)}},J=async U=>{var Q,H;if(!r){C({tone:"warning",message:"You do not have permission to reject registrations."});return}const q=window.prompt("Enter rejection reason:","");if(q){ne(U.id,!0);try{n?await e.post(`/admin/registrations/${U.id}/reject`,{reason:q}):await e.patch(`/admin/users/${U.id}`,{approvalStatus:"REJECTED",rejectionReason:q.trim()}),C({tone:"warning",message:`${U.name}'s registration rejected.`}),z(),V(p,!0)}catch(oe){C({tone:"error",message:((H=(Q=oe.response)==null?void 0:Q.data)==null?void 0:H.error)||"Unable to reject registration."})}finally{ne(U.id,!1)}}},$=async U=>{var q,Q;ne(U.id,!0);try{await e.patch(`/admin/users/${U.id}`,{isActive:!U.isActive}),C({tone:U.isActive?"warning":"success",message:U.isActive?`${U.name} was marked inactive.`:`${U.name} reactivated.`}),V(p,!0)}catch(H){C({tone:"error",message:((Q=(q=H.response)==null?void 0:q.data)==null?void 0:Q.error)||"Unable to update user status."})}finally{ne(U.id,!1)}},K=async U=>{var Q,H;if(window.confirm(`Generate a temporary password for ${U.name}? They will need to update it after login.`)){ne(U.id,!0);try{const{data:oe}=await e.post(`/admin/users/${U.id}/reset-password`);C({tone:"info",message:oe.temporaryPassword?`Temporary password: ${oe.temporaryPassword}`:"Password reset successfully."})}catch(oe){C({tone:"error",message:((H=(Q=oe.response)==null?void 0:Q.data)==null?void 0:H.error)||"Unable to reset password."})}finally{ne(U.id,!1)}}},ee=U=>{R({id:U.id,name:U.name||"",email:U.email,phone:U.phone||"",role:U.role,approvalNote:U.approvalNote||"",isActive:U.isActive})},le=async()=>{var Z,_e;if(!M)return;const{id:U,name:q,phone:Q,role:H,approvalNote:oe,isActive:ce}=M;ne(U,!0);try{await e.patch(`/admin/users/${U}`,{name:q,phone:Q,role:H,approvalNote:oe,isActive:ce}),C({tone:"success",message:"User profile updated."}),R(null),V(p,!0)}catch(je){C({tone:"error",message:((_e=(Z=je.response)==null?void 0:Z.data)==null?void 0:_e.error)||"Unable to update user."})}finally{ne(U,!1)}},de=async U=>{var q,Q;ne(U.id,!0);try{const{data:H}=await e.get(`/admin/users/${U.id}/audit-log`);I({user:U,entries:H.audits||[]})}catch(H){C({tone:"error",message:((Q=(q=H.response)==null?void 0:q.data)==null?void 0:Q.error)||"Unable to fetch audit history."})}finally{ne(U.id,!1)}},se=Math.max(Math.ceil(d/g),1);return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ki,{message:E.message,tone:E.tone,onClose:W}),a.jsxs("header",{className:"rounded-3xl bg-slate-900 px-6 py-6 text-white shadow-xl",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-widest text-blue-200",children:"User intelligence"}),a.jsx("h1",{className:"mt-1 text-2xl font-semibold",children:"User & Access Management"}),a.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-300",children:"Monitor registrations, manage access, and keep your transporter community compliant."})]}),a.jsxs("button",{type:"button",onClick:()=>{z(),V(p,!0)},className:"inline-flex items-center gap-2 rounded-full border border-blue-400/40 bg-white/10 px-4 py-2 text-sm font-semibold text-blue-100 transition hover:bg-blue-500/20",children:[a.jsx(Sv,{className:"h-4 w-4"}),"Refresh"]})]}),n&&F>0&&a.jsxs("div",{className:"mt-4 flex items-center gap-3 rounded-2xl border border-amber-300 bg-amber-100/20 px-4 py-3 text-sm text-amber-100",children:[a.jsx(or,{className:"h-4 w-4"}),a.jsxs("span",{children:[F," registration",F===1?"":"s"," awaiting approval. Jump on it to keep the onboarding queue healthy."]})]})]}),a.jsx("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:x?a.jsx("div",{className:"col-span-full flex h-32 items-center justify-center rounded-3xl border border-slate-200 bg-white",children:a.jsx(De,{className:"h-6 w-6 animate-spin text-blue-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total users"}),a.jsx("p",{className:"mt-2 text-3xl font-semibold text-slate-900",children:(i==null?void 0:i.totalUsers)??0}),a.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[(i==null?void 0:i.approvedUsers)??0," approved | ",(i==null?void 0:i.rejectedUsers)??0," rejected"]})]}),a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("p",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-emerald-600",children:[a.jsx(zd,{className:"h-4 w-4"}),"Active in last 30 days"]}),a.jsx("p",{className:"mt-2 text-3xl font-semibold text-emerald-600",children:(i==null?void 0:i.activeUsers)??0}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Users with recent sign-ins"})]}),a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("p",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-amber-600",children:[a.jsx(Zg,{className:"h-4 w-4"}),"Pending approval"]}),a.jsx("p",{className:"mt-2 text-3xl font-semibold text-amber-600",children:(i==null?void 0:i.pendingApprovals)??0}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Need an admin decision"})]}),a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("p",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-slate-600",children:[a.jsx(or,{className:"h-4 w-4"}),"Inactive users"]}),a.jsx("p",{className:"mt-2 text-3xl font-semibold text-slate-900",children:((i==null?void 0:i.inactive30)??0)+((i==null?void 0:i.inactive60)??0)+((i==null?void 0:i.inactive90)??0)}),a.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["30d: ",(i==null?void 0:i.inactive30)??0," | 60d: ",(i==null?void 0:i.inactive60)??0," | 90d+: ",(i==null?void 0:i.inactive90)??0]})]})]})}),a.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"User directory"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Filter by role, approval status, or chase the ones who haven't logged in lately."})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-medium text-slate-600",children:[a.jsx(PI,{className:"h-3.5 w-3.5"}),"Filters"]})})]}),a.jsxs("form",{onSubmit:X,className:"mt-4 flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"flex items-center rounded-full border border-slate-200 bg-white px-3 py-2",children:[a.jsx(Kg,{className:"h-4 w-4 text-slate-400"}),a.jsx("input",{type:"search",value:P.search,onChange:U=>S(q=>({...q,search:U.target.value})),placeholder:"Search name, email, phone",className:"w-48 bg-transparent px-2 text-sm text-slate-700 focus:outline-none"})]}),a.jsx("select",{value:P.role,onChange:U=>S(q=>({...q,role:U.target.value})),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-blue-500 focus:outline-none",children:b2.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))}),a.jsx("select",{value:P.status,onChange:U=>S(q=>({...q,status:U.target.value})),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-blue-500 focus:outline-none",children:Vse.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))}),a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-700",children:[a.jsx(Kg,{className:"h-4 w-4"}),"Apply"]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"User"}),a.jsx("th",{className:"px-4 py-3",children:"Role"}),a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Registered"}),a.jsx("th",{className:"px-4 py-3",children:"Last login"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 text-slate-700",children:N?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-10 text-center text-slate-500",children:a.jsx(De,{className:"mx-auto h-5 w-5 animate-spin text-blue-600"})})}):l.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-10 text-center text-slate-500",children:"No users found. Adjust your filters or search criteria."})}):l.map(U=>{const q=Kse(U),Q=_[U.id];return a.jsxs("tr",{className:"hover:bg-slate-50/70",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-sm font-semibold text-white shadow",children:U.name?U.name.charAt(0).toUpperCase():"@"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:U.name||"Unnamed user"}),a.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[a.jsx(rh,{className:"h-3.5 w-3.5"}),U.email]})]})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-50 px-2.5 py-1 text-xs font-semibold text-blue-600",children:[a.jsx(Ta,{className:"h-3.5 w-3.5"}),U.role]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`inline-flex rounded-full px-2.5 py-1 text-xs font-semibold ${q.tone}`,children:q.label})}),a.jsx("td",{className:"px-4 py-3 text-slate-600",children:Bm(U.createdAt)}),a.jsx("td",{className:"px-4 py-3 text-slate-600",children:Bm(U.lastLoginAt)}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex justify-end gap-2",children:U.approvalStatus==="PENDING"&&r?a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:()=>B(U),disabled:Q,className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-200 disabled:opacity-60",children:[Q?a.jsx(De,{className:"h-3.5 w-3.5 animate-spin"}):a.jsx(xa,{className:"h-3.5 w-3.5"}),"Approve"]}),a.jsxs("button",{type:"button",onClick:()=>J(U),disabled:Q,className:"inline-flex items-center gap-1 rounded-full bg-rose-100 px-3 py-1 text-xs font-semibold text-rose-700 transition hover:bg-rose-200 disabled:opacity-60",children:[Q?a.jsx(De,{className:"h-3.5 w-3.5 animate-spin"}):a.jsx(b1,{className:"h-3.5 w-3.5"}),"Reject"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:()=>ee(U),disabled:Q,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-blue-300 hover:text-blue-600 disabled:opacity-60",children:[a.jsx(Fd,{className:"h-3.5 w-3.5"}),"Edit"]}),a.jsxs("button",{type:"button",onClick:()=>$(U),disabled:Q,className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold transition disabled:opacity-60 ${U.isActive?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"}`,children:[Q?a.jsx(De,{className:"h-3.5 w-3.5 animate-spin"}):U.isActive?a.jsx(b1,{className:"h-3.5 w-3.5"}):a.jsx(wR,{className:"h-3.5 w-3.5"}),U.isActive?"Deactivate":"Activate"]}),a.jsxs("button",{type:"button",onClick:()=>K(U),disabled:Q,className:"inline-flex items-center gap-1 rounded-full border border-amber-300 px-3 py-1 text-xs font-semibold text-amber-600 transition hover:bg-amber-100 disabled:opacity-60",children:[Q?a.jsx(De,{className:"h-3.5 w-3.5 animate-spin"}):a.jsx(CI,{className:"h-3.5 w-3.5"}),"Reset password"]}),a.jsxs("button",{type:"button",onClick:()=>de(U),disabled:Q,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-slate-300 hover:text-slate-700 disabled:opacity-60",title:"View audit log",children:[a.jsx(om,{className:"h-3.5 w-3.5"}),"Audit"]})]})})})]},U.id)})})]})}),a.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-sm text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"Rows per page:"}),a.jsx("select",{value:g,onChange:U=>j(Number(U.target.value)),className:"rounded-full border border-slate-200 bg-white px-2 py-1 focus:border-blue-500 focus:outline-none",children:Zse.map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>V(Math.max(p-1,1)),disabled:p<=1,className:"rounded-full border border-slate-200 px-3 py-1 text-sm text-slate-600 disabled:opacity-60",children:"Prev"}),a.jsxs("span",{children:["Page ",p," of ",se]}),a.jsx("button",{type:"button",onClick:()=>V(Math.min(p+1,se)),disabled:p>=se,className:"rounded-full border border-slate-200 px-3 py-1 text-sm text-slate-600 disabled:opacity-60",children:"Next"})]})]})]}),M&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/40 px-4 pb-8 sm:items-center",children:a.jsxs("div",{className:"w-full max-w-lg rounded-3xl bg-white p-6 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Edit user profile"}),a.jsx("p",{className:"text-xs text-slate-500",children:M.email})]}),a.jsx("button",{type:"button",onClick:()=>R(null),className:"rounded-full border border-slate-200 p-2 text-slate-500 hover:text-slate-900",children:a.jsx(om,{className:"h-4 w-4 rotate-90"})})]}),a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-slate-500",children:"Full name"}),a.jsx("input",{type:"text",value:M.name,onChange:U=>R(q=>({...q,name:U.target.value})),className:"block w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-slate-500",children:"Phone"}),a.jsx("input",{type:"tel",value:M.phone,onChange:U=>R(q=>({...q,phone:U.target.value})),className:"block w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-slate-500",children:"Role"}),a.jsx("select",{value:M.role,onChange:U=>R(q=>({...q,role:U.target.value})),className:"block w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",children:b2.filter(U=>U.value!=="ALL").map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-slate-500",children:"Approval note"}),a.jsx("textarea",{value:M.approvalNote,onChange:U=>R(q=>({...q,approvalNote:U.target.value})),rows:3,className:"block w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",placeholder:"Visible to other administrators"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:M.isActive,onChange:U=>R(q=>({...q,isActive:U.target.checked})),className:"h-4 w-4 rounded border border-slate-300 text-blue-600 focus:ring-blue-500"}),"Active account"]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsx("button",{type:"button",onClick:()=>R(null),className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:le,className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-700",children:[a.jsx(Fd,{className:"h-4 w-4"}),"Save changes"]})]})]})}),T&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/40 px-4 pb-8 sm:items-center",children:a.jsxs("div",{className:"w-full max-w-2xl rounded-3xl bg-white p-6 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Audit trail"}),a.jsx("p",{className:"text-xs text-slate-500",children:T.user.email})]}),a.jsx("button",{type:"button",onClick:()=>I(null),className:"rounded-full border border-slate-200 p-2 text-slate-500 hover:text-slate-900",children:a.jsx(om,{className:"h-4 w-4 rotate-90"})})]}),a.jsx("ul",{className:"mt-4 space-y-3 text-sm text-slate-600",children:T.entries.length===0?a.jsx("li",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-center text-slate-500",children:"No audit events recorded yet."}):T.entries.map(U=>a.jsxs("li",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:U.action}),a.jsx("p",{className:"text-xs text-slate-500",children:Bm(U.timestamp)}),U.details&&a.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words rounded-xl bg-white px-3 py-2 text-xs text-slate-600",children:JSON.stringify(U.details,null,2)}),U.ipAddress&&a.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["IP: ",U.ipAddress]})]},U.id))})]})})]})};function Yse(e,t){const[n,r]=A.useState(e);return A.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>clearTimeout(i)},[e,t]),n}const Xse=()=>{const{api:e}=ke(),[t,n]=A.useState([]),[r,i]=A.useState(!0),[s,l]=A.useState(""),[c,d]=A.useState(null),[f,p]=A.useState(""),h=Yse(f,500),[g,j]=A.useState("all"),[x,v]=A.useState({page:1,pageSize:10,total:0,totalPages:1});A.useEffect(()=>{(async()=>{var S,E;try{i(!0);const C=new URLSearchParams({page:x.page,limit:x.pageSize,search:h,status:g}),{data:T}=await e.get(`/admin/vendors?${C.toString()}`);n(T.vendors??[]),v(I=>({...I,total:T.total,totalPages:T.totalPages,page:T.page}))}catch(C){l(((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.error)||"Failed to load vendors.")}finally{i(!1)}})()},[e,x.page,x.pageSize,h,g]);const N=A.useCallback(async()=>{var P,S;try{const E=new URLSearchParams({page:x.page,limit:x.pageSize,search:h,status:g}),{data:C}=await e.get(`/admin/vendors?${E.toString()}`);n(C.vendors??[]),v(T=>({...T,total:C.total,totalPages:C.totalPages,page:C.page}))}catch(E){l(((S=(P=E.response)==null?void 0:P.data)==null?void 0:S.error)||"Failed to reload vendors.")}},[e,x.page,x.pageSize,h,g]),y=A.useCallback(async P=>{var S,E,C;try{const T={...P,createLogin:!!P.createLogin&&!!((S=P.email)!=null&&S.trim()),contactName:P.contactName||""};P.id?await e.put(`/admin/vendors/${P.id}`,T):await e.post("/admin/vendors",T),d(null),await N()}catch(T){l(((C=(E=T.response)==null?void 0:E.data)==null?void 0:C.error)||"Failed to save vendor.")}},[e,N]),_=A.useCallback(async P=>{var S,E;if(window.confirm("Are you sure you want to delete this vendor? This cannot be undone."))try{await e.delete(`/admin/vendors/${P}`),await N()}catch(C){l(((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.error)||"Failed to delete vendor.")}},[e,N]),w=()=>{d({name:"",email:"",phone:"",baseRate:"",rating:"4.0",speed:"60",isActive:!0,contactName:"",createLogin:!0})};return r?a.jsx(kv,{label:"Loading vendors..."}):a.jsxs("div",{className:"mx-auto max-w-4xl py-8",children:[a.jsxs("header",{className:"mb-8 flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Vendor Management"}),a.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-md hover:bg-blue-700",children:[a.jsx(va,{className:"h-5 w-5"}),"New Vendor"]})]}),s&&a.jsx(ki,{message:s,tone:"error",onClose:()=>l("")}),c&&a.jsx(Qse,{vendor:c,onSave:y,onCancel:()=>d(null)}),a.jsx("div",{className:"mb-6 rounded-lg bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Kg,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search by name or email...",value:f,onChange:P=>p(P.target.value),className:"w-full rounded-lg border-slate-300 py-2 pl-10 pr-4 text-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsx("div",{className:"flex items-center gap-2",children:["all","active","inactive"].map(P=>a.jsx("button",{onClick:()=>j(P),className:`rounded-full px-3 py-1 text-xs font-semibold capitalize transition ${g===P?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:P},P))})]})}),a.jsx("div",{className:"space-y-4",children:t.length>0?t.map(P=>a.jsx("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:P.name}),a.jsx("p",{className:"text-sm text-slate-500",children:P.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${P.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.isActive?"Active":"Inactive"}),a.jsx("button",{onClick:()=>d({...P,contactName:"",createLogin:!1}),className:"text-blue-600 hover:text-blue-800",children:a.jsx(aR,{size:18})}),a.jsx("button",{onClick:()=>_(P.id),className:"text-red-600 hover:text-red-800",children:a.jsx(Jl,{size:18})})]})]})},P.id)):a.jsxs("div",{className:"rounded-lg border-2 border-dashed border-slate-200 bg-white p-8 text-center text-sm text-slate-500",children:[a.jsx("p",{children:"No vendors match your current filters."}),a.jsx("p",{children:"Try adjusting your search or filter criteria."})]})}),x.total>0&&a.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm",children:[a.jsxs("p",{className:"text-slate-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:(x.page-1)*x.pageSize+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(x.page*x.pageSize,x.total)})," of ",a.jsx("span",{className:"font-semibold",children:x.total})," vendors"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>v(P=>({...P,page:P.page-1})),disabled:x.page<=1,className:"rounded-lg border border-slate-300 p-1.5 hover:bg-slate-50 disabled:opacity-50",children:a.jsx(nI,{className:"h-4 w-4"})}),a.jsxs("span",{className:"font-medium",children:["Page ",x.page," of ",x.totalPages]}),a.jsx("button",{onClick:()=>v(P=>({...P,page:P.page+1})),disabled:x.page>=x.totalPages,className:"rounded-lg border border-slate-300 p-1.5 hover:bg-slate-50 disabled:opacity-50",children:a.jsx(iI,{className:"h-4 w-4"})})]})]})]})},Qse=({vendor:e,onSave:t,onCancel:n})=>{var c,d;const[r,i]=A.useState({...e,contactName:e.contactName??"",createLogin:e.createLogin??!1});A.useEffect(()=>{i({...e,contactName:e.contactName??"",createLogin:e.createLogin??!1})},[e]);const s=f=>{const{name:p,value:h,type:g,checked:j}=f.target;i(x=>({...x,[p]:g==="checkbox"?j:h}))},l=f=>{f.preventDefault(),t(r)};return a.jsxs("form",{onSubmit:l,className:"mb-8 rounded-lg bg-white p-6 shadow-md",children:[a.jsx("h2",{className:"mb-4 text-lg font-semibold",children:r.id?"Edit Vendor":"Create New Vendor"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(Ji,{name:"name",label:"Name",value:r.name,onChange:s,required:!0}),a.jsx(Ji,{name:"email",label:"Email",type:"email",value:r.email,onChange:s}),a.jsx(Ji,{name:"phone",label:"Phone",value:r.phone,onChange:s}),a.jsx(Ji,{name:"baseRate",label:"Base Rate (per km)",type:"number",value:r.baseRate,onChange:s}),a.jsx(Ji,{name:"rating",label:"Rating (1-5)",type:"number",step:"0.1",value:r.rating,onChange:s}),a.jsx(Ji,{name:"speed",label:"Avg. Speed (km/h)",type:"number",value:r.speed,onChange:s}),a.jsx(Ji,{name:"contactName",label:"Transporter Contact Name",value:r.contactName,onChange:s})]}),a.jsx("div",{className:"mt-4",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"isActive",checked:r.isActive,onChange:s,className:"h-4 w-4 rounded text-blue-600 focus:ring-blue-500"}),"Active"]})}),a.jsx("div",{className:"mt-4 rounded-lg border border-slate-200 bg-slate-50 p-4",children:a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("label",{className:"flex items-center gap-3 text-sm font-semibold text-slate-700",children:[a.jsx("input",{type:"checkbox",name:"createLogin",checked:!!r.createLogin,onChange:s,className:"h-4 w-4 rounded text-blue-600 focus:ring-blue-500",disabled:!((c=r.email)!=null&&c.trim())}),"Provision transporter portal login"]}),a.jsx("p",{className:"text-xs text-slate-500 md:text-right",children:(d=r.email)!=null&&d.trim()?"We will create/send credentials to this email so the transporter can access quotes and assignments.":"An email address is required to generate transporter credentials."})]})}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsxs("button",{type:"button",onClick:n,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:[a.jsx(Fs,{className:"mr-1 inline h-4 w-4"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:[a.jsx(Pv,{className:"h-4 w-4"}),"Save Vendor"]})]})]})},Ji=({label:e,...t})=>a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-600",children:e}),a.jsx("input",{...t,className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),Fm={GST_INVOICE:"GST invoice",SELF_INVOICE_RCM:"RCM self-invoice",EWAY_BILL:"E-way bill",DRIVER_KYC:"Driver KYC",VEHICLE_KYC:"Vehicle KYC",LORRY_RECEIPT:"Lorry receipt"},Jse=()=>{const{api:e}=ke(),[t,n]=A.useState(null),[r,i]=A.useState(!0),[s,l]=A.useState("");return A.useEffect(()=>{let c=!0;return(async()=>{var f,p;try{const h=await e.get("/compliance/analytics/overview");c&&n(h.data)}catch(h){c&&l(((p=(f=h.response)==null?void 0:f.data)==null?void 0:p.error)||"Unable to load compliance overview.")}finally{c&&i(!1)}})(),()=>{c=!1}},[e]),r?a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 text-sm text-slate-500 shadow-sm",children:"Loading compliance analytics"}):s?a.jsx("div",{className:"rounded-2xl border border-rose-100 bg-white p-4 text-sm text-rose-600 shadow-sm",children:s}):t?a.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Compliance dashboard"}),a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Document health & audit log"})]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Refreshed ",new Date(t.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Document vault"}),a.jsxs("div",{className:"mt-3 space-y-3 max-h-56 overflow-y-auto pr-2 text-sm",children:[t.documentVault.map(c=>a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-white p-3",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:Fm[c.type]||c.type}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:Object.entries(c.statuses).map(([d,f])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:d}),a.jsx("span",{className:"font-semibold text-slate-900",children:f})]},d))})]},c.type)),!t.documentVault.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No documents recorded yet."})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Recent documents"}),a.jsxs("div",{className:"mt-3 space-y-2 max-h-56 overflow-y-auto pr-2 text-sm",children:[t.recentDocuments.map(c=>{var d;return a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-white p-3",children:[a.jsxs("p",{className:"font-semibold text-slate-900",children:[Fm[c.type]||c.type,"  ",c.status]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Shipment ",((d=c.shipment)==null?void 0:d.trackingNumber)||c.id]}),a.jsxs("p",{className:"text-[11px] text-slate-400",children:["Updated ",new Date(c.updatedAt).toLocaleString()]})]},c.id)}),!t.recentDocuments.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No documents uploaded yet."})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Upcoming deadlines"}),a.jsxs("div",{className:"mt-3 space-y-2 max-h-56 overflow-y-auto pr-2 text-sm",children:[t.deadlines.map(c=>a.jsxs("div",{className:"rounded-lg border border-amber-100 bg-white p-3",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:c.trackingNumber||`Shipment #${c.id}`}),a.jsxs("p",{className:"text-xs text-slate-500",children:[c.fromLocation,"  ",c.toLocation]}),a.jsxs("p",{className:"text-[11px] text-amber-600",children:["Compliance status ",c.complianceStatus||"PENDING"]}),a.jsxs("p",{className:"text-[11px] text-amber-600",children:["Pickup ",c.pickupTime?new Date(c.pickupTime).toLocaleDateString():"TBD"]})]},c.id)),!t.deadlines.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No pending compliance deadlines."})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Audit trail"}),a.jsxs("div",{className:"mt-3 max-h-48 overflow-y-auto pr-2",children:[t.events.map(c=>{var d,f,p,h;return a.jsxs("div",{className:"border-l-2 border-slate-200 pl-4 pb-3 text-sm",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:c.eventType}),a.jsxs("p",{className:"text-xs text-slate-500",children:[Fm[(d=c.document)==null?void 0:d.type]||((f=c.document)==null?void 0:f.type)," "," ",((h=(p=c.document)==null?void 0:p.shipment)==null?void 0:h.trackingNumber)||"Shipment"]}),a.jsx("p",{className:"text-[11px] text-slate-400",children:new Date(c.recordedAt).toLocaleString()})]},c.id)}),!t.events.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No audit events recorded."})]})]})]}):null},zm=e=>String(e||"").replace(/_/g," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),w2=e=>e?new Date(e).toLocaleString("en-IN",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"N/A",eoe={GST_INVOICE:"GST invoice",SELF_INVOICE_RCM:"RCM self-invoice",EWAY_BILL:"E-way bill",DRIVER_KYC:"Driver KYC",VEHICLE_KYC:"Vehicle KYC"},_2=[{label:"All statuses",value:""},{label:"Pending",value:"PENDING"},{label:"Submitted",value:"SUBMITTED"},{label:"Approved",value:"APPROVED"},{label:"Rejected",value:"REJECTED"}],j2=[{label:"All document types",value:""},{label:"GST invoice",value:"GST_INVOICE"},{label:"RCM self-invoice",value:"SELF_INVOICE_RCM"},{label:"E-way bill",value:"EWAY_BILL"},{label:"Driver KYC",value:"DRIVER_KYC"},{label:"Vehicle KYC",value:"VEHICLE_KYC"}],toe=()=>{const{api:e}=ke(),[t,n]=A.useState([]),[r,i]=A.useState(!0),[s,l]=A.useState(!1),[c,d]=A.useState(""),[f,p]=A.useState(""),[h,g]=A.useState(""),j=A.useCallback(async()=>{var N,y;try{d(""),l(!0);const _=await e.get("/compliance/queue",{params:{status:f||void 0,type:h||void 0}});n(_.data.documents||[])}catch(_){d(((y=(N=_.response)==null?void 0:N.data)==null?void 0:y.error)||"Unable to load compliance queue.")}finally{i(!1),l(!1)}},[e,f,h]);A.useEffect(()=>{j()},[j]);const x=A.useMemo(()=>{const N=t.length,y=t.reduce((w,P)=>(w[P.type]=(w[P.type]||0)+1,w),{}),_=t.reduce((w,P)=>(w[P.status]=(w[P.status]||0)+1,w),{});return{total:N,byType:y,byStatus:_}},[t]),v=async N=>{var y,_;try{const w=await e.get(`/compliance/documents/${N}/download`,{responseType:"blob"}),P=URL.createObjectURL(new Blob([w.data],{type:"application/json"})),S=document.createElement("a");S.href=P,S.setAttribute("download",`compliance-${N}.json`),document.body.appendChild(S),S.click(),S.remove(),URL.revokeObjectURL(P)}catch(w){d(((_=(y=w.response)==null?void 0:y.data)==null?void 0:_.error)||"Failed to download compliance document.")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Compliance queue"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Monitor pending GST, RCM, e-way bill, and KYC tasks across all shipments."})]}),a.jsx(Jse,{}),c&&a.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700",children:[a.jsx(Pr,{className:"h-4 w-4"}),c]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Open items"}),a.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:x.total})]}),a.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-blue-500 hover:text-blue-600 disabled:cursor-not-allowed disabled:border-slate-200 disabled:text-slate-400",disabled:s,children:[a.jsx(Sv,{className:`h-4 w-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),a.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[j2.slice(1).map(N=>a.jsxs("div",{className:"rounded-xl border border-slate-100 p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:N.label}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:x.byType[N.value]||0})]},N.value)),_2.slice(1).map(N=>a.jsxs("div",{className:"rounded-xl border border-slate-100 p-4",children:[a.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:[N.label," items"]}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:x.byStatus[N.value]||0})]},N.value))]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Ta,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{children:"Status"}),a.jsx("select",{value:f,onChange:N=>p(N.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",children:_2.map(N=>a.jsx("option",{value:N.value,children:N.label},N.value))})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(ya,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{children:"Document type"}),a.jsx("select",{value:h,onChange:N=>g(N.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",children:j2.map(N=>a.jsx("option",{value:N.value,children:N.label},N.value))})]})]})}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[a.jsx("th",{className:"px-4 py-3",children:"Document"}),a.jsx("th",{className:"px-4 py-3",children:"Shipment"}),a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Last update"}),a.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r?a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:[a.jsx(De,{className:"mx-auto mb-2 h-6 w-6 animate-spin text-blue-600"}),"Loading compliance queue..."]})}):t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"All caught up! There are no outstanding compliance items."})}):t.map(N=>{var y;return a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("p",{className:"font-semibold text-slate-800",children:eoe[N.type]||zm(N.type)}),a.jsxs("p",{className:"text-xs text-slate-500",children:["#",N.id,"  Created ",w2(N.createdAt)]})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx(sr,{to:`/shipments/${N.shipment.id}`,className:"font-medium text-blue-600 hover:underline",children:N.shipment.trackingNumber||N.shipment.id}),a.jsxs("p",{className:"text-xs text-slate-500",children:[N.shipment.fromLocation,"  ",N.shipment.toLocation]})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"inline-flex rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-700",children:zm(N.status)})}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("p",{className:"text-sm text-slate-700",children:w2(N.updatedAt||N.createdAt)}),((y=N.events)==null?void 0:y[0])&&a.jsxs("p",{className:"text-xs text-slate-500",children:[zm(N.events[0].eventType)," by system"]})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(sr,{to:`/shipments/${N.shipment.id}`,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:border-blue-500 hover:text-blue-600",children:"View shipment"}),a.jsxs("button",{type:"button",onClick:()=>v(N.id),className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:border-blue-500 hover:text-blue-600",children:[a.jsx(Ds,{className:"h-4 w-4"}),"Download JSON"]})]})})]},N.id)})})]})})]})]})},noe=e=>e?new Date(e).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",N2={PENDING:"bg-amber-100 text-amber-700",RESPONDED:"bg-blue-100 text-blue-700",APPROVED:"bg-emerald-100 text-emerald-700",CLOSED:"bg-slate-100 text-slate-600"},roe=()=>{const{api:e}=ke(),[t,n]=A.useState(!0),[r,i]=A.useState([]),[s,l]=A.useState({}),[c,d]=A.useState(!1),[f,p]=A.useState(""),[h,g]=A.useState({message:"",tone:"info"}),j=A.useCallback(()=>g({message:"",tone:"info"}),[]),x=A.useCallback(async(w=!0)=>{var P,S;w&&n(!0),p("");try{const E=await e.get("/quotes");return i(E.data.requests||[]),!0}catch(E){const C=((S=(P=E.response)==null?void 0:P.data)==null?void 0:S.error)||"Failed to fetch quotation requests.";return p(C),!1}finally{w&&n(!1)}},[e]),v=A.useCallback(async()=>{d(!0);const w=await x(!1);g(w?{message:"Quotes updated successfully.",tone:"success"}:P=>(P==null?void 0:P.tone)==="error"?P:{message:"Unable to refresh quotation requests.",tone:"error"}),d(!1)},[x]);A.useEffect(()=>{x()},[x]);const N=async w=>{var P,S,E;l(C=>({...C,[w]:!0}));try{const T=(P=(await e.post(`/quotes/responses/${w}/approve`)).data.approval)==null?void 0:P.quoteRequest;T&&i(I=>I.map(M=>M.id===T.id?T:M)),g({message:"Quotation approved. Shipment created and awaiting transporter acceptance.",tone:"success"})}catch(C){g({message:((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.error)||"Unable to approve quotation.",tone:"error"})}finally{l(C=>({...C,[w]:!1}))}},y=A.useMemo(()=>r.filter(w=>w.status==="PENDING"),[r]),_=A.useMemo(()=>r.filter(w=>w.status==="RESPONDED"),[r]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-6 text-white shadow-xl",children:[a.jsx("p",{className:"text-xs uppercase tracking-widest text-blue-100",children:"Transporter quotation desk"}),a.jsx("h1",{className:"mt-2 text-2xl font-semibold",children:"Manage custom quotations"}),a.jsx("p",{className:"mt-3 max-w-3xl text-sm text-blue-50",children:"When a route falls outside your rate cards, request quotations from transporters, review their responses, and approve the best fit. Approved quotes instantly spin up shipments ready for transporter acceptance."})]}),f&&a.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"button",onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:border-blue-300 hover:text-blue-600 disabled:cursor-not-allowed disabled:opacity-60",children:[c?a.jsx(De,{className:"h-4 w-4 animate-spin text-blue-500"}):null,a.jsx("span",{children:c?"Updating quotes...":"Update quotes"})]})}),t?a.jsx("div",{className:"flex h-64 items-center justify-center rounded-3xl border border-slate-200 bg-white shadow-sm",children:a.jsx(De,{className:"h-8 w-8 animate-spin text-blue-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Awaiting transporter response"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Requests still pending a transporter quotation. Tara will alert you on updates."})]}),a.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:y.length})]}),y.length===0?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-6 py-10 text-center text-sm text-slate-500",children:"No pending requests. Create a new quote from the shipment planner when you need one."}):a.jsx("div",{className:"mt-6 grid gap-4",children:y.map(w=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Qr,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"font-semibold text-slate-900",children:w.fromLocation}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{children:w.toLocation})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Ti,{className:"h-4 w-4 text-slate-500"}),a.jsxs("span",{children:[w.weight," kg"]}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{children:w.shipmentType})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(ya,{className:"h-4 w-4 text-slate-500"}),a.jsxs("span",{children:["Urgency: ",w.urgency]})]})]}),a.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${N2[w.status]||"bg-slate-100 text-slate-600"}`,children:w.status})]}),a.jsx("p",{className:"mt-3 text-xs uppercase tracking-wide text-slate-400",children:"Quotes requested from:"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600",children:w.responses.map(P=>a.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1",children:P.vendor.name},P.id))})]},w.id))})]}),a.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Transporter responses"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Compare submitted prices and approve the best quote to trigger a shipment."})]}),a.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:_.length})]}),_.length===0?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-6 py-10 text-center text-sm text-slate-500",children:"No responses waiting for approval."}):a.jsx("div",{className:"mt-6 space-y-6",children:_.map(w=>{const P=w.status==="APPROVED"||w.approvedResponseId;return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Qr,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"font-semibold text-slate-900",children:w.fromLocation}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{children:w.toLocation})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Ti,{className:"h-4 w-4 text-slate-500"}),a.jsxs("span",{children:[w.weight," kg"]}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{children:w.shipmentType})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(ya,{className:"h-4 w-4 text-slate-500"}),a.jsxs("span",{children:["Urgency: ",w.urgency]})]})]}),a.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${N2[w.status]||"bg-slate-100 text-slate-600"}`,children:w.status})]}),a.jsx("div",{className:"mt-4 space-y-3",children:w.responses.map(S=>{var E;return a.jsxs("div",{className:`rounded-2xl border px-4 py-4 text-sm ${S.id===w.approvedResponseId?"border-emerald-300 bg-emerald-50":"border-slate-200 bg-slate-50"}`,children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ev,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"font-semibold text-slate-900",children:S.vendor.name}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"font-semibold text-blue-700",children:["",((E=S.quotedPrice)==null?void 0:E.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}))||"N/A"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx($s,{className:"h-4 w-4 text-slate-500"}),a.jsxs("span",{children:["ETA: ",noe(S.estimatedDelivery)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(ya,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{children:S.status})]})]}),!P&&a.jsxs("button",{type:"button",onClick:()=>N(S.id),disabled:s[S.id],className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-emerald-700 disabled:opacity-50",children:[s[S.id]?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(v1,{className:"h-4 w-4"}),"Approve quotation"]})]}),S.transporterNotes&&a.jsx("p",{className:"mt-2 rounded-lg bg-white px-3 py-2 text-xs text-slate-600",children:S.transporterNotes})]},S.id)})}),P&&w.shipment&&a.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-xs text-emerald-700",children:[a.jsx(v1,{className:"h-4 w-4"}),"Shipment #",w.shipment.id," created  awaiting transporter acceptance."]})]},w.id)})})]})]}),a.jsx("section",{className:"rounded-3xl border border-dashed border-slate-300 bg-white/70 p-6 text-sm text-slate-600 shadow-sm",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(or,{className:"mt-0.5 h-5 w-5 text-amber-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Need a new quotation?"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Head back to the shipment planner, enter your pickup and drop details, and click Request custom quotation to notify transporters instantly."})]})]})}),a.jsx(ki,{message:h.message,tone:h.tone,onClose:j})]})},al=e=>e?new Date(e).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ioe=e=>{if(!e)return"No SLA";const n=new Date(e).getTime()-Date.now();if(n<=0)return"Expired";const r=Math.floor(n/6e4),i=Math.floor(r/(60*24));if(i>0){const c=Math.floor((r-i*1440)/60);return`${i}d ${c}h`}const s=Math.floor(r/60),l=r%60;return s>0?`${s}h ${l}m`:`${l}m`},aoe=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}),soe=e=>{if(e==null)return"N/A";const t=Number(e);return Number.isNaN(t)?"N/A":aoe.format(t)},ooe=()=>{const{api:e,user:t}=ke(),n=$a(),[r,i]=A.useState(!0),[s,l]=A.useState([]),[c,d]=A.useState([]),[f,p]=A.useState({}),[h,g]=A.useState({}),[j,x]=A.useState({}),[v,N]=A.useState({}),[y,_]=A.useState({}),[w,P]=A.useState({}),[S,E]=A.useState({}),[C,T]=A.useState({}),[I,M]=A.useState({message:"",tone:"info"}),[R,F]=A.useState(""),W=A.useMemo(()=>{var q;return((q=t==null?void 0:t.vendor)==null?void 0:q.name)||"Your transporter team"},[t]),z=A.useMemo(()=>c.filter(q=>q.status!=="ACCEPTED"&&q.status!=="REJECTED"),[c]),V=A.useMemo(()=>c.filter(q=>q.status==="ACCEPTED"),[c]),X=q=>{if(!q)return"";const Q=new Date(q);return Number.isNaN(Q.getTime())?"":Q.toISOString().slice(0,16)},ne=A.useCallback(()=>{M({message:"",tone:"info"})},[]),B=A.useCallback(async()=>{var q,Q;i(!0),F("");try{const[H,oe]=await Promise.all([e.get("/transporter/quotes"),e.get("/transporter/assignments")]);l(H.data.responses||[]),d(oe.data.assignments||[])}catch(H){F(((Q=(q=H.response)==null?void 0:q.data)==null?void 0:Q.error)||"Unable to load transporter inbox.")}finally{i(!1)}},[e]);A.useEffect(()=>{B()},[B]),A.useEffect(()=>{_(q=>{const Q={...q};return V.forEach(H=>{Q[H.id]||(Q[H.id]={driverName:H.assignedDriver||"",driverPhone:H.driverPhone||"",driverPhotoUrl:H.driverPhotoUrl||"",vehicleType:H.vehicleType||"",vehicleModel:H.vehicleModel||"",vehicleRegistration:H.vehicleRegistration||"",driverEta:X(H.driverEta)})}),Q}),E(q=>{const Q={...q};return V.forEach(H=>{Q[H.id]||(Q[H.id]={latitude:H.driverLastKnownLat??"",longitude:H.driverLastKnownLng??"",locationLabel:"",eta:X(H.driverEta)})}),Q})},[V]);const J=(q,Q,H)=>{p(oe=>({...oe,[q]:{...oe[q]||{},[Q]:H}}))},$=async q=>{var H,oe;const Q=f[q]||{};if(!Q.quotedPrice||!Q.estimatedDelivery){M({message:"Provide price and estimated delivery before submitting a quotation.",tone:"warning"});return}x(ce=>({...ce,[q]:!0}));try{await e.post(`/transporter/quotes/${q}/respond`,{quotedPrice:parseFloat(Q.quotedPrice),estimatedDelivery:Q.estimatedDelivery,transporterNotes:Q.transporterNotes||""}),l(ce=>ce.filter(Z=>Z.id!==q)),p(ce=>{const Z={...ce};return delete Z[q],Z}),M({message:"Quotation sent successfully. We will notify the shipper.",tone:"success"})}catch(ce){M({message:((oe=(H=ce.response)==null?void 0:H.data)==null?void 0:oe.error)||"Failed to submit quotation.",tone:"error"})}finally{x(ce=>({...ce,[q]:!1}))}},K=async q=>{var H,oe;const Q=f[q]||{};x(ce=>({...ce,[q]:!0}));try{await e.post(`/transporter/quotes/${q}/respond`,{action:"DECLINE",transporterNotes:Q.transporterNotes||""}),l(ce=>ce.filter(Z=>Z.id!==q)),p(ce=>{const Z={...ce};return delete Z[q],Z}),M({message:"You declined this quotation request.",tone:"info"})}catch(ce){M({message:((oe=(H=ce.response)==null?void 0:H.data)==null?void 0:oe.error)||"Failed to decline quotation.",tone:"error"})}finally{x(ce=>({...ce,[q]:!1}))}},ee=async(q,Q)=>{var Z,_e,je,$e;const H=q.id,oe=((Z=h[H])==null?void 0:Z.notes)||"",ce=(_e=q.transporterQuote)==null?void 0:_e.id;N(Pe=>({...Pe,[H]:!0}));try{const lt=await n({request:ce?xt=>xt.post(`/quotes/responses/${ce}/consent`,{action:Q,note:oe}):xt=>xt.post(`/transporter/assignments/${H}/respond`,{action:Q==="ACCEPT"?"ACCEPT":"REJECT",notes:oe}),queue:ce?{entityType:"QUOTE_RESPONSE",entityId:ce,action:Q==="ACCEPT"?"RESPOND_QUOTE_RESPONSE":"DECLINE_QUOTE_RESPONSE",payload:{responseId:ce,action:Q,notes:oe}}:{entityType:"SHIPMENT",entityId:H,action:Q==="ACCEPT"?"ACCEPT_ASSIGNMENT":"REJECT_ASSIGNMENT",payload:{shipmentId:H,action:Q,notes:oe}}});lt.queued||(d(xt=>xt.filter(rn=>rn.id!==H)),g(xt=>{const rn={...xt};return delete rn[H],rn}),await B()),M({message:lt.queued?"Offline: assignment response queued and will sync automatically.":Q==="ACCEPT"?"Booking confirmed. Dispatcher notified.":"Booking declined. Shipper will be alerted.",tone:lt.queued?"warning":Q==="ACCEPT"?"success":"warning"})}catch(Pe){M({message:(($e=(je=Pe.response)==null?void 0:je.data)==null?void 0:$e.error)||Pe.message||"Failed to update assignment.",tone:"error"})}finally{N(Pe=>({...Pe,[H]:!1}))}},le=(q,Q,H)=>{_(oe=>({...oe,[q]:{...oe[q]||{},[Q]:H}}))},de=async q=>{var oe,ce;const Q=q.id,H=y[Q]||{};if(!H.driverName||!H.driverPhone||!H.vehicleType||!H.vehicleRegistration){M({message:"Driver name, phone, vehicle type, and registration are required.",tone:"warning"});return}P(Z=>({...Z,[Q]:!0}));try{const Z={driverName:H.driverName,driverPhone:H.driverPhone,driverPhotoUrl:H.driverPhotoUrl||void 0,vehicleType:H.vehicleType,vehicleModel:H.vehicleModel||void 0,vehicleRegistration:H.vehicleRegistration,driverEta:H.driverEta||void 0},_e=await n({request:je=>je.post(`/transporter/shipments/${Q}/driver-info`,Z),queue:{entityType:"SHIPMENT",entityId:Q,action:"UPDATE_DRIVER_INFO",payload:{shipmentId:Q,...Z}}});M({message:_e.queued?"Offline: driver details queued and will sync automatically.":"Driver and vehicle details saved.",tone:_e.queued?"warning":"success"}),_e.queued||await B()}catch(Z){M({message:((ce=(oe=Z.response)==null?void 0:oe.data)==null?void 0:ce.error)||Z.message||"Failed to save driver details.",tone:"error"})}finally{P(Z=>({...Z,[Q]:!1}))}},se=(q,Q,H)=>{E(oe=>({...oe,[q]:{...oe[q]||{},[Q]:H}}))},U=async q=>{var oe,ce;const Q=q.id,H=S[Q]||{};if(H.latitude===""||H.longitude===""){M({message:"Latitude and longitude are required to update location.",tone:"warning"});return}T(Z=>({...Z,[Q]:!0}));try{const Z={latitude:H.latitude,longitude:H.longitude,eta:H.eta||void 0,locationLabel:H.locationLabel||void 0},_e=await n({request:je=>je.post(`/transporter/shipments/${Q}/location`,Z),queue:{entityType:"SHIPMENT",entityId:Q,action:"UPDATE_DRIVER_LOCATION",payload:{shipmentId:Q,...Z}}});M({message:_e.queued?"Offline: driver location queued and will sync automatically.":"Driver location updated.",tone:_e.queued?"warning":"success"}),_e.queued||await B()}catch(Z){M({message:((ce=(oe=Z.response)==null?void 0:oe.data)==null?void 0:ce.error)||Z.message||"Failed to update driver location.",tone:"error"})}finally{T(Z=>({...Z,[Q]:!1}))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 p-6 text-white shadow-xl",children:[a.jsx("p",{className:"text-xs uppercase tracking-widest text-blue-200",children:"Transporter centre"}),a.jsx("h1",{className:"mt-2 text-2xl font-semibold",children:W}),a.jsx("p",{className:"mt-3 max-w-2xl text-sm text-blue-100",children:"Quotation requests and live assignments waiting for your action appear here. Respond quickly to keep lanes running smoothly."})]}),R&&a.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:R}),r?a.jsx("div",{className:"flex h-64 items-center justify-center rounded-3xl border border-slate-200 bg-white",children:a.jsx(De,{className:"h-8 w-8 animate-spin text-blue-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Quotation requests"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Price out new lanes and share your best ETA to win the job."})]}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:[s.length," pending"]})]}),s.length===0?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-6 py-10 text-center text-sm text-slate-500",children:"No open quotation requests. Tara will notify you when new routes arrive."}):a.jsx("div",{className:"mt-6 space-y-6",children:s.map(q=>{var H;const Q=f[q.id]||{};return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Qr,{className:"mt-0.5 h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Route"}),a.jsx("p",{className:"font-semibold text-slate-900",children:q.quoteRequest.fromLocation}),a.jsxs("p",{className:"text-sm text-slate-500",children:["to ",q.quoteRequest.toLocation]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ti,{className:"mt-0.5 h-5 w-5 text-slate-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Load"}),a.jsxs("p",{className:"font-semibold text-slate-900",children:[q.quoteRequest.weight," kg  ",q.quoteRequest.shipmentType]}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Urgency: ",q.quoteRequest.urgency]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($s,{className:"mt-0.5 h-5 w-5 text-slate-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Requested"}),a.jsx("p",{className:"font-semibold text-slate-900",children:al(q.quoteRequest.createdAt)}),a.jsxs("p",{className:"text-sm text-slate-500",children:["By ",((H=q.quoteRequest.createdBy)==null?void 0:H.name)||"Shipper"]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Quoted price ()"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:Q.quotedPrice||"",onChange:oe=>J(q.id,"quotedPrice",oe.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"}),a.jsx("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Estimated delivery"}),a.jsx("input",{type:"datetime-local",value:Q.estimatedDelivery||"",onChange:oe=>J(q.id,"estimatedDelivery",oe.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsx("textarea",{rows:2,placeholder:"Add a short note for the shipper (optional)",value:Q.transporterNotes||"",onChange:oe=>J(q.id,"transporterNotes",oe.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 md:max-w-xl"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>$(q.id),disabled:j[q.id],className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-blue-700 disabled:opacity-50",children:[j[q.id]?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(Av,{className:"h-4 w-4 -rotate-45"}),"Send quotation"]}),a.jsxs("button",{type:"button",onClick:()=>K(q.id),disabled:j[q.id],className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:border-red-300 hover:text-red-600 disabled:opacity-50",children:[a.jsx(y1,{className:"h-4 w-4"}),"Decline"]})]})]})]},q.id)})})]}),a.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Pending assignments"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Confirm jobs waiting on your acceptance to start planning the load."})]}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:[z.length," pending"]})]}),z.length===0?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-6 py-10 text-center text-sm text-slate-500",children:"No shipments waiting on confirmation."}):a.jsx("div",{className:"mt-6 space-y-6",children:z.map(q=>{var _e,je,$e;const Q=q.transporterQuote,H=Q==null?void 0:Q.expiresAt,oe=ioe(H),ce=!!(Q&&H&&new Date(H).getTime()<=Date.now()),Z=v[q.id]||Q&&ce;return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsx("span",{className:"rounded-full bg-blue-50 px-3 py-1 text-xs font-semibold text-blue-700",children:Q?"Awaiting booking consent":"Pending assignment"}),Q&&a.jsxs("div",{className:`flex items-center gap-2 text-sm ${ce?"text-red-600":"text-slate-600"}`,children:[ce?a.jsx(or,{className:"h-4 w-4"}):a.jsx(ya,{className:"h-4 w-4"}),a.jsx("span",{children:oe})]})]}),a.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Qr,{className:"mt-0.5 h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Route"}),a.jsx("p",{className:"font-semibold text-slate-900",children:q.fromLocation}),a.jsxs("p",{className:"text-sm text-slate-500",children:["to ",q.toLocation]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ti,{className:"mt-0.5 h-5 w-5 text-slate-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Load"}),a.jsxs("p",{className:"font-semibold text-slate-900",children:[q.weight," kg x ",q.shipmentType]}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Urgency: ",q.urgency]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($s,{className:"mt-0.5 h-5 w-5 text-slate-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Requested"}),a.jsx("p",{className:"font-semibold text-slate-900",children:al(q.createdAt)}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Deliver by: ",al(q.estimatedDelivery)]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(xa,{className:"mt-0.5 h-5 w-5 text-emerald-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Shipper"}),a.jsx("p",{className:"font-semibold text-slate-900",children:(_e=q.user)==null?void 0:_e.name}),a.jsx("p",{className:"text-sm text-slate-500",children:(je=q.user)==null?void 0:je.email})]})]})]}),Q&&a.jsx("div",{className:"mt-4 rounded-xl bg-slate-50 px-4 py-3 text-sm text-slate-600",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("span",{children:[a.jsx("strong",{children:"Quoted price:"})," ",soe(Q.quotedPrice)]}),a.jsxs("span",{children:[a.jsx("strong",{children:"ETA:"})," ",al(Q.estimatedDelivery)]}),Q.transporterNotes&&a.jsxs("span",{className:"min-w-[200px] flex-1",children:[a.jsx("strong",{children:"Notes:"})," ",Q.transporterNotes]})]})}),a.jsxs("div",{className:"mt-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsx("textarea",{rows:2,placeholder:"Notes back to dispatcher (optional)",value:(($e=h[q.id])==null?void 0:$e.notes)||"",onChange:Pe=>g(Xe=>({...Xe,[q.id]:{...Xe[q.id]||{},notes:Pe.target.value}})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40 md:max-w-xl"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>ee(q,"ACCEPT"),disabled:Z,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-emerald-700 disabled:opacity-50",children:[v[q.id]?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(xa,{className:"h-4 w-4"}),"Confirm booking"]}),a.jsxs("button",{type:"button",onClick:()=>ee(q,"DECLINE"),disabled:v[q.id],className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:border-red-300 hover:text-red-600 disabled:opacity-50",children:[a.jsx(y1,{className:"h-4 w-4"}),"Decline"]})]})]}),Q&&ce&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-red-600",children:[a.jsx(or,{className:"h-4 w-4"}),a.jsx("span",{children:"SLA expired. Please contact the dispatcher to reissue the booking."})]})]},q.id)})}),a.jsxs("div",{className:"mt-10 border-t border-slate-200 pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Driver & vehicle onboarding"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Share driver credentials and vehicle details for accepted loads. This unlocks live tracking, call, and share features for the shipper."})]}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:[V.length," to update"]})]}),V.length===0?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-emerald-200 bg-emerald-50 px-6 py-10 text-center text-sm text-emerald-700",children:"All accepted shipments already have driver and vehicle information assigned."}):a.jsx("div",{className:"mt-6 space-y-6",children:V.map(q=>{const Q=y[q.id]||{},H=S[q.id]||{},oe=!!q.assignedDriver&&!!q.driverPhone&&!!q.vehicleRegistration,ce=q.driverLocationUpdatedAt?al(q.driverLocationUpdatedAt):null;return a.jsxs("div",{className:"rounded-2xl border border-blue-200 bg-blue-50/30 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-700",children:"Accepted booking"}),a.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:[q.fromLocation,"  ",q.toLocation," "," ",q.weight," kg ",q.shipmentType]})]}),oe&&a.jsx("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:"Driver details on file"})]}),a.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Driver name"}),a.jsx("input",{type:"text",value:Q.driverName??"",onChange:Z=>le(q.id,"driverName",Z.target.value),placeholder:"e.g. Ramesh Kumar",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Driver mobile"}),a.jsx("input",{type:"tel",value:Q.driverPhone??"",onChange:Z=>le(q.id,"driverPhone",Z.target.value),placeholder:"10-digit mobile number",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Driver photo URL"}),a.jsx("input",{type:"url",value:Q.driverPhotoUrl??"",onChange:Z=>le(q.id,"driverPhotoUrl",Z.target.value),placeholder:"https://...",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Vehicle type"}),a.jsx("input",{type:"text",value:Q.vehicleType??"",onChange:Z=>le(q.id,"vehicleType",Z.target.value),placeholder:"e.g. 32FT Container",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Vehicle model / name"}),a.jsx("input",{type:"text",value:Q.vehicleModel??"",onChange:Z=>le(q.id,"vehicleModel",Z.target.value),placeholder:"Optional",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Vehicle registration"}),a.jsx("input",{type:"text",value:Q.vehicleRegistration??"",onChange:Z=>le(q.id,"vehicleRegistration",Z.target.value.toUpperCase()),placeholder:"TN01AB1234",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm uppercase text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Driver ETA"}),a.jsx("input",{type:"datetime-local",value:Q.driverEta??"",onChange:Z=>le(q.id,"driverEta",Z.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>de(q),disabled:w[q.id],className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-blue-700 disabled:opacity-50",children:[w[q.id]?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(xa,{className:"h-4 w-4"}),"Save driver details"]}),q.driverPhone&&a.jsxs("a",{href:`tel:${q.driverPhone}`,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:border-blue-400 hover:text-blue-600",children:[a.jsx(Nl,{className:"h-4 w-4"}),"Call driver"]})]}),a.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white px-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Live location updates"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Share the drivers last known coordinates to power the live tracking widget."})]}),ce&&a.jsxs("p",{className:"text-xs text-slate-500",children:["Last update: ",ce]})]}),a.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-4",children:[a.jsxs("label",{className:"flex flex-col gap-1 text-xs font-medium text-slate-600",children:["Latitude",a.jsx("input",{type:"number",step:"0.0001",value:H.latitude??"",onChange:Z=>se(q.id,"latitude",Z.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-1 text-xs font-medium text-slate-600",children:["Longitude",a.jsx("input",{type:"number",step:"0.0001",value:H.longitude??"",onChange:Z=>se(q.id,"longitude",Z.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-1 text-xs font-medium text-slate-600",children:["Location (optional)",a.jsx("input",{type:"text",value:H.locationLabel??"",onChange:Z=>se(q.id,"locationLabel",Z.target.value),placeholder:"e.g. Attibele Toll",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-1 text-xs font-medium text-slate-600",children:["Revised ETA (optional)",a.jsx("input",{type:"datetime-local",value:H.eta??"",onChange:Z=>se(q.id,"eta",Z.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap justify-between gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>U(q),disabled:C[q.id],className:"inline-flex items-center gap-2 rounded-full border border-blue-200 bg-white px-4 py-2 text-xs font-semibold text-blue-600 transition hover:border-blue-400 disabled:opacity-50",children:[C[q.id]?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(kA,{className:"h-4 w-4"}),"Push live update"]}),q.driverLastKnownLat&&q.driverLastKnownLng&&a.jsxs("span",{className:"text-xs text-slate-500",children:["Current coordinates: ",q.driverLastKnownLat.toFixed(4),","," ",q.driverLastKnownLng.toFixed(4)]})]})]})]},q.id)})})]})]}),"        "]}),a.jsx(ki,{message:I.message,tone:I.tone,onClose:ne})]})},Um=e=>String(e||"").replace(/_/g," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),loe=e=>e?new Date(e).toLocaleString("en-IN",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"N/A",coe=async e=>{const t=await e.arrayBuffer();let n="";const r=32768,i=new Uint8Array(t);for(let s=0;s<i.length;s+=r){const l=i.subarray(s,s+r);n+=String.fromCharCode.apply(null,l)}return window.btoa(n)},uoe=()=>{const{api:e}=ke(),t=$a(),[n,r]=A.useState([]),[i,s]=A.useState(""),[l,c]=A.useState("driver"),[d,f]=A.useState(null),[p,h]=A.useState(!1),[g,j]=A.useState(!1),[x,v]=A.useState(""),[N,y]=A.useState(""),[_,w]=A.useState(""),[P,S]=A.useState(""),E=A.useCallback(async()=>{var I,M;try{y(""),j(!0);const F=(await e.get("/compliance/kyc/pending")).data,W=Array.isArray(F)?F:(F==null?void 0:F.shipments)||[];r(W)}catch(R){y(((M=(I=R.response)==null?void 0:I.data)==null?void 0:M.error)||"Unable to load pending shipments.")}finally{j(!1)}},[e]);A.useEffect(()=>{E()},[E]),A.useEffect(()=>{if(!x)return;const I=setTimeout(()=>v(""),4e3);return()=>clearTimeout(I)},[x]),A.useEffect(()=>{if(!N)return;const I=setTimeout(()=>y(""),4e3);return()=>clearTimeout(I)},[N]),A.useEffect(()=>{l!=="lr"&&(w(""),S(""))},[l]);const C=A.useMemo(()=>n.some(I=>I.requiresAction),[n]),T=async I=>{var F,W;if(I.preventDefault(),!i||!d){y("Select a shipment and choose a file before uploading.");return}if(l==="lr"&&!_.trim()){y("Enter the LR number before uploading.");return}let M="/compliance/kyc/driver";l==="vehicle"?M="/compliance/kyc/vehicle":l==="lr"&&(M="/compliance/lr");const R=new FormData;R.append("shipmentId",i),R.append("document",d),l==="lr"&&(R.append("lrNumber",_.trim()),P&&R.append("issuedAt",P));try{h(!0);const z=await coe(d),V=await t({request:X=>X.post(M,(()=>{const ne=new FormData;return ne.append("shipmentId",i),ne.append("document",d),l==="lr"&&(ne.append("lrNumber",_.trim()),P&&ne.append("issuedAt",P)),ne})(),{headers:{"Content-Type":"multipart/form-data"}}),queue:{entityType:"COMPLIANCE_DOCUMENT",action:l==="vehicle"?"UPLOAD_VEHICLE_KYC":l==="lr"?"UPLOAD_LORRY_RECEIPT":"UPLOAD_DRIVER_KYC",payload:{shipmentId:i,documentType:l,fileName:d.name,mimeType:d.type,fileBase64:z,lrNumber:l==="lr"?_.trim():void 0,issuedAt:l==="lr"&&P||void 0}}});v(V.queued?"Offline: upload queued and will sync automatically.":"Document uploaded successfully."),f(null),s(""),w(""),S(""),V.queued||await E()}catch(z){y(((W=(F=z.response)==null?void 0:F.data)==null?void 0:W.error)||z.message||"Failed to upload compliance document.")}finally{h(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"KYC compliance hub"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Upload driver, vehicle, and lorry receipt documents to unlock pickups. Choose a shipment to get started."})]}),x&&a.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-700",children:[a.jsx(xa,{className:"h-4 w-4"}),x]}),N&&a.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700",children:[a.jsx(Pr,{className:"h-4 w-4"}),N]}),a.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsxs("form",{className:"space-y-4",onSubmit:T,children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:"Shipment"}),a.jsxs("select",{value:i,onChange:I=>s(I.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",children:[a.jsx("option",{value:"",children:"Select shipment"}),n.map(I=>a.jsxs("option",{value:I.id,children:["#",I.trackingNumber||I.id,"  ",I.fromLocation," ",` ${I.toLocation}`]},I.id))]})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:"Document type"}),a.jsxs("select",{value:l,onChange:I=>c(I.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",children:[a.jsx("option",{value:"driver",children:"Driver KYC"}),a.jsx("option",{value:"vehicle",children:"Vehicle KYC"}),a.jsx("option",{value:"lr",children:"Lorry receipt"})]})]})]}),l==="lr"&&a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:"LR number"}),a.jsx("input",{type:"text",value:_,onChange:I=>w(I.target.value),placeholder:"Enter LR number",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:"Issued date"}),a.jsx("input",{type:"date",value:P,onChange:I=>S(I.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"})]})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:"Upload document"}),a.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:I=>{var M;return f(((M=I.target.files)==null?void 0:M[0])||null)},className:"rounded-lg border border-dashed border-slate-300 px-3 py-6 text-sm text-slate-500 focus:border-blue-500 focus:outline-none"}),a.jsx("span",{className:"text-xs text-slate-400",children:"Supported formats: PDF, JPEG, PNG. Max size 10 MB."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{type:"button",onClick:E,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-700 transition hover:border-blue-500 hover:text-blue-600 disabled:cursor-not-allowed disabled:border-slate-200 disabled:text-slate-400",disabled:g,children:[a.jsx(Sv,{className:`h-4 w-4 ${g?"animate-spin":""}`}),"Refresh queue"]}),a.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:bg-blue-300",children:[a.jsx(pI,{className:"h-4 w-4"}),p?"Uploading...":"Upload document"]})]})]})}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Shipments needing KYC"}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600",children:[n.length," shipments"]})]}),g&&a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-500",children:[a.jsx(De,{className:"h-4 w-4 animate-spin text-blue-600"}),"Syncing latest compliance status..."]}),!C&&!g?a.jsx("div",{className:"mt-6 rounded-xl border border-slate-100 bg-slate-50 p-6 text-sm text-slate-600",children:"All driver and vehicle documents are up to date. Great work!"}):a.jsx("div",{className:"mt-6 grid gap-4 lg:grid-cols-2",children:n.map(I=>a.jsxs("div",{className:"rounded-xl border border-slate-100 p-4 shadow-sm transition hover:border-blue-400 hover:shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:["#",I.trackingNumber||I.id]}),a.jsxs("p",{className:"text-xs text-slate-500",children:[I.fromLocation,"  ",I.toLocation]})]}),a.jsx("button",{type:"button",onClick:()=>s(String(I.id)),className:"text-xs font-semibold text-blue-600 hover:underline",children:"Use in form"})]}),a.jsxs("div",{className:"mt-4 space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("span",{className:"font-semibold text-slate-600",children:"Driver KYC"}),a.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1 text-[10px] font-semibold uppercase text-slate-600",children:Um(I.driverStatus)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("span",{className:"font-semibold text-slate-600",children:"Vehicle KYC"}),a.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1 text-[10px] font-semibold uppercase text-slate-600",children:Um(I.vehicleStatus)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("span",{className:"font-semibold text-slate-600",children:"Lorry receipt"}),a.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1 text-[10px] font-semibold uppercase text-slate-600",children:Um(I.lorryReceiptStatus)})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-500",children:[a.jsxs("p",{children:["Created ",loe(I.createdAt)]}),a.jsx(sr,{to:`/shipments/${I.id}`,className:"font-semibold text-blue-600 hover:underline",children:"View details"})]})]},I.id))})]})]})},S2=()=>({name:"",phone:"",licenseNumber:"",vehicleNumber:"",notes:"",isActive:!0}),doe=e=>({name:e.name.trim(),phone:e.phone.trim()||null,licenseNumber:e.licenseNumber.trim()||null,vehicleNumber:e.vehicleNumber.trim()||null,notes:e.notes.trim()||null,isActive:!!e.isActive}),foe=()=>{const{api:e,user:t}=ke(),[n,r]=A.useState([]),[i,s]=A.useState(!0),[l,c]=A.useState(!1),[d,f]=A.useState(S2()),[p,h]=A.useState(null),[g,j]=A.useState({message:"",tone:"info"}),[x,v]=A.useState(""),N=A.useMemo(()=>{var T;return((T=t==null?void 0:t.vendor)==null?void 0:T.name)||"Transporter"},[t]),y=A.useCallback(async()=>{var T,I;s(!0),v("");try{const{data:M}=await e.get("/transporter/drivers");r(M.drivers||[])}catch(M){v(((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Unable to load driver records.")}finally{s(!1)}},[e]);A.useEffect(()=>{y()},[y]);const _=()=>{f(S2()),h(null)},w=T=>{const{name:I,type:M,value:R,checked:F}=T.target;f(W=>({...W,[I]:M==="checkbox"?F:R}))},P=async T=>{var I,M;if(T.preventDefault(),!d.name.trim()){j({message:"Driver name is required.",tone:"warning"});return}c(!0),j({message:"",tone:"info"});try{const R=doe(d);p?(await e.put(`/transporter/drivers/${p}`,R),j({message:"Driver updated successfully.",tone:"success"})):(await e.post("/transporter/drivers",R),j({message:"Driver added successfully.",tone:"success"})),_(),await y()}catch(R){j({message:((M=(I=R.response)==null?void 0:I.data)==null?void 0:M.error)||"Failed to save driver.",tone:"error"})}finally{c(!1)}},S=T=>{h(T.id),f({name:T.name||"",phone:T.phone||"",licenseNumber:T.licenseNumber||"",vehicleNumber:T.vehicleNumber||"",notes:T.notes||"",isActive:T.isActive})},E=async T=>{var I,M;if(window.confirm("Archive this driver? They can be reactivated later."))try{await e.delete(`/transporter/drivers/${T}`),j({message:"Driver archived.",tone:"info"}),p===T&&_(),await y()}catch(R){j({message:((M=(I=R.response)==null?void 0:I.data)==null?void 0:M.error)||"Failed to archive driver.",tone:"error"})}},C=async T=>{var I,M;try{await e.put(`/transporter/drivers/${T}`,{isActive:!0}),j({message:"Driver reactivated.",tone:"success"}),await y()}catch(R){j({message:((M=(I=R.response)==null?void 0:I.data)==null?void 0:M.error)||"Failed to reactivate driver.",tone:"error"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-slate-900 p-8 text-white shadow-lg",children:[a.jsx("p",{className:"text-xs uppercase tracking-widest text-blue-100",children:"Driver directory"}),a.jsxs("h1",{className:"mt-2 text-3xl font-semibold",children:["Keep ",N," ready for dispatch"]}),a.jsx("p",{className:"mt-3 max-w-2xl text-sm text-blue-100",children:"Store your trusted driver and vehicle contacts so assignments can be dispatched instantly. Update their details whenever credentials or vehicles change."})]}),x&&a.jsx(ki,{message:x,tone:"error",onClose:()=>v("")}),a.jsx(ki,{message:g.message,tone:g.tone,onClose:()=>j({message:"",tone:"info"})}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:p?"Update driver":"Add a driver"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Provide key contact information so your operations team can assign loads smoothly."})]}),a.jsxs("button",{type:"button",onClick:()=>{_(),j({message:"",tone:"info"})},className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 hover:border-blue-400 hover:text-blue-600",children:[a.jsx(Nv,{className:"h-4 w-4"}),"Reset"]})]}),a.jsxs("form",{onSubmit:P,className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-slate-700 md:col-span-2",children:["Driver name *",a.jsx("input",{name:"name",value:d.name,onChange:w,placeholder:"e.g. Ramesh Kumar",required:!0,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-slate-700",children:["Phone",a.jsx("input",{name:"phone",value:d.phone,onChange:w,placeholder:"+91 98765 43210",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-slate-700",children:["License number",a.jsx("input",{name:"licenseNumber",value:d.licenseNumber,onChange:w,placeholder:"DL-0420120012345",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-slate-700",children:["Vehicle number",a.jsx("input",{name:"vehicleNumber",value:d.vehicleNumber,onChange:w,placeholder:"KA-01 AB 1234",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-slate-700 md:col-span-2",children:["Notes",a.jsx("textarea",{name:"notes",value:d.notes,onChange:w,rows:3,placeholder:"Any additional remarks (e.g. preferred routes, special permits)",className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/40"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[a.jsx("input",{type:"checkbox",name:"isActive",checked:d.isActive,onChange:w,className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Active driver"]}),a.jsxs("div",{className:"md:col-span-2 flex items-center justify-end gap-3",children:[p&&a.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 hover:border-slate-300",children:[a.jsx(Fs,{className:"h-4 w-4"}),"Cancel edit"]}),a.jsxs("button",{type:"submit",disabled:l,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-700 disabled:opacity-60",children:[l?a.jsx(De,{className:"h-4 w-4 animate-spin"}):p?a.jsx(Pv,{className:"h-4 w-4"}):a.jsx(va,{className:"h-4 w-4"}),l?"Saving...":p?"Update driver":"Add driver"]})]})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("header",{className:"mb-4 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Driver roster"}),a.jsxs("p",{className:"text-sm text-slate-500",children:[n.length," ",n.length===1?"record":"records"," stored."]})]})}),i?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx(De,{className:"h-6 w-6 animate-spin text-blue-600"})}):n.length===0?a.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 py-10 text-center text-sm text-slate-500",children:"No drivers saved yet. Add your first driver above to speed up assignments."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-600",children:"Driver"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-600",children:"Contact"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-600",children:"Credentials"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-600",children:"Notes"}),a.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(T=>a.jsxs("tr",{className:T.isActive?"":"bg-slate-50",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"font-medium text-slate-900",children:T.name}),a.jsxs("div",{className:"text-xs text-slate-500",children:["Updated ",new Date(T.updatedAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})]}),!T.isActive&&a.jsx("span",{className:"mt-1 inline-flex items-center rounded-full bg-amber-100 px-2.5 py-0.5 text-xs font-medium text-amber-700",children:"Archived"})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"text-slate-700",children:T.phone||"Not provided"})}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-slate-700",children:T.licenseNumber?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-semibold text-slate-600",children:"License:"})," ",T.licenseNumber]}):a.jsx("span",{className:"text-slate-500",children:"No licence recorded"})}),a.jsx("div",{className:"text-slate-700",children:T.vehicleNumber?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-semibold text-slate-600",children:"Vehicle:"})," ",T.vehicleNumber]}):a.jsx("span",{className:"text-slate-500",children:"No vehicle assigned"})})]}),a.jsx("td",{className:"px-4 py-3 text-slate-700",children:T.notes?T.notes:a.jsx("span",{className:"text-slate-500",children:""})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>S(T),className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-medium text-slate-600 hover:border-blue-400 hover:text-blue-600",children:[a.jsx(Fd,{className:"h-4 w-4"}),"Edit"]}),T.isActive?a.jsxs("button",{type:"button",onClick:()=>E(T.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-3 py-1.5 text-xs font-medium text-red-600 hover:bg-red-50",children:[a.jsx(Jl,{className:"h-4 w-4"}),"Archive"]}):a.jsxs("button",{type:"button",onClick:()=>C(T.id),className:"inline-flex items-center gap-1 rounded-lg border border-emerald-200 px-3 py-1.5 text-xs font-medium text-emerald-600 hover:bg-emerald-50",children:[a.jsx(va,{className:"h-4 w-4"}),"Activate"]})]})})]},T.id))})]})})]})]})},hoe=()=>{const{api:e}=ke(),t=$a(),[n,r]=A.useState([]),[i,s]=A.useState([]),[l,c]=A.useState({email:"",password:"",role:"USER",name:"",vendorId:""}),[d,f]=A.useState(!0),[p,h]=A.useState(null),g=A.useCallback(async()=>{var v,N;f(!0),h(null);try{const{data:y}=await e.get("/admin/users"),_=Array.isArray(y)?y:(y==null?void 0:y.users)||[];r(_)}catch(y){h(((N=(v=y.response)==null?void 0:v.data)==null?void 0:N.error)||y.message||"Failed to load users")}finally{f(!1)}},[e]);A.useEffect(()=>{g()},[g]);const j=A.useCallback(async()=>{try{const{data:v}=await e.get("/admin/vendors"),N=Array.isArray(v)?v:Array.isArray(v==null?void 0:v.vendors)?v.vendors:[];s(N)}catch(v){console.warn("Failed to load vendors",v)}},[e]);A.useEffect(()=>{j()},[j]);const x=async v=>{var N,y;v.preventDefault(),h(null);try{const _={...l};if(_.role!=="TRANSPORTER")delete _.vendorId;else if(!_.vendorId)throw new Error("Select a vendor for transporter users.");const{queued:w}=await t({request:P=>P.post("/admin/users",_),queue:{entityType:"COMPANY_USER",action:"CREATE_COMPANY_USER",payload:_}});c({email:"",password:"",role:"USER",name:"",vendorId:""}),w?h("Offline: user creation queued and will sync automatically."):g()}catch(_){h(((y=(N=_.response)==null?void 0:N.data)==null?void 0:y.error)||_.message)}};return a.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Company Users"}),p&&a.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded",children:p}),a.jsxs("form",{className:"grid md:grid-cols-2 gap-4",onSubmit:x,children:[a.jsx("input",{type:"text",className:"border border-gray-300 rounded px-3 py-2",placeholder:"Name",value:l.name,onChange:v=>c(N=>({...N,name:v.target.value}))}),a.jsx("input",{type:"email",className:"border border-gray-300 rounded px-3 py-2",placeholder:"Email",required:!0,value:l.email,onChange:v=>c(N=>({...N,email:v.target.value}))}),a.jsx("input",{type:"password",className:"border border-gray-300 rounded px-3 py-2",placeholder:"Password",required:!0,value:l.password,onChange:v=>c(N=>({...N,password:v.target.value}))}),a.jsxs("select",{className:"border border-gray-300 rounded px-3 py-2",value:l.role,onChange:v=>c(N=>({...N,role:v.target.value})),children:[a.jsx("option",{value:"USER",children:"User"}),a.jsx("option",{value:"OPERATIONS",children:"Operations"}),a.jsx("option",{value:"TRANSPORTER",children:"Transporter"}),a.jsx("option",{value:"FINANCE_APPROVER",children:"Finance Approver"})]}),l.role==="TRANSPORTER"&&a.jsxs("select",{className:"border border-gray-300 rounded px-3 py-2",value:l.vendorId,required:!0,onChange:v=>c(N=>({...N,vendorId:v.target.value})),children:[a.jsx("option",{value:"",children:"Select vendor"}),i.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Create User"})})]}),a.jsx("div",{className:"overflow-x-auto",children:d?a.jsx("p",{className:"text-gray-500",children:"Loading users..."}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Vendor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No users yet."})}),n.map(v=>{var N;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.email}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:v.role}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:((N=v.vendor)==null?void 0:N.name)||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:v.isActive?"Active":"Inactive"})]},v.id)})]})]})})]})},poe=()=>{const{user:e,loading:t}=ke();return t?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):!e||e.role!=="COMPANY_ADMIN"?a.jsx(_r,{to:"/dashboard",replace:!0}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Users"}),a.jsx(hoe,{})]})},moe=()=>{const{user:e,api:t,loading:n}=ke(),[r,i]=A.useState(null),[s,l]=A.useState(!1),[c,d]=A.useState(null),[f,p]=A.useState(null),[h,g]=A.useState({name:"",billingEmail:"",plan:"standard",subscriptionStatus:"active",trialEndsAt:""}),j=A.useCallback(async()=>{var N,y;try{const{data:_}=await t.get("/company");i(_),p(null),g({name:_.name||"",billingEmail:_.billingEmail||"",plan:_.plan||"standard",subscriptionStatus:_.subscriptionStatus||"active",trialEndsAt:_.trialEndsAt?_.trialEndsAt.substring(0,10):""})}catch(_){d({tone:"error",text:((y=(N=_.response)==null?void 0:N.data)==null?void 0:y.error)||"Failed to load company profile"})}},[t]);A.useEffect(()=>{(e==null?void 0:e.role)==="COMPANY_ADMIN"&&j()},[e,j]);const x=async N=>{var y,_;N.preventDefault(),l(!0),d(null);try{await t.put("/company",{name:h.name,billingEmail:h.billingEmail}),await t.put("/company/billing",{plan:h.plan,subscriptionStatus:h.subscriptionStatus,billingEmail:h.billingEmail,trialEndsAt:h.trialEndsAt?new Date(h.trialEndsAt).toISOString():null}),d({tone:"success",text:"Company settings updated."}),j()}catch(w){d({tone:"error",text:((_=(y=w.response)==null?void 0:y.data)==null?void 0:_.error)||"Failed to update settings"})}finally{l(!1)}},v=async()=>{var N,y;if(window.confirm("Rotate webhook secret? Existing ERP integrations must update."))try{const{data:_}=await t.post("/company/rotate-webhook"),w=_.webhookSecret.slice(-4);i(P=>({...P,webhookSecretLast4:w})),p(_.webhookSecret),d({tone:"success",text:"Webhook secret rotated. Copy the new value below and update your ERP configuration immediately."})}catch(_){d({tone:"error",text:((y=(N=_.response)==null?void 0:N.data)==null?void 0:y.error)||"Failed to rotate webhook secret"})}};return n?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):!e||e.role!=="COMPANY_ADMIN"?a.jsx(_r,{to:"/dashboard",replace:!0}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage billing and ERP configuration for your workspace."})]}),c&&a.jsx("div",{className:`p-3 rounded ${c.tone==="success"?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-700"}`,children:c.text}),a.jsxs("form",{onSubmit:x,className:"bg-white rounded-xl shadow p-6 grid md:grid-cols-2 gap-4",children:[a.jsxs("label",{className:"text-sm text-gray-600",children:["Company name",a.jsx("input",{type:"text",className:"mt-1 border border-gray-200 rounded px-3 py-2 w-full",value:h.name,onChange:N=>g(y=>({...y,name:N.target.value})),required:!0})]}),a.jsxs("label",{className:"text-sm text-gray-600",children:["Billing email",a.jsx("input",{type:"email",className:"mt-1 border border-gray-200 rounded px-3 py-2 w-full",value:h.billingEmail,onChange:N=>g(y=>({...y,billingEmail:N.target.value}))})]}),a.jsxs("label",{className:"text-sm text-gray-600",children:["Plan",a.jsxs("select",{className:"mt-1 border border-gray-200 rounded px-3 py-2 w-full",value:h.plan,onChange:N=>g(y=>({...y,plan:N.target.value})),children:[a.jsx("option",{value:"standard",children:"Standard"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("label",{className:"text-sm text-gray-600",children:["Subscription status",a.jsxs("select",{className:"mt-1 border border-gray-200 rounded px-3 py-2 w-full",value:h.subscriptionStatus,onChange:N=>g(y=>({...y,subscriptionStatus:N.target.value})),children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trialing",children:"Trialing"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]}),a.jsxs("label",{className:"text-sm text-gray-600",children:["Trial ends on",a.jsx("input",{type:"date",className:"mt-1 border border-gray-200 rounded px-3 py-2 w-full",value:h.trialEndsAt,onChange:N=>g(y=>({...y,trialEndsAt:N.target.value}))})]}),a.jsx("div",{className:"md:col-span-2 pt-2",children:a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded disabled:opacity-50",children:s?"Saving...":"Save Settings"})})]}),r&&a.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"ERP Webhook"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Webhook secrets are hidden for safety. Rotate to generate a new value and update your ERP immediately."}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Current secret ending:"," ",a.jsx("span",{className:"font-mono",children:r.webhookSecretLast4?`****${r.webhookSecretLast4}`:"Not generated"})]}),f&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-700",children:"New secret (copy now):"}),a.jsx("code",{className:"block bg-gray-100 rounded px-3 py-2 text-sm break-all",children:f})]}),a.jsx("button",{type:"button",onClick:v,className:"text-indigo-600 text-sm hover:underline",children:"Rotate webhook secret"})]})]})},qm=({label:e,value:t,helper:n})=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:t}),n&&a.jsx("p",{className:"text-xs text-slate-400",children:n})]}),goe=()=>{const{api:e}=ke(),[t,n]=A.useState(null),[r,i]=A.useState(!0),[s,l]=A.useState(null);return A.useEffect(()=>{(async()=>{var d,f;i(!0),l(null);try{const{data:p}=await e.get("/super-admin/overview");n(p)}catch(p){l(((f=(d=p.response)==null?void 0:d.data)==null?void 0:f.error)||"Failed to load overview")}finally{i(!1)}})()},[e]),r?a.jsx("div",{className:"p-6 text-gray-500",children:"Loading overview..."}):s?a.jsx("div",{className:"p-6 text-red-600",children:s}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Overview"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Monitor tenant adoption and overall activity."})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(qm,{label:"Total companies",value:t.companyCount}),a.jsx(qm,{label:"Active companies",value:t.activeCompanies}),a.jsx(qm,{label:"Tenant users",value:t.userCount})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recently onboarded"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Latest tenants and their status."}),a.jsxs("div",{className:"divide-y divide-slate-100",children:[t.recentCompanies.length===0&&a.jsx("p",{className:"py-4 text-sm text-gray-500",children:"No companies onboarded yet."}),t.recentCompanies.map(c=>a.jsx("div",{className:"py-3 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:c.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(c.createdAt).toLocaleDateString(),"  Status: ",c.status]})]})},c.id))]})]})]})},P2={name:"",billingEmail:"",plan:"standard",subscriptionStatus:"active",adminName:"",adminEmail:"",adminPassword:""},xoe=()=>{const{user:e,api:t,loading:n}=ke(),[r,i]=A.useState([]),[s,l]=A.useState(null),[c,d]=A.useState(P2),[f,p]=A.useState(!1),[h,g]=A.useState({}),j=A.useCallback(async()=>{var _,w;try{const{data:P}=await t.get("/super-admin/companies");i(P),g({})}catch(P){l(((w=(_=P.response)==null?void 0:_.data)==null?void 0:w.error)||"Failed to load companies")}},[t]);A.useEffect(()=>{(e==null?void 0:e.role)==="SUPER_ADMIN"&&j()},[j,e]);const x=async _=>{var w,P;_.preventDefault(),p(!0),l(null);try{await t.post("/super-admin/companies",{name:c.name,billingEmail:c.billingEmail,plan:c.plan,subscriptionStatus:c.subscriptionStatus,admin:{name:c.adminName,email:c.adminEmail,password:c.adminPassword}}),d(P2),j()}catch(S){l(((P=(w=S.response)==null?void 0:w.data)==null?void 0:P.error)||"Failed to create company")}finally{p(!1)}},v=async _=>{var w,P;if(window.confirm("Rotate webhook secret for this company?"))try{const{data:S}=await t.post(`/super-admin/companies/${_}/rotate-webhook`),E=S.webhookSecret.slice(-4);i(C=>C.map(T=>T.id===_?{...T,webhookSecretLast4:E}:T)),g(C=>({...C,[_]:S.webhookSecret}))}catch(S){alert(((P=(w=S.response)==null?void 0:w.data)==null?void 0:P.error)||"Failed to rotate secret")}},N=async _=>{const w=window.prompt("Enter new company name",_.name);!w||w===_.name||(await t.put(`/super-admin/companies/${_.id}`,{name:w}),j())},y=async _=>{const w=_.status==="active"?"suspended":"active";await t.put(`/super-admin/companies/${_.id}`,{status:w}),j()};return n?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):!e||e.role!=="SUPER_ADMIN"?a.jsx(_r,{to:"/dashboard",replace:!0}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Console"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Provision tenants, manage billing status, and rotate webhook secrets."})]}),s&&a.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded",children:s}),a.jsxs("form",{onSubmit:x,className:"bg-white rounded-xl shadow p-6 grid md:grid-cols-2 gap-4",children:[a.jsx("h2",{className:"md:col-span-2 text-xl font-semibold text-gray-800",children:"Create Company"}),a.jsx("input",{type:"text",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Company name",required:!0,value:c.name,onChange:_=>d(w=>({...w,name:_.target.value}))}),a.jsx("input",{type:"email",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Billing email",value:c.billingEmail,onChange:_=>d(w=>({...w,billingEmail:_.target.value}))}),a.jsxs("select",{className:"border border-gray-200 rounded px-3 py-2",value:c.plan,onChange:_=>d(w=>({...w,plan:_.target.value})),children:[a.jsx("option",{value:"standard",children:"Standard"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),a.jsxs("select",{className:"border border-gray-200 rounded px-3 py-2",value:c.subscriptionStatus,onChange:_=>d(w=>({...w,subscriptionStatus:_.target.value})),children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trialing",children:"Trialing"}),a.jsx("option",{value:"suspended",children:"Suspended"})]}),a.jsx("input",{type:"text",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Admin name",value:c.adminName,onChange:_=>d(w=>({...w,adminName:_.target.value}))}),a.jsx("input",{type:"email",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Admin email",required:!0,value:c.adminEmail,onChange:_=>d(w=>({...w,adminEmail:_.target.value}))}),a.jsx("input",{type:"password",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Admin password",required:!0,value:c.adminPassword,onChange:_=>d(w=>({...w,adminPassword:_.target.value}))}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-indigo-600 text-white rounded disabled:opacity-50",children:f?"Creating...":"Create Company"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow divide-y",children:[r.map(_=>a.jsxs("div",{className:"p-4 space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:_.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[_.plan,"  ",_.subscriptionStatus,"  Status: ",_.status]})]}),a.jsxs("div",{className:"text-right text-xs text-gray-400",children:[a.jsx("p",{children:new Date(_.createdAt).toLocaleDateString()}),_.trialEndsAt&&a.jsxs("p",{children:["Trial ends ",new Date(_.trialEndsAt).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[a.jsxs("p",{children:["Webhook secret:"," ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded break-all",children:_.webhookSecretLast4?`****${_.webhookSecretLast4}`:"-"})]}),h[_.id]&&a.jsxs("p",{className:"text-emerald-700",children:["New secret:"," ",a.jsx("code",{className:"bg-emerald-50 px-2 py-1 rounded break-all",children:h[_.id]})]}),a.jsx("button",{type:"button",onClick:()=>v(_.id),className:"ml-3 text-indigo-600 hover:underline",children:"Rotate"}),a.jsx("button",{type:"button",onClick:()=>N(_),className:"ml-3 text-slate-600 hover:underline",children:"Rename"}),a.jsx("button",{type:"button",onClick:()=>y(_),className:"ml-3 text-slate-600 hover:underline",children:_.status==="active"?"Suspend":"Activate"})]})]},_.id)),!r.length&&a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No companies onboarded yet."})]})]})},voe=()=>{const{api:e}=ke(),[t,n]=A.useState([]),[r,i]=A.useState(""),[s,l]=A.useState([]),[c,d]=A.useState(!1),[f,p]=A.useState({email:"",name:"",role:"USER",password:""}),[h,g]=A.useState(null),j=A.useCallback(async()=>{var y,_;try{const{data:w}=await e.get("/super-admin/companies");n(w),!r&&w.length&&i(w[0].id)}catch(w){g(((_=(y=w.response)==null?void 0:y.data)==null?void 0:_.error)||"Failed to load companies")}},[e,r]),x=A.useCallback(async y=>{var _,w;if(y){d(!0),g(null);try{const{data:P}=await e.get(`/super-admin/companies/${y}/users`);l(P)}catch(P){g(((w=(_=P.response)==null?void 0:_.data)==null?void 0:w.error)||"Failed to load users")}finally{d(!1)}}},[e]);A.useEffect(()=>{j()},[j]),A.useEffect(()=>{x(r)},[r,x]);const v=async y=>{var _,w;if(y.preventDefault(),!!r)try{await e.post(`/super-admin/companies/${r}/users`,f),p({email:"",name:"",role:"USER",password:""}),x(r)}catch(P){g(((w=(_=P.response)==null?void 0:_.data)==null?void 0:w.error)||"Failed to create user")}},N=async y=>{var _,w;try{await e.put(`/super-admin/companies/${r}/users/${y.id}`,{email:y.email,name:y.name,role:y.role,isActive:!y.isActive}),x(r)}catch(P){g(((w=(_=P.response)==null?void 0:_.data)==null?void 0:w.error)||"Failed to update user")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Users"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:a.jsxs("label",{className:"text-sm text-gray-600",children:["Select company",a.jsx("select",{className:"mt-1 border border-gray-200 rounded px-3 py-2",value:r,onChange:y=>i(y.target.value),children:t.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))})]})})]}),h&&a.jsx("div",{className:"p-3 rounded bg-red-100 text-red-700",children:h}),a.jsxs("form",{onSubmit:v,className:"grid md:grid-cols-2 gap-4 bg-white rounded-xl shadow p-6",children:[a.jsx("h2",{className:"md:col-span-2 text-xl font-semibold text-gray-800",children:"Create tenant user"}),a.jsx("input",{type:"text",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Name",value:f.name,onChange:y=>p(_=>({..._,name:y.target.value}))}),a.jsx("input",{type:"email",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Email",required:!0,value:f.email,onChange:y=>p(_=>({..._,email:y.target.value}))}),a.jsxs("select",{className:"border border-gray-200 rounded px-3 py-2",value:f.role,onChange:y=>p(_=>({..._,role:y.target.value})),children:[a.jsx("option",{value:"USER",children:"User"}),a.jsx("option",{value:"OPERATIONS",children:"Operations"}),a.jsx("option",{value:"TRANSPORTER",children:"Transporter"}),a.jsx("option",{value:"FINANCE_APPROVER",children:"Finance Approver"}),a.jsx("option",{value:"COMPANY_ADMIN",children:"Company Admin"})]}),a.jsx("input",{type:"password",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Temporary password",required:!0,value:f.password,onChange:y=>p(_=>({..._,password:y.target.value}))}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-indigo-600 text-white",children:"Create user"})})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Users"}),c?a.jsx("p",{className:"text-sm text-gray-500",children:"Loading users..."}):s.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No users yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left",children:"Email"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Role"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(y=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2",children:y.email}),a.jsx("td",{className:"px-4 py-2",children:y.role}),a.jsx("td",{className:"px-4 py-2",children:y.isActive?"Active":"Disabled"}),a.jsx("td",{className:"px-4 py-2 text-right space-x-2",children:a.jsx("button",{type:"button",onClick:()=>N(y),className:"rounded border border-slate-200 px-3 py-1 text-xs",children:y.isActive?"Disable":"Activate"})})]},y.id))})]})})]})]})},yoe=()=>{const{api:e}=ke(),[t,n]=A.useState([]),[r,i]=A.useState({email:"",name:"",password:""}),[s,l]=A.useState(null),c=A.useCallback(async()=>{var h,g;try{const{data:j}=await e.get("/super-admin/platform-users");n(j)}catch(j){l(((g=(h=j.response)==null?void 0:h.data)==null?void 0:g.error)||"Failed to load platform users")}},[e]);A.useEffect(()=>{c()},[c]);const d=async h=>{var g,j;h.preventDefault(),l(null);try{await e.post("/super-admin/platform-users",r),i({email:"",name:"",password:""}),c()}catch(x){l(((j=(g=x.response)==null?void 0:g.data)==null?void 0:j.error)||"Failed to create user")}},f=async h=>{await e.put(`/super-admin/platform-users/${h.id}`,{email:h.email,name:h.name,isActive:!h.isActive}),c()},p=async h=>{window.confirm("Remove this SUPER_ADMIN access?")&&(await e.delete(`/super-admin/platform-users/${h.id}`),c())};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Staff"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create or manage SUPER_ADMIN accounts."})]}),s&&a.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded",children:s}),a.jsxs("form",{onSubmit:d,className:"grid md:grid-cols-3 gap-4 bg-white rounded-xl shadow p-6",children:[a.jsx("input",{type:"text",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Name",value:r.name,onChange:h=>i(g=>({...g,name:h.target.value}))}),a.jsx("input",{type:"email",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Email",required:!0,value:r.email,onChange:h=>i(g=>({...g,email:h.target.value}))}),a.jsx("input",{type:"password",className:"border border-gray-200 rounded px-3 py-2",placeholder:"Password",required:!0,value:r.password,onChange:h=>i(g=>({...g,password:h.target.value}))}),a.jsx("div",{className:"md:col-span-3",children:a.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-indigo-600 text-white",children:"Create SUPER_ADMIN"})})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Existing staff"}),a.jsxs("div",{className:"divide-y divide-slate-100",children:[t.map(h=>a.jsxs("div",{className:"py-3 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:h.email}),a.jsx("p",{className:"text-xs text-gray-500",children:h.isActive?"Active":"Disabled"})]}),a.jsxs("div",{className:"space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>f(h),className:"rounded border border-slate-200 px-3 py-1 text-xs",children:h.isActive?"Disable":"Activate"}),a.jsx("button",{type:"button",onClick:()=>p(h),className:"rounded border border-red-200 px-3 py-1 text-xs text-red-600",children:"Remove"})]})]},h.id)),t.length===0&&a.jsx("p",{className:"py-4 text-sm text-gray-500",children:"No platform staff yet."})]})]})]})},boe={shipmentAlerts:!0,complianceAlerts:!0,digestReports:!1},woe=()=>{const{api:e,user:t,refreshUser:n}=ke(),[r,i]=A.useState(boe),[s,l]=A.useState(!0),[c,d]=A.useState(!1),[f,p]=A.useState(""),[h,g]=A.useState((t==null?void 0:t.twoFactorEnabled)||!1),[j,x]=A.useState(""),[v,N]=A.useState(!1),[y,_]=A.useState(""),[w,P]=A.useState("ai_assistant"),[S,E]=A.useState("ACCEPTED"),[C,T]=A.useState("");A.useEffect(()=>{(async()=>{try{const{data:V}=await e.get("/user/preferences");i(X=>({...X,...(V==null?void 0:V.preferences)||{}}))}catch(V){console.error("Failed to load preferences",V)}finally{l(!1)}})()},[e]),A.useEffect(()=>{t!=null&&t.allowedIpRanges&&x(t.allowedIpRanges.join(`
`)),typeof(t==null?void 0:t.twoFactorEnabled)=="boolean"&&g(t.twoFactorEnabled)},[t]);const I=z=>{i(V=>({...V,[z]:!V[z]}))},M=async()=>{var z,V;d(!0),p("");try{await e.put("/user/preferences",{preferences:r}),p("Notification preferences updated.")}catch(X){p(((V=(z=X.response)==null?void 0:z.data)==null?void 0:V.error)||"Failed to update preferences.")}finally{d(!1)}},R=A.useMemo(()=>()=>j.split(/[\n,]/).map(z=>z.trim()).filter(Boolean),[j]),F=async()=>{var z,V;N(!0),_("");try{await e.put("/user/security",{twoFactorEnabled:h,allowedIpRanges:R()}),await n(),_(h?"Two-factor authentication enabled.":"Security settings updated.")}catch(X){_(((V=(z=X.response)==null?void 0:z.data)==null?void 0:V.error)||"Failed to update security settings.")}finally{N(!1)}},W=async()=>{var z,V;T("");try{await e.post("/user/consents",{consentType:w,status:S}),T("Consent updated.")}catch(X){T(((V=(z=X.response)==null?void 0:z.data)==null?void 0:V.error)||"Failed to record consent.")}};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("header",{className:"flex items-center gap-3 border-b border-slate-100 pb-4 mb-4",children:[a.jsx(V5,{className:"h-6 w-6 text-amber-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Notification preferences"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Choose how we keep you informed."})]})]}),s?a.jsx("p",{className:"text-sm text-slate-500",children:"Loading preferences"}):a.jsxs("div",{className:"space-y-4",children:[Object.entries(r).map(([z,V])=>a.jsxs("label",{className:"flex items-center justify-between rounded-xl border border-slate-100 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 capitalize",children:z.replace(/([A-Z])/g," $1")}),a.jsx("p",{className:"text-sm text-slate-500",children:z==="shipmentAlerts"?"Heads-up for pickups, delays, and deliveries.":z==="complianceAlerts"?"Urgent reminders for GST, POD, and KYC tasks.":"Weekly summary of lanes, spend, and performance."})]}),a.jsx("input",{type:"checkbox",checked:V,onChange:()=>I(z),className:"h-5 w-5 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"})]},z)),a.jsx("button",{type:"button",onClick:M,disabled:c,className:"inline-flex items-center justify-center rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700 disabled:opacity-50",children:c?"Saving":"Save preferences"}),f&&a.jsx("p",{className:"text-sm text-slate-600",children:f})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("header",{className:"flex items-center gap-3 border-b border-slate-100 pb-4 mb-4",children:[a.jsx(MA,{className:"h-6 w-6 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Account security"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Protect access with two-factor auth and IP policies."})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("label",{className:"flex items-center justify-between rounded-xl border border-slate-100 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900",children:"Two-factor authentication"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Send a one-time verification code during login."})]}),a.jsx("input",{type:"checkbox",checked:h,onChange:z=>g(z.target.checked),className:"h-5 w-5 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Allowed IP addresses"}),a.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Add one IP per line. Leave empty to allow secure access from anywhere."}),a.jsx("textarea",{rows:4,className:"w-full rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800 focus:border-blue-500 focus:bg-white focus:outline-none",value:j,onChange:z=>x(z.target.value),placeholder:`203.0.113.5
198.51.100.7`})]}),a.jsx("button",{type:"button",onClick:F,disabled:v,className:"inline-flex items-center justify-center rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700 disabled:opacity-50",children:v?"Updating":"Update security settings"}),y&&a.jsx("p",{className:"text-sm text-slate-600",children:y})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("header",{className:"flex items-center gap-3 border-b border-slate-100 pb-4 mb-4",children:[a.jsx(Bs,{className:"h-6 w-6 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Data & AI consent"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Tell us how we may use your data for automation."})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Consent type"}),a.jsxs("select",{value:w,onChange:z=>P(z.target.value),className:"w-full rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800 focus:border-purple-500 focus:bg-white focus:outline-none",children:[a.jsx("option",{value:"ai_assistant",children:"AI assistant analysis"}),a.jsx("option",{value:"product_updates",children:"Product updates"}),a.jsx("option",{value:"marketing_insights",children:"Marketing insights"})]}),a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Preference"}),a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"consentStatus",value:"ACCEPTED",checked:S==="ACCEPTED",onChange:z=>E(z.target.value)}),"Allow"]}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"consentStatus",value:"DECLINED",checked:S==="DECLINED",onChange:z=>E(z.target.value)}),"Decline"]})]}),a.jsx("button",{type:"button",onClick:W,className:"inline-flex items-center justify-center rounded-full bg-purple-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-purple-700",children:"Save consent"}),C&&a.jsx("p",{className:"text-sm text-slate-600",children:C})]})]})]})},sl=e=>new Intl.NumberFormat("en-IN").format(e||0),Yu=({title:e,children:t,subtitle:n})=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:e}),n&&a.jsx("p",{className:"text-xs text-slate-500",children:n})]}),a.jsx("div",{className:"mt-4",children:t})]}),_oe=()=>{const{api:e,user:t}=ke(),[n,r]=A.useState(null),[i,s]=A.useState(!0),[l,c]=A.useState(""),d=["COMPANY_ADMIN","OPERATIONS"].includes(t==null?void 0:t.role);if(A.useEffect(()=>{let x=!0;return(async()=>{var N,y;if(!d){s(!1);return}try{const _=await e.get("/operations/overview");x&&r(_.data)}catch(_){x&&c(((y=(N=_.response)==null?void 0:N.data)==null?void 0:y.error)||"Failed to load operations analytics.")}finally{x&&s(!1)}})(),()=>{x=!1}},[e,d]),!d)return a.jsx("p",{className:"text-slate-500 text-sm",children:"Operations dashboard is restricted to operations roles."});if(i)return a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm text-slate-500",children:"Loading operations overview"});if(l)return a.jsx("div",{className:"rounded-2xl border border-rose-100 bg-white p-6 shadow-sm text-rose-600 font-medium",children:l});if(!n)return null;const{board:f,exceptions:p,driverReadiness:h,quoteSla:g}=n,j=[{key:"pending",color:"bg-slate-50",title:"Pending dispatch"},{key:"active",color:"bg-indigo-50",title:"In motion"},{key:"delivered",color:"bg-emerald-50",title:"Delivered"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-blue-500 font-semibold",children:"Operations control"}),a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Live execution dashboard"}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Refreshed ",new Date(n.generatedAt).toLocaleString()]})]}),a.jsx(Yu,{title:"Execution board",subtitle:"Snapshot of current shipments",children:a.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3",children:j.map(x=>{var v,N;return a.jsxs("div",{className:`rounded-xl p-3 ${x.color}`,children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:x.title}),a.jsxs("div",{className:"mt-3 space-y-2",children:[(v=f[x.key])==null?void 0:v.map(y=>a.jsxs("div",{className:"rounded-lg bg-white p-3 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:y.trackingNumber||`Shipment #${y.id}`}),a.jsxs("p",{className:"text-xs text-slate-500",children:[y.fromLocation,"  ",y.toLocation]}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(y.createdAt||y.updatedAt||Date.now()).toLocaleString()})]},y.id)),!((N=f[x.key])!=null&&N.length)&&a.jsx("p",{className:"text-xs text-slate-500",children:"No shipments in this column."})]})]},x.key)})})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx(Yu,{title:"Exception log",subtitle:"Shipments requiring attention",children:a.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:[p.map(x=>a.jsxs("div",{className:"rounded-xl border border-amber-100 bg-amber-50/80 p-3 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-amber-800",children:x.trackingNumber||`Shipment #${x.id}`}),a.jsx("span",{className:"text-xs text-amber-600",children:x.complianceStatus!=="APPROVED"?"Compliance pending":"ETA lapsed"})]}),a.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:[x.fromLocation,"  ",x.toLocation]}),a.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["ETA ",x.estimatedDelivery?new Date(x.estimatedDelivery).toLocaleString():"N/A"]})]},x.id)),!p.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No open exceptions "})]})}),a.jsxs(Yu,{title:"Driver readiness",subtitle:"Transporter contact health",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[a.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:sl(h.summary.total)})]}),a.jsxs("div",{className:"rounded-xl bg-emerald-50 p-3",children:[a.jsx("p",{className:"text-xs uppercase text-emerald-600",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:sl(h.summary.active)})]}),a.jsxs("div",{className:"rounded-xl bg-rose-50 p-3",children:[a.jsx("p",{className:"text-xs uppercase text-rose-600",children:"Inactive"}),a.jsx("p",{className:"text-2xl font-bold text-rose-700",children:sl(h.summary.inactive)})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-2",children:"Flagged drivers"}),a.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:[h.flaggedDrivers.map(x=>a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50 p-2 text-xs",children:[a.jsxs("p",{className:"font-semibold text-slate-800",children:[x.name," ",a.jsxs("span",{className:"text-slate-500",children:["(",x.vendor,")"]})]}),a.jsxs("p",{className:"text-slate-500",children:["Phone: ",x.phone||"N/A"]})]},x.id)),!h.flaggedDrivers.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"All drivers healthy."})]})]})]})]}),a.jsx(Yu,{title:"Quote turnaround",subtitle:"Last 7 days",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{className:"rounded-xl bg-slate-50 p-4 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Responses collected"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900",children:sl(g.responsesCollected)})]}),a.jsxs("div",{className:"rounded-xl bg-emerald-50 p-4 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-emerald-600",children:"Avg response time"}),a.jsxs("p",{className:"text-3xl font-bold text-emerald-700",children:[g.averageResponseHours,"h"]})]}),a.jsxs("div",{className:"rounded-xl bg-amber-50 p-4 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-amber-600",children:"Pending quotes"}),a.jsx("p",{className:"text-3xl font-bold text-amber-700",children:sl(g.pendingQuotes)})]})]})})]})},Rr=e=>new Intl.NumberFormat("en-IN").format(e||0),joe=()=>{var P,S,E;const{api:e,user:t}=ke(),[n,r]=A.useState(null),[i,s]=A.useState(!0),[l,c]=A.useState(""),d=["TRANSPORTER","AGENT","COMPANY_ADMIN","SUPER_ADMIN"].includes(t==null?void 0:t.role),f=!!(t!=null&&t.vendorId),[p,h]=A.useState([]),[g,j]=A.useState(t!=null&&t.vendorId?String(t.vendorId):"");if(A.useEffect(()=>{let C=!0;return(async()=>{var I,M;if(!d){s(!1);return}if(!f&&!g){s(!1);return}try{const R=g?`/transporter/analytics/overview?vendorId=${g}`:"/transporter/analytics/overview",F=await e.get(R);C&&r(F.data)}catch(R){C&&c(((M=(I=R.response)==null?void 0:I.data)==null?void 0:M.error)||"Failed to load transporter analytics.")}finally{C&&s(!1)}})(),()=>{C=!1}},[e,d,f,g]),A.useEffect(()=>{if(!(!f&&["COMPANY_ADMIN","SUPER_ADMIN"].includes(t==null?void 0:t.role)))return;let T=!0;return(async()=>{var M,R,F,W,z;try{const V=await e.get(`/admin/vendors/list?ts=${Date.now()}`);T&&(h(((M=V.data)==null?void 0:M.vendors)||[]),!g&&((F=(R=V.data)==null?void 0:R.vendors)!=null&&F.length)&&j(String(V.data.vendors[0].id)))}catch(V){T&&c(((z=(W=V.response)==null?void 0:W.data)==null?void 0:z.error)||"Failed to load vendors.")}})(),()=>{T=!1}},[e,f,g,t==null?void 0:t.role]),!d)return a.jsx("p",{className:"text-sm text-slate-500",children:"Transporter dashboard is limited to transporter roles."});if(i)return a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm text-slate-500",children:"Loading transporter overview"});if(l)return a.jsx("div",{className:"rounded-2xl border border-rose-100 bg-white p-6 shadow-sm text-rose-600 font-medium",children:l});const{quotePipeline:x={pending:0,responded:0,approved:0,declined:0,backlog:[]},assignmentQueue:v=[],performance:N={},driverCompliance:y={}}=n||{},_=A.useMemo(()=>v.filter(C=>C.status!=="DELIVERED"),[v]),w=A.useMemo(()=>v.filter(C=>C.status==="DELIVERED"),[v]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-500 font-semibold",children:"Transporter console"}),a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Pipeline & assignments"})]}),p.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm flex flex-wrap items-center gap-3",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Select vendor"}),a.jsx("select",{value:g,onChange:C=>j(C.target.value),className:"rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:p.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))})]}),!n&&!i&&g&&a.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:"No analytics available for the selected vendor yet."}),n&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm text-center",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Pending quotes"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900",children:Rr(x.pending)})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm text-center",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Responded"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:Rr(x.responded)})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm text-center",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Approved"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Rr(x.approved)})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm text-center",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Declined"}),a.jsx("p",{className:"text-3xl font-bold text-rose-600",children:Rr(x.declined)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Quote backlog"}),a.jsxs("div",{className:"mt-4 space-y-2 max-h-72 overflow-y-auto pr-2",children:[x.backlog.map(C=>{var T,I,M;return a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50 p-3 text-sm",children:[a.jsxs("p",{className:"font-semibold text-slate-900",children:[(T=C.quoteRequest)==null?void 0:T.fromLocation,"  ",(I=C.quoteRequest)==null?void 0:I.toLocation]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Created ",new Date(((M=C.quoteRequest)==null?void 0:M.createdAt)||Date.now()).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Expires ",C.expiresAt?new Date(C.expiresAt).toLocaleString():"N/A"]})]},C.id)}),!x.backlog.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No pending invitations."})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Performance"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[a.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Delivered"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:Rr(n.performance.deliveredCount)})]}),a.jsxs("div",{className:"rounded-xl bg-emerald-50 p-3 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-emerald-600",children:"POD compliance"}),a.jsxs("p",{className:"text-2xl font-bold text-emerald-700",children:[n.performance.podCompliance||0,"%"]})]}),a.jsxs("div",{className:"rounded-xl bg-indigo-50 p-3 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-indigo-600",children:"Active jobs"}),a.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:Rr(n.performance.activeAssignments)})]})]}),a.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Avg response time: ",n.performance.averageResponseHours||0,"h"]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assignment queue"}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"In progress"}),a.jsxs("div",{className:"mt-2 space-y-2 max-h-64 overflow-y-auto pr-2",children:[_.map(C=>a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50 p-3 text-sm",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:C.trackingNumber||`Shipment #${C.id}`}),a.jsx("p",{className:"text-xs text-slate-500",children:C.route}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ETA ",C.eta?new Date(C.eta).toLocaleString():"N/A"]})]},C.id)),!_.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No active assignments."})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Delivered"}),a.jsxs("div",{className:"mt-2 space-y-2 max-h-64 overflow-y-auto pr-2",children:[w.map(C=>a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-white p-3 text-sm",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:C.trackingNumber||`Shipment #${C.id}`}),a.jsx("p",{className:"text-xs text-slate-500",children:C.route}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Delivered ",C.deliveryTime?new Date(C.deliveryTime).toLocaleString():"N/A"]})]},C.id)),!w.length&&a.jsx("p",{className:"text-xs text-slate-500",children:"No delivered jobs yet."})]})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Driver compliance"}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:Rr(y.totalDrivers)})]}),a.jsxs("div",{className:"rounded-xl bg-emerald-50 p-3 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-emerald-600",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:Rr(y.activeDrivers)})]}),a.jsxs("div",{className:"rounded-xl bg-rose-50 p-3 text-center",children:[a.jsx("p",{className:"text-xs uppercase text-rose-600",children:"Flagged"}),a.jsx("p",{className:"text-2xl font-bold text-rose-700",children:Rr(((P=y.flaggedDrivers)==null?void 0:P.length)||0)})]})]}),a.jsxs("div",{className:"mt-4 space-y-2 max-h-48 overflow-y-auto pr-2 text-sm",children:[(S=y.flaggedDrivers)==null?void 0:S.map(C=>a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50 p-3",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:C.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Phone: ",C.phone||"N/A"]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["License: ",C.licenseNumber||"Missing"]})]},C.id)),!((E=y.flaggedDrivers)!=null&&E.length)&&a.jsx("p",{className:"text-xs text-slate-500",children:"All drivers have up-to-date information."})]})]})]})]})},Noe=e=>{switch(e){case"SUPER_ADMIN":return"/super-admin/dashboard";case"COMPANY_ADMIN":case"USER":return"/dashboard";case"OPERATIONS":return"/operations";case"FINANCE_APPROVER":return"/finance";case"TRANSPORTER":return"/transporter/inbox";default:return"/dashboard"}},ct=({children:e,requiredRole:t,requiredPermission:n,redirectTo:r="/login"})=>{const{isAuthenticated:i,loading:s,user:l}=ke();return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(De,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i?(l==null?void 0:l.role)==="SUPER_ADMIN"?e:t&&!(Array.isArray(t)?t:[t]).includes(l==null?void 0:l.role)?a.jsx(_r,{to:r,replace:!0}):n&&!((l==null?void 0:l.permissions)||[]).includes(n)?a.jsx(_r,{to:r,replace:!0}):e:a.jsx(_r,{to:r,replace:!0})},Soe=()=>{const{isAuthenticated:e,loading:t,user:n}=ke();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(De,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?a.jsx(_r,{to:Noe(n==null?void 0:n.role),replace:!0}):a.jsx(_r,{to:"/login",replace:!0})},Poe=typeof window<"u"&&window.location.protocol==="file:"?XL:YL,Aoe=()=>a.jsx(k5,{children:a.jsx(M5,{children:a.jsx(Poe,{children:a.jsxs(UL,{children:[a.jsx(We,{path:"/login",element:a.jsx(LR,{})}),a.jsx(We,{path:"/register",element:a.jsx(IR,{})}),a.jsx(We,{path:"/forgot-password",element:a.jsx(RR,{})}),a.jsx(We,{path:"/reset-password",element:a.jsx($R,{})}),a.jsx(We,{path:"/",element:a.jsx(Soe,{})}),a.jsxs(We,{element:a.jsx(ct,{children:a.jsx(V$,{})}),children:[a.jsx(We,{path:"/dashboard",element:a.jsx(ct,{requiredRole:["COMPANY_ADMIN","FINANCE_APPROVER","OPERATIONS","TRANSPORTER","USER"],children:a.jsx(b$,{})})}),a.jsx(We,{path:"/calculate",element:a.jsx(ct,{requiredPermission:"CALCULATE_SHIPMENT",redirectTo:"/dashboard",children:a.jsx(l$,{})})}),a.jsx(We,{path:"/select-vendor",element:a.jsx(ct,{requiredPermission:"CALCULATE_SHIPMENT",redirectTo:"/dashboard",children:a.jsx(u$,{})})}),a.jsx(We,{path:"/shipments/:id",element:a.jsx(ct,{requiredRole:["COMPANY_ADMIN","FINANCE_APPROVER","OPERATIONS","TRANSPORTER","USER"],children:a.jsx(A$,{})})}),a.jsx(We,{path:"/admin/agreements",element:a.jsx(ct,{requiredRole:"COMPANY_ADMIN",children:a.jsx(Y$,{})})}),a.jsx(We,{path:"/admin/users",element:a.jsx(ct,{requiredRole:"COMPANY_ADMIN",children:a.jsx(Gse,{})})}),a.jsx(We,{path:"/admin/vendors",element:a.jsx(ct,{requiredRole:"COMPANY_ADMIN",children:a.jsx(Xse,{})})}),a.jsx(We,{path:"/admin/compliance",element:a.jsx(ct,{requiredRole:"COMPANY_ADMIN",children:a.jsx(toe,{})})}),a.jsx(We,{path:"/admin/analytics",element:a.jsx(ct,{requiredRole:["COMPANY_ADMIN","FINANCE_APPROVER"],children:a.jsx(Hse,{})})}),a.jsx(We,{path:"/company/users",element:a.jsx(ct,{requiredRole:"COMPANY_ADMIN",children:a.jsx(poe,{})})}),a.jsx(We,{path:"/company/settings",element:a.jsx(ct,{requiredRole:"COMPANY_ADMIN",children:a.jsx(moe,{})})}),a.jsx(We,{path:"/finance",element:a.jsx(ct,{requiredRole:["COMPANY_ADMIN","FINANCE_APPROVER"],children:a.jsx(VA,{})})}),a.jsx(We,{path:"/operations",element:a.jsx(ct,{requiredRole:["COMPANY_ADMIN","OPERATIONS"],children:a.jsx(_oe,{})})}),a.jsx(We,{path:"/agent/kyc",element:a.jsx(ct,{requiredRole:["OPERATIONS","COMPANY_ADMIN","SUPER_ADMIN"],children:a.jsx(uoe,{})})}),a.jsx(We,{path:"/account/security",element:a.jsx(ct,{children:a.jsx(woe,{})})}),a.jsx(We,{path:"/quotes",element:a.jsx(ct,{requiredRole:["USER","COMPANY_ADMIN","SUPER_ADMIN"],redirectTo:"/dashboard",children:a.jsx(roe,{})})}),a.jsx(We,{path:"/transporter/inbox",element:a.jsx(ct,{requiredRole:["TRANSPORTER","COMPANY_ADMIN","SUPER_ADMIN"],redirectTo:"/dashboard",children:a.jsx(ooe,{})})}),a.jsx(We,{path:"/transporter/dashboard",element:a.jsx(ct,{requiredRole:["TRANSPORTER","COMPANY_ADMIN","SUPER_ADMIN"],redirectTo:"/dashboard",children:a.jsx(joe,{})})}),a.jsx(We,{path:"/transporter/drivers",element:a.jsx(ct,{requiredRole:["TRANSPORTER","COMPANY_ADMIN","SUPER_ADMIN"],redirectTo:"/dashboard",children:a.jsx(foe,{})})}),a.jsx(We,{path:"/super-admin/dashboard",element:a.jsx(ct,{requiredRole:"SUPER_ADMIN",children:a.jsx(goe,{})})}),a.jsx(We,{path:"/super-admin/companies",element:a.jsx(ct,{requiredRole:"SUPER_ADMIN",children:a.jsx(xoe,{})})}),a.jsx(We,{path:"/super-admin/company-users",element:a.jsx(ct,{requiredRole:"SUPER_ADMIN",children:a.jsx(voe,{})})}),a.jsx(We,{path:"/super-admin/platform-users",element:a.jsx(ct,{requiredRole:"SUPER_ADMIN",children:a.jsx(yoe,{})})})]}),a.jsx(We,{path:"*",element:a.jsx(_r,{to:"/",replace:!0})})]})})})});Wm.createRoot(document.getElementById("root")).render(a.jsx(A.StrictMode,{children:a.jsx(Aoe,{})}));
